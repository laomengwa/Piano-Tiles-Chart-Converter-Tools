<!DOCTYPE html>
<html oncontextmenu="return false" ; onselectstart="return false" id="esc" ondrop="drop(event)" ondragover="allowDrop(event)">

<head>
	<meta charset="utf-8" name="viewport"
		content="width=device-width,initial-scale=1,maximum-scale=1.0,minimum-scale=1,user-scalable=no">

	<title>é’¢ç´å—è°±é¢è½¬æ¢å™¨</title>

</head>

<body style="text-align:center;cursor:default;width:100%;overflow:hidden;" class="container" id="bodyid">
	<progress class="progress" id="progress" value="0" max="100" onclick="progressoff()"></progress>
	<b class="progress1" id="progress3" onclick="progressoff()">å·²å®Œæˆ <b id="progress1">0</b> %ï¼Œç”¨æ—¶ <b id="progress2">0</b>
		ç§’ã€‚</b>
	<div class="top">
		<button onclick="menu()" id="id16" class="button3" tabindex="-1">
			â˜°
		</button>
		<b id="title">è°±é¢è½¬æ¢å™¨ 0.2.3-Dev (<b id="detectos"></b>,<b id="explorer"></b>)</b>
		<button class="button10" onclick="next()" id="id22" tabindex="-1">
			â–¶
		</button>
	</div>
	<div class="mute"></div>
	<div class="slidemute" id="id3" onclick="menu()"></div>
	<div class="slide" style="overflow-y:auto" id="id1">
		<div class="diva" style="text-align:left">
			<div class="logo">
				<h1 style="text-align:center;color:#000000">é’¢ç´å—è°±é¢è½¬æ¢</h1>
			</div>
			<div class="divb" tabindex="-1" id="move1">
				BPM
				<textarea onkeydown="if(event.keyCode==13){return false;}" class="button8" tabindex="-1" id="bpm"
					autofocus="autofocus" placeholder="æ ¼å¼ï¼šâ€œ120;120,120,120,â€œ" onclick="lock();fb1=1;"></textarea>
			</div>
			<div class="divb" onkeydown="if(event.keyCode==13){return false;}" tabindex="-1" id="move2">
				åŸºç¡€èŠ‚æ‹
				<textarea class="button6" tabindex="-1" id="beats" autofocus="autofocus" placeholder="æ ¼å¼ï¼šâ€œ0.5;0.5;0.5;â€œ"
					onclick="lock();fb1=2;"></textarea>
			</div>
			<div class="divb" onkeydown="if(event.keyCode==13){return false;}" tabindex="-1" id="move3">åŠ é€Ÿåº¦<textarea
					autofocus="autofocus" class="button7" id="acc" tabindex="-1" onclick="lock();fb1=3;"></textarea>
			</div>
			<div class="divb" tabindex="-1" id="move4">
				è¯·é€‰æ‹©æ¸¸æˆ
				<select id="games" class="button2" tabindex="-1" onchange="key_select()">

					<option value="mak" class="button2">
						Malody Key

					</option>

					<option value="mas" class="button1">
						Malody Slide

					</option>

					<option value="om" class="button2">
						osu!mania

					</option>

				</select>

			</div>

			<div class="divb" tabindex="-1" id="move5">

				è½¨é“æ•°é‡

				<select id="key" class="button2" tabindex="-1">
				</select>
			</div>
			<div class="divb" tabindex="-1" id="move6">
				<div class='checkbox'>
					<input type="checkbox" id="continue" tabindex="-1">
					<label for='continue'>çºµè¿</label>
				</div>
			</div>
			<div class="divb" tabindex="-1" id="move7">
				<div class='checkbox'>
					<input type="checkbox" id="manual" tabindex="-1">
					<label for='manual'>æ‰‹åŠ¨å¡«å†™BPMå’ŒåŸºç¡€èŠ‚æ‹</label>
				</div>
			</div>
			<div class="divb" onclick="note()" style="cursor:pointer" tabindex="-1" id="move8">
				éŸ³ç¬¦æŒ‰é”®ç©æ³•è®¾ç½®
			</div>
			<a class="divb" id="move9" target="_blank" href="https://space.bilibili.com/46345895"
				tabindex="-1">ç¨‹åºæœ‰BUGï¼Ÿåé¦ˆ</a>
			<div class="divb" id="move10" style="cursor:pointer" onclick="about()" tabindex="-1">å…³äº</div>
			<div class="divb" style="cursor:pointer" id="isFull" onclick="isFull()" tabindex="-1">å…¨å±</div>
			<div style="text-align:left;cursor:pointer" id="move11" class="divb" onclick="id0()" tabindex="-1">è¯­è¨€è®¾ç½®
			</div>
			<a class="divb" tabindex="-1" id="move12" style="text-align:left;" target="_blank"
				href="https://github.com/laomengwa/mengwa113">çš®è‚¤ä¸‹è½½</a>
			<p style="text-align:center;cursor:default"><span style="color:#fff;">å–µå–µå–µ(=ãƒ»Ï‰ãƒ»=)</span></p>
		</div>
	</div>
	<p>
		<input class="button1" type="file" id="file" tabindex="-1" accept=".json,.mid,.midi,.kar,.sty,.krx,.rmi">

		<button class="button1" onclick="Function2()" id="id20" tabindex="-1">è½¬æ¢</button>

	</p>

	<textarea onkeydown="if(event.keyCode==13){return false;}" class="button" rows="10" cols="30" id="input"
		onclick="lock();fa1=1;fc1=2;" placeholder="é€‰æ‹©æ–‡ä»¶è½¬æ¢åä»¥æ˜¾ç¤ºâ€¦â€¦" tabindex="-1"></textarea>

	<textarea onkeydown="if(event.keyCode==13){return false;}" class="button" rows="10" cols="30" id="result"
		onclick="lock();fa1=2;fd1=2;" placeholder="è¾“å‡ºç»“æœå°†åœ¨æ­¤æ˜¾ç¤ºâ€¦â€¦" tabindex="-1"></textarea>

	<p>
	<div class="warning_5"><b id="warning_sound">â™®æ­£å¸¸</b></div>
	<button class="button1" onclick="next()" id="id21" tabindex="-1">ä¸‹ä¸€æ­¥æ“ä½œ</button>
	</p>
	<noscript>
		<strong style="color:red">
			è­¦å‘Šï¼šæ­¤æµè§ˆå™¨ä¸æ”¯æŒJavaScriptï¼Œè¯¥è„šæœ¬æ— æ³•è¿è¡Œï¼è¯·æ£€æŸ¥å½“å‰æµè§ˆå™¨æ˜¯å¦å¯ç”¨JavaScriptï¼Œç„¶åé‡è¯•ï¼
		</strong>
	</noscript>
	<div class="mask" id='mask' style="opacity: 0.5;"></div>
	<div class="box1" id='note' style="left: 10%; top: 10%;">
		<div class="icon">âš™</div>
		<div class="icon1"><b>éŸ³ç¬¦æŒ‰é”®ç©æ³•è®¾ç½®</b></div>
		<div class="boxoff" id="boxoff1" onclick="hidder()" tabindex="-1">Ã—</div>
		<div class="mute1"></div>
		<div class="container1" style="text-align: left;overflow-y:auto;">
			<p style="color:#555">è®¾ç½®æ¸¸æˆç©æ³•çš„å¯ç”¨æ–¹å¼ï¼š</p>
			<div class='checkbox'>
				<input type="checkbox" id="note1" checked="checked" tabindex="-1"><label for='note1'>é•¿æŒ‰ï¼ˆä»£å·ï¼š6ï¼‰</label>
			</div>
			<div class='checkbox'>
				<input type="checkbox" id="note2" checked="checked" tabindex="-1"><label for='note2'>åŒé»‘ï¼ˆä»£å·ï¼š5ï¼‰</label>
			</div>
			<div class='checkbox'>
				<input type="checkbox" id="note3" checked="checked" tabindex="-1"><label for='note3'>æ»‘åŠ¨ï¼ˆä»£å·ï¼š8ï¼‰</label>
			</div>
			<div class='checkbox'>
				<input type="checkbox" id="note4" checked="checked" tabindex="-1"><label for='note4'>æ»‘åŠ¨ï¼ˆä»£å·ï¼š7ï¼‰</label>
			</div>
			<div class='checkbox'>
				<input type="checkbox" id="note5" checked="checked" tabindex="-1"><label for='note5'>é•¿æŒ‰+é»‘å—ï¼ˆä»£å·ï¼š9ï¼‰</label>
			</div>
			<div class='checkbox'>
				<input type="checkbox" id="note6" checked="checked" tabindex="-1"><label
					for='note6'>åŒé•¿æŒ‰+æ©™è‰²å—/é»‘å—ï¼ˆä»£å·ï¼š10ï¼‰</label>
			</div>
			<div class='checkbox'>
				<input type="checkbox" id="note7" checked="checked" tabindex="-1"><label for='note7'>æ©™è‰²å—ï¼ˆä»£å·ï¼š3ï¼‰</label>
			</div>
			<div class="icon2">âš™</div>
			<div class="icon3">Malody Slide æ¨¡å¼çš„éŸ³ç¬¦å®½åº¦</div><br>
			<p><textarea onkeydown="if(event.keyCode==13){return false;}" class="button9" tabindex="-1" id="notewidth"
					autofocus="autofocus" placeholder="æ ¼å¼ä¾‹å¦‚ï¼šâ€œ64-128â€œ" onclick="lock();fh1=8;">64</textarea></p>
			<p>
			<div class='checkbox'>
				<input type="checkbox" id="sound" checked="checked" tabindex="-1"><label for='sound'>å¯ç”¨éŸ³ç¬¦éŸ³é¢‘è¾“å‡º</label>
			</div>
			<br>
			<div class='checkbox'>
				<input type="checkbox" id="reverse" tabindex="-1"><label for='reverse'>æ­Œæ›²é€†å‘æ’­æ”¾</label>
			</div>
			<button class="button1" id="soundup" onclick="soundup()" tabindex="-1">å‡è°ƒ</button>
			<button class="button1" id="sounddown" onclick="sounddown()" tabindex="-1">é™è°ƒ</button>
			<b id="soundshow">æ­£å¸¸</b><br>
			è¾“å‡ºçš„éŸ³é‡å¤§å°<input tabindex="-1" id="vol" class="vol" type="range" min="0" max="100" value="100"
				oninput="vol2()"><b id="volshow"></b>
			<br>
			<div class='checkbox'>
				<input type="checkbox" id="note8" tabindex="-1"><label for='note8'>åŒé»‘éŸ³ç¬¦ä½ç½®éšæœºæ‘†æ”¾</label>
			</div>
			<div class='checkbox'>
				<input type="checkbox" id="note9" tabindex="-1"><label for='note9'>å–æ¶ˆåŒé»‘æ¥¼æ¢¯å¼æ‘†æ”¾</label>
			</div>
			<p style="color:#555">
				æ³¨ï¼šä»£å·ä¸º8çš„ç©æ³•åœ¨åŸæ¸¸æˆä¸­ä¸ºæŠ˜å æ»‘å—ï¼Œä»…å¯¹ Malody Slide æ¨¡å¼æœ‰æ•ˆï¼›ä»£å·ä¸º10çš„ç©æ³•åœ¨åŸæ¸¸æˆä¸ºçˆ†è£‚å—ï¼›ä»£å·ä¸º7çš„ç©æ³•åœ¨åŸæ¸¸æˆä¸ºå•å‘æ–œæ»‘å—ï¼Œåœ¨é Malody Slide
				æ¨¡å¼ä¸‹ä¸ºé•¿æŒ‰ç©æ³•ï¼›ä»£å·ä¸º3çš„ç©æ³•åœ¨åŸæ¸¸æˆä¸­ä¸ºç‹‚æˆ³å—ï¼Œä»…å¯¹ Malody Slide æ¨¡å¼æœ‰æ•ˆã€‚æ³¨æ„ï¼Œå¯¹æ¸¸æˆæ— æ•ˆçš„éŸ³ç¬¦ç©æ³•ä¸€å¾‹ä¸å¯ç”¨ã€‚<br>
			<div class="button4" id="ok1" onclick="hidder()" style="text-align: center;" tabindex="-1">ç¡®å®š</div>
		</div>
	</div>
	<div class="box" id='lang' style="left: 20%; top: 25%;">
		<div class="icon">âš™</div>
		<div class="icon1"><b>è¯­è¨€è®¾ç½®</b></div>
		<div class="boxoff" id="boxoff3" onclick="hidder()" tabindex="-1">Ã—</div>
		<div class="mute1"></div>
		<div class="container1" style="text-align: left;overflow-y:auto;">
			<p style="color:#555">è¯·é€‰æ‹©ï¼š</p>
			<div id="zh_cn" class="button5" onclick="zh_tran('s')" style="text-align: left;" tabindex="-1">ğŸ‡¨ğŸ‡³ç®€ä½“ä¸­æ–‡
			</div>
			<div id="zh_tw" class="button5" onclick="zh_tran('t')"
				style="text-align: left;border-radius: 5px 5px 0px 0px;" tabindex="-1">ğŸ‡¨ğŸ‡³ç¹é«”ä¸­æ–‡</div>
		</div>
		<div class="button4" id="ok3" onclick="hidder()" style="text-align: center;" tabindex="-1">ç¡®å®š</div>
	</div>
	<div class="box" id='select' style="left: 20%; top: 25%">
		<div class="icon">?</div>
		<div class="icon1"><b>å°ç¨‹åºæ­Œæ›²é€‰æ‹©</b></div>
		<div class="boxoff" id="boxoff4" onclick="hidder()" tabindex="-1">Ã—</div>
		<div class="mute1"></div>
		<div class="container1" style="text-align: left;overflow-y:auto;height:1200%">
			<p style="color:#555">é€‰æ‹©ä½ æƒ³è½¬æ¢çš„æ­Œæ›²ï¼ˆé€‰æ‹©å®Œæ¯•åå…³é—­çª—å£å³å¯ï¼‰ï¼š</p>
			<div id="songselect"></div>
		</div>
		<div class="button4" onclick="hidder()" style="text-align: center;" tabindex="-1" id="boxoff6">å…³é—­</div>
	</div>
	<div class="box" id='next' style="left: 20%; top: 25%">
		<div class="icon">âš™</div>
		<div class="icon1"><b>ä¸‹ä¸€æ­¥çš„æ“ä½œ</b></div>
		<div class="boxoff" id="boxoff5" onclick="hidder()">Ã—</div>
		<div class="mute1"></div>
		<div class="container1" style="text-align: left;overflow-y:auto;border-radius: 0%;">
			<p style="color:#555"><b>æ¥å®Œå–„æ­Œæ›²çš„ä¿¡æ¯ï¼ˆä¹Ÿå¯ä»¥ä¸ç”¨å…¨éƒ¨å¡«å†™ï¼‰ï¼š</b></p>
			<p style="color:#555">æ­Œæ›²åï¼š<textarea onkeydown="if(event.keyCode==13){return false;}" class="button9"
					id="notewidth" autofocus="autofocus" placeholder="è¯·è¾“å…¥ï¼š"></textarea></p>
			<p style="color:#555">æ ‡é¢˜åŸæ–‡ï¼š<textarea onkeydown="if(event.keyCode==13){return false;}" class="button9"
					id="notewidth" autofocus="autofocus" placeholder="è¯·è¾“å…¥ï¼š"></textarea></p>
			<p style="color:#555">è‰ºæœ¯å®¶ï¼š<textarea onkeydown="if(event.keyCode==13){return false;}" class="button9"
					id="notewidth" autofocus="autofocus" placeholder="è¯·è¾“å…¥ï¼š"></textarea></p>
			<p style="color:#555">è‰ºæœ¯å®¶åŸæ–‡ï¼š<textarea onkeydown="if(event.keyCode==13){return false;}" class="button9"
					id="notewidth" autofocus="autofocus" placeholder="è¯·è¾“å…¥ï¼š"></textarea></p>
			<p style="color:#555">è°±é¢ä½œè€…ï¼š<textarea onkeydown="if(event.keyCode==13){return false;}" class="button9"
					id="notewidth" autofocus="autofocus" placeholder="è¯·è¾“å…¥ï¼š"></textarea></p>
			<p style="color:#555">è°±é¢ç‰ˆæœ¬/éš¾åº¦ï¼š<textarea onkeydown="if(event.keyCode==13){return false;}" class="button9"
					id="notewidth" autofocus="autofocus" placeholder="è¯·è¾“å…¥ï¼š"></textarea></p>
			<p style="color:#555">osu!æ­Œæ›²æ ‡ç­¾ï¼š<textarea onkeydown="if(event.keyCode==13){return false;}" class="button9"
					id="notewidth" autofocus="autofocus" placeholder="è¯·è¾“å…¥ï¼š"></textarea></p>
			<p style="color:#555">èƒŒæ™¯å›¾ç‰‡ï¼š<textarea onkeydown="if(event.keyCode==13){return false;}" class="button9"
				id="notewidth" autofocus="autofocus" placeholder="è¾“å…¥å›¾ç‰‡æ–‡ä»¶åå°±è¡Œï¼Œéå¿…å¡«ï¼š"></textarea></p>
			<p style="color:#555">èƒŒæ™¯éŸ³ä¹ï¼š<textarea onkeydown="if(event.keyCode==13){return false;}" class="button9"
				id="notewidth" autofocus="autofocus" placeholder="è¾“å…¥éŸ³é¢‘æ–‡ä»¶åå°±è¡Œï¼Œéå¿…å¡«ï¼š"></textarea></p>
		</div>
		<div class="button12" id="ok5" onclick="hidder();setTimeout(function(){view_window();},100);"
			style="text-align: center;">è°±é¢é¢„è§ˆ</div>
		<div class="button11" id="ok5" onclick="outputfile()" style="text-align: center;">å¯¼å‡º</div>
	</div>
	<div class="box" id='view_window' style="left: 20%; top: 25%" ondblclick="window_max();";>
		<div class="icon">âš™</div>
		<div class="icon1"><b>è°±é¢é¢„è§ˆ</b></div>
		<div class="boxmax" id="boxmax2" onclick="window_max();">â–¡</div>
		<div class="boxoff" id="boxoff5" onclick="hidder()">Ã—</div>
		<div class="mute1"></div>
		<div class="container1" style="text-align: left;overflow-y:auto;border-radius: 0%;">
			<div id="view" style="width: 256px;height:456px;border:1px solid #555;"></div>
		</div>
	</div>
	<div class="box" id='box' style="left: 20%; top: 25%;">
		<div class="icon">?</div>
		<div class="icon1"><b>å…³äº</b></div>
		<div class="boxoff" id="boxoff2" onclick="hidder()" tabindex="-1">Ã—</div>
		<div class="mute1"></div>
		<div class="container1" style="text-align:left;overflow-y:auto;cursor:default;color:#555">
			<p>
				è¯¥è„šæœ¬å¯ä½¿ Piano Tiles çš„éŸ³ä¹æ›²è°±æ–‡ä»¶è½¬æ¢æˆå…¶ä»–éŸ³ä¹æ¸¸æˆå¯ä»¥è¯»å–çš„æ›²è°±æ ¼å¼ã€‚<br />è„šæœ¬é€‚ç”¨çš„éŸ³ä¹æ¸¸æˆæœ‰ï¼š OSU!Mania,Malody<br />æ„Ÿè°¢ Runoob ç½‘ç«™ã€CSDN
				ç½‘ç«™ã€W3School ç½‘ç«™ä»¥åŠMozilla MDN æ–‡æ¡£å¯¹è¯¥è„šæœ¬çš„é¡µé¢å¸ƒå±€ä½œä¸ºå‚è€ƒã€‚<br />å°æç¤ºï¼šä½ å¯ä»¥é€šè¿‡é¼ æ ‡æ‹–åŠ¨çª—å£ï¼Œé€šè¿‡æ‰‹åŠ¿æ§åˆ¶èœå•æ çš„å±•å¼€ã€‚<br />Script Version:
				0.2.3 (Dev)<br />Copyright by mengwa.<br />
				<b>æµè§ˆå™¨å±æ€§ä¿¡æ¯ï¼š</b><b id=explore></b>
			</p>
			<noscript>
				<strong style="color:red">
					è­¦å‘Šï¼šæ­¤æµè§ˆå™¨ä¸æ”¯æŒJavaScriptï¼Œè¯¥è„šæœ¬æ— æ³•è¿è¡Œï¼è¯·æ£€æŸ¥å½“å‰æµè§ˆå™¨æ˜¯å¦å¯ç”¨JavaScriptï¼Œç„¶åé‡è¯•ï¼
				</strong>
			</noscript>
			<div class="button4" id="ok2" onclick="hidder()" tabindex="-1" style="text-align: center;">ç¡®å®š</div>
		</div>
	</div>
	<div class="warning" id="warning"
		onclick="document.getElementById('warning').style.animation='warning_2 0.1s';document.getElementById('warning').style.width='0%';document.getElementById('warning').style.height='0px';document.getElementById('warning').style.left='50%';warning.innerHTML = '';warnoff();fk1=false;">
	</div>
</body>

</html>
<style>
	.button {
		resize: none;
		background-color: #f4f5f7;
		border: 1px solid #e9eaec;
		font: 14px -apple-system, BlinkMacSystemFont, Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, sans-serif;
		overflow: auto;
		border-radius: 4px;
		color: #555;
		padding: 5px 10px;
		font-size: 12px;
	}

	.button8 {
		resize: none;
		background-color: #f4f5f7;
		border: 1px solid #e9eaec;
		font: 14px -apple-system, BlinkMacSystemFont, Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, sans-serif;
		overflow: auto;
		border-radius: 4px;
		color: #555;
		padding: 5px 10px;
		font-size: 12px;
		height: 12px;
		width: 160px;
	}

	.button9 {
		resize: none;
		background-color: #ddd;
		border: 2px solid #999;
		font: 14px -apple-system, BlinkMacSystemFont, Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, sans-serif;
		overflow: auto;
		border-radius: 4px;
		color: #555;
		padding: 5px 10px;
		font-size: 12px;
		height: 12px;
	}

	.button6 {
		resize: none;
		background-color: #f4f5f7;
		border: 1px solid #e9eaec;
		font: 14px -apple-system, BlinkMacSystemFont, Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, sans-serif;
		overflow: auto;
		border-radius: 4px;
		color: #555;
		padding: 5px 10px;
		font-size: 12px;
		height: 12px;
		width: 134px;
	}

	.button7 {
		resize: none;
		background-color: #f4f5f7;
		border: 1px solid #e9eaec;
		font: 14px -apple-system, BlinkMacSystemFont, Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, sans-serif;
		overflow: auto;
		border-radius: 4px;
		color: #555;
		padding: 5px 10px;
		font-size: 12px;
		height: 12px;
		width: 152px;
	}

	.button1 {
		resize: none;
		background-color: #FB7299;
		border: 1px solid #e9eaec;
		font: 14px -apple-system, BlinkMacSystemFont, Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, sans-serif;
		overflow: auto;
		border-radius: 4px;
		color: #fff;
		padding: 5px 10px;
		font-size: 12px;
		cursor: pointer;
	}

	.button2 {
		resize: none;
		background-color: #00a1d6;
		border: 1px solid #e9eaec;
		font: 14px -apple-system, BlinkMacSystemFont, Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, sans-serif;
		overflow: auto;
		border-radius: 4px;
		color: #fff;
		padding: 5px 10px;
		font-size: 12px;
		cursor: pointer;
	}

	.container {
		background: #76b9f8;
		font: 14px -apple-system, BlinkMacSystemFont, Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, sans-serif;
	}

	.button3 {
		overflow: hidden;
		resize: none;
		background-color: #FB7299;
		border: 1px solid #ffffff;
		font: 14px -apple-system, BlinkMacSystemFont, Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, sans-serif;
		border-radius: 4px;
		color: #fff;
		padding: 5px 10px;
		font-size: 32px;
		cursor: pointer;
		width: 50px;
		height: 50px;
	}

	.button3:hover {
		background-color: #72fbbb;
	}

	.button10 {
		overflow: hidden;
		position: absolute;
		resize: none;
		background-color: #FB7299;
		border: 1px solid #ffffff;
		font: 14px -apple-system, BlinkMacSystemFont, Helvetica Neue, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, sans-serif;
		right: 0px;
		top: 0px;
		border-radius: 4px;
		color: #fff;
		padding: 5px 10px;
		font-size: 25px;
		cursor: pointer;
		width: 50px;
		height: 50px;
	}

	.button10:hover {
		background-color: #72fbbb;
	}

	.top {
		text-align: left;
		background: #FB7299;
		top: 0;
		position: fixed;
		right: 0;
		left: 0;
	}

	.slide {
		position: fixed;
		left: -250px;
		width: 250px;
		height: 100%;
		background: #ffffff;
	}

	.slidemute {
		position: fixed;
		left: 250px;
		width: 0px;
		height: 100%;
		transition: width 0s;
	}

	@keyframes board_1 {
		0% {
			left: -250px;
			top: 50px;
		}

		100% {
			left: 0px;
			top: 50px;
		}
	}

	@keyframes board_0 {
		0% {
			left: 0px;
			top: 50px;
		}

		100% {
			left: -250px;
			top: 50px;
		}
	}

	.mute {
		width: 0px;
		height: 42px;
	}

	.mute1 {
		width: 60%;
		height: 31px;
	}

	.diva {
		list-style-type: none;
		margin: 0;
		padding: 0;
	}

	.divb {
		display: block;
		color: #000;
		padding: 8px 16px;
		text-decoration: none;
		border-radius: 5px;
		border-bottom: 1px solid #fff;
		border-top: 1px solid #fff;
		background-color: #66ccff;
	}

	.logo {
		display: block;
		color: #000;
		padding: 8px 16px;
		text-decoration: none;
		border-radius: 5px;
		border-bottom: 1px solid #fff;
		border-top: 1px solid #fff;
		background-color: #FB7299;
	}

	.divb:hover {
		background-color: #aaddff;
		color: #FB7299;
	}

	.box {
		position: absolute;
		background: #fff;
		border-radius: 5px 5px 0px 0px;
		border-bottom: 1px solid #aaa;
	}

	.box1 {
		position: absolute;
		background: #fff;
		border-radius: 5px 5px 0px 0px;
		border-bottom: 1px solid #aaa;
	}

	@keyframes board_3 {
		0% {
			width: 0%;
			left: 50%;
			top: 50%;
		}

		100% {
			width: 60%;
			left: 20%;
			top: 25%;
		}
	}

	@keyframes board_4 {
		0% {
			width: 60%;
			left: 20%;
			top: 25%;
		}

		100% {
			width: 0%;
			left: 50%;
			top: 50%;
		}
	}

	@keyframes board_5 {
		0% {
			width: 0%;
			left: 50%;
			top: 50%;
		}

		100% {
			width: 80%;
			left: 10%;
			top: 25%;
		}
	}

	@keyframes board_6 {
		0% {
			width: 80%;
			left: 10%;
			top: 25%;
		}

		100% {
			width: 0%;
			left: 50%;
			top: 50%;
		}
	}

	.mask {
		position: fixed;
		left: 0px;
		top: 0px;
		background: #000;
		width: 100%;
		height: 100%;
	}

	.container1 {
		background-color: #fff;
		width: 100%;
		height: auto;
		border-radius: 0px 0px 5px 5px;
		color: #555;
		cursor: default;
	}

	.boxoff {
		position: absolute;
		width: 40px;
		height: 30px;
		border-radius: 0px 5px 0px 0px;
		background: #fff;
		color: #555;
		right: 0px;
		top: 0px;
		text-align: center;
		font-size: 25px;
		cursor: pointer;
	}

	.boxmax {
		position: absolute;
		width: 40px;
		height: 30px;
		background: #fff;
		color: #555;
		right: 40px;
		top: 0px;
		text-align: center;
		font-size: 25px;
		cursor: pointer;
	}

	.boxmax1 {
		position: absolute;
		right: 10px;
		top: -2px;
		z-index: 0;
	}

	.button4 {
		background-color: #fff;
		border-top: 1px solid #aaa;
		overflow: auto;
		border-radius: 0px 0px 5px 5px;
		color: #555;
		padding: 5px 10px;
		font-size: 16px;
		height: 26px;
		cursor: pointer;
	}

	.button4:hover {
		background-color: #FB7299;
		color: #fff;
	}

	.button11 {
		position: absolute;
		background-color: #fff;
		border-top: 1px solid #aaa;
		border-left: 1px solid #aaa;
		border-radius: 0px 0px 5px 0px;
		color: #555;
		padding: 5px 10px;
		font-size: 16px;
		height: 26px;
		width: 50%;
		right: 0%;
		cursor: pointer;
	}

	.button11:hover {
		background-color: #FB7299;
		color: #fff;
	}

	.button12 {
		position: absolute;
		background-color: #fff;
		border-top: 1px solid #aaa;
		border-radius: 0px 0px 0px 5px;
		color: #555;
		padding: 5px 10px;
		font-size: 16px;
		height: 26px;
		width: 50%;
		left: 0%;
		z-index: 1;
		cursor: pointer;
	}

	.button12:hover {
		background-color: #FB7299;
		color: #fff;
	}

	.button5 {
		background-color: #fff;
		border-top: 1px solid #aaa;
		border-left: 1px solid #aaa;
		border-right: 1px solid #aaa;
		border-radius: 5px;
		color: #555;
		font-size: 16px;
		height: 30px;
		cursor: pointer;
	}

	.button5:hover {
		background-color: #76b9f8;
		color: #fff;
	}

	.boxoff:hover {
		background-color: #FB7299;
		color: #fff;
	}

	.boxmax:hover {
		background-color: #00a1d6;
		color: #fff;
	}

	.icon {
		position: absolute;
		width: 20px;
		height: 20px;
		border-radius: 50px;
		background: #76b9f8;
		color: #fff;
		left: 5px;
		top: 5px;
		text-align: center;
		font-size: 18px;
	}

	.icon1 {
		position: absolute;
		color: #555;
		left: 27px;
		top: 3px;
		text-align: center;
		font-size: 15px;
	}

	.icon2 {
		position: absolute;
		width: 17px;
		height: 17px;
		border-radius: 2px;
		background: #00a1d6;
		color: #fff;
		left: 3px;
		top: 240px;
		border: 2px solid #555;
		text-align: center;
		font-size: 18px;
	}

	.icon3 {
		position: absolute;
		color: #555;
		left: 27px;
		top: 240px;
		text-align: center;
		font-size: 15px;
	}

	.checkbox {
		position: relative;
		height: 24px;
	}

	.checkbox input[type='checkbox'] {
		position: absolute;
		left: 0;
		top: 0;
		width: 20px;
		height: 20px;
	}

	.checkbox label {
		position: absolute;
		left: 30px;
		top: 0;
		height: 20px;
		line-height: 20px;
	}

	.checkbox label:before {
		content: '';
		position: absolute;
		left: -26px;
		top: 3px;
		width: 16px;
		height: 16px;
		border: 2px solid #555;
		border-radius: 2px;
		transition: all 0.1s ease;
		-webkit-transition: all 0.1s ease;
		-moz-transition: all 0.1s ease;
	}

	.checkbox label:after {
		content: '';
		position: absolute;
		left: -20px;
		top: 6px;
		width: 5px;
		height: 10px;
		border: 0;
		transform: rotate(45deg);
		-webkit-transform: rotate(45deg);
		-moz-transform: rotate(45deg);
		-ms-transform: rotate(45deg);
		transition: all 0.1s ease;
		-webkit-transition: all 0.1s ease;
		-moz-transition: all 0.1s ease;
	}

	.checkbox input[type='checkbox']:checked+label:before {
		background: #FB7299;
		border: 2px solid #555;
	}

	.checkbox input[type='checkbox']:checked+label:after {
		background: #FB7299;
		border-right: 3px solid #fff;
		border-bottom: 3px solid #fff;
	}

	.warning {
		display: none;
		position: absolute;
		background-color: #fffd;
		border-radius: 5px;
		color: #555;
		padding: 5px 10px;
		left: 50%;
		bottom: 10%;
		width: 0%;
		height: 0px;
	}

	.warning_5 {
		position: absolute;
		background-color: #fffd;
		border-radius: 5px;
		color: #555;
		padding: 5px 10px;
		z-index: -1;
		width: 50px;
		right: 50%;
		margin-right: 50px;
		height: 16px;
	}

	@keyframes warning_1 {
		0% {
			width: 0%;
			height: 0px;
			left: 50%;
		}

		100% {
			width: 60%;
			height: auto;
			left: 20%;
		}
	}

	@keyframes warning_2 {
		0% {
			width: 60%;
			height: auto;
			left: 20%;
		}

		100% {
			width: 0%;
			height: 0px;
			left: 50%;
		}
	}

	@keyframes warning_3 {
		0% {
			width: 60%;
			height: 20px;
			left: 20%;
		}

		100% {
			width: 0%;
			height: 0px;
			left: 50%;
		}
	}

	@keyframes warning_4 {
		0% {
			width: 0%;
			height: 0px;
			left: 50%;
		}

		100% {
			width: 60%;
			height: 20px;
			left: 20%;
		}
	}

	.vol[type="range"] {
		height: 5px;
		border-radius: 3px;
		position: relative;
		-webkit-appearance: none !important;
		outline: none;
		border: 1px solid #ddd;
	}

	.vol[type=range]::-webkit-slider-thumb {
		-webkit-appearance: none;
		width: 10px;
		height: 20px;
		border-radius: 3px;
		background: #fb7299;
	}

	.vol[type=range]::-moz-range-thumb {
		-webkit-appearance: none;
		width: 10px;
		height: 20px;
		border-radius: 3px;
		background: #fb7299;
	}

	.progress {
		position: absolute;
		display: none;
		border-radius: 5px;
		width: 60%;
		bottom: 20%;
		left: 20%;
		height: 20px;
		border: 2px solid #555;
	}

	.progress1 {
		position: absolute;
		display: none;
		text-align: center;
		bottom: 20%;
		margin-left: -5%;
		font-size: 14px;
		color: #000;
	}

	/*é’ˆå¯¹chromeæµè§ˆå™¨*/
	.progress::-webkit-progress-bar {
		border-radius: 5px;
		background-color: #fff;
	}

	.progress::-webkit-progress-value {
		border-radius: 5px;
		background-color: #fb7299;
	}

	/*é’ˆå¯¹firefoxæµè§ˆå™¨*/
	.progress::-moz-progress-bar {
		border-radius: 5px;
		background-color: #fb7299;
	}
</style>
<script>
	function allowDrop(ev) {
          ev.preventDefault();
        }
    function drop(ev) {
          ev.preventDefault();
          document.getElementById("file").files=ev.dataTransfer.files;
        }
	// ç®€ç¹è½¬æ¢è„šæœ¬æ¥è‡ªäºï¼šhttps://www.cnblogs.com/zsh-blogs/p/10503227.html
	var zh_default = 'n';
	var zh_choose = 'n';
	var zh_expires = 7;
	var zh_class = 'zh_click';
	var zh_style_active = 'font-weight:bold; color:green;';
	var zh_style_inactive = 'color:blue;';
	var zh_browserLang = '';
	var zh_langReg_t = /^zh-tw|zh-hk$/i;
	var zh_langReg_s = /^zh-cn$/i;
	var zh_s = 'ç¡®äºå°†å·çš‘è”¼ç¢çˆ±ç¿±è¢„å¥¥åç½¢æ‘†è´¥é¢åŠç»Šå¸®ç»‘é•‘è°¤å‰¥é¥±å®æŠ¥é²è¾ˆè´é’¡ç‹ˆå¤‡æƒ«ç»·ç¬”æ¯•æ¯™é—­è¾¹ç¼–è´¬å˜è¾©è¾«é³–ç˜ªæ¿’æ»¨å®¾æ‘ˆé¥¼æ‹¨é’µé“‚é©³åœè¡¥å‚èš•æ®‹æƒ­æƒ¨ç¿è‹èˆ±ä»“æ²§å•ä¾§å†Œæµ‹å±‚è¯§æ€æºè‰é¦‹è°—ç¼ é“²äº§é˜é¢¤åœºå°é•¿å¿è‚ å‚ç•…é’è½¦å½»å°˜é™ˆè¡¬æ’‘ç§°æƒ©è¯šéª‹ç—´è¿Ÿé©°è€»é½¿ç‚½å†²è™«å® ç•´è¸Œç­¹ç»¸ä¸‘æ©±å¨é”„é›ç¡€å‚¨è§¦å¤„ä¼ ç–®é—¯åˆ›é”¤çº¯ç»°è¾è¯èµèªè‘±å›±ä»ä¸›å‡‘çªœé”™è¾¾å¸¦è´·æ‹…å•éƒ¸æ¸èƒ†æƒ®è¯å¼¹å½“æŒ¡å…šè¡æ¡£æ£å²›ç¥·å¯¼ç›—ç¯é‚“æ•Œæ¶¤é€’ç¼”ç‚¹å«ç”µæ·€é’“è°ƒè¿­è°å é’‰é¡¶é”­è®¢ä¸œåŠ¨æ ‹å†»æ–—çŠŠç‹¬è¯»èµŒé•€é”»æ–­ç¼å…‘é˜Ÿå¯¹å¨é¡¿é’å¤ºé¹…é¢è®¹æ¶é¥¿å„¿å°”é¥µè´°å‘ç½šé˜€ççŸ¾é’’çƒ¦èŒƒè´©é¥­è®¿çººé£åºŸè´¹çº·åŸå¥‹æ„¤ç²ªä¸°æ«é”‹é£ç–¯å†¯ç¼è®½å‡¤è‚¤è¾æŠšè¾…èµ‹å¤è´Ÿè®£å¦‡ç¼šè¯¥é’™ç›–å¹²èµ¶ç§†èµ£å†ˆåˆšé’¢çº²å²—çš‹é•æé¸½é˜é“¬ä¸ªç»™é¾šå®«å·©è´¡é’©æ²Ÿæ„è´­å¤Ÿè›Šé¡¾å‰å…³è§‚é¦†æƒ¯è´¯å¹¿è§„ç¡…å½’é¾Ÿé—ºè½¨è¯¡æŸœè´µåˆ½è¾Šæ»šé”…å›½è¿‡éª‡éŸ©æ±‰é˜‚é¹¤è´ºæ¨ªè½°é¸¿çº¢åå£¶æŠ¤æ²ªæˆ·å“—åç”»åˆ’è¯æ€€åæ¬¢ç¯è¿˜ç¼“æ¢å”¤ç—ªç„•æ¶£é»„è°æŒ¥è¾‰æ¯è´¿ç§½ä¼šçƒ©æ±‡è®³è¯²ç»˜è¤æµ‘ä¼™è·è´§ç¥¸å‡»æœºç§¯é¥¥è®¥é¸¡ç»©ç¼‰æè¾‘çº§æŒ¤å‡ è“Ÿå‰‚æµè®¡è®°é™…ç»§çºªå¤¹èšé¢Šè´¾é’¾ä»·é©¾æ­¼ç›‘åšç¬ºé—´è‰°ç¼„èŒ§æ£€ç¢±ç¡·æ‹£æ¡ç®€ä¿­å‡èæ§›é‰´è·µè´±è§é”®èˆ°å‰‘é¥¯æ¸æº…æ¶§æµ†è’‹æ¡¨å¥–è®²é…±èƒ¶æµ‡éª„å¨‡æ…é“°çŸ«ä¾¥è„šé¥ºç¼´ç»è½¿è¾ƒç§¸é˜¶èŠ‚èŒæƒŠç»é¢ˆé™é•œå¾„ç—‰ç«å‡€çº å©æ—§é©¹ä¸¾æ®é”¯æƒ§å‰§é¹ƒç»¢æ°æ´ç»“è¯«å±Šç´§é”¦ä»…è°¨è¿›æ™‹çƒ¬å°½åŠ²è†è§‰å†³è¯€ç»é’§å†›éªå¼€å‡¯é¢—å£³è¯¾å¦æ³æŠ åº“è£¤å¤¸å—ä¾©å®½çŸ¿æ—·å†µäºå²¿çª¥é¦ˆæºƒæ‰©é˜”èœ¡è…Šè±æ¥èµ–è“æ æ‹¦ç¯®é˜‘å…°æ¾œè°°æ½è§ˆæ‡’ç¼†çƒ‚æ»¥æåŠ³æ¶ä¹é•­å’ç±»æ³ªç¯±ç¦»é‡Œé²¤ç¤¼ä¸½å‰åŠ±ç ¾å†æ²¥éš¶ä¿©è”è²è¿é•°æ€œæ¶Ÿå¸˜æ•›è„¸é“¾æ‹ç‚¼ç»ƒç²®å‡‰ä¸¤è¾†è°…ç–—è¾½é•£çŒä¸´é‚»é³å‡›èµé¾„é“ƒå‡Œçµå²­é¢†é¦åˆ˜é¾™è‹å’™ç¬¼å„æ‹¢é™‡æ¥¼å¨„æ‚ç¯“èŠ¦å¢é¢…åºç‚‰æ³å¤è™é²èµ‚ç¦„å½•é™†é©´å•é“ä¾£å±¡ç¼•è™‘æ»¤ç»¿å³¦æŒ›å­ªæ»¦ä¹±æŠ¡è½®ä¼¦ä»‘æ²¦çº¶è®ºèç½—é€»é”£ç®©éª¡éª†ç»œå¦ˆç›ç èš‚é©¬éª‚å—ä¹°éº¦å–è¿ˆè„‰ç’é¦’è›®æ»¡è°©çŒ«é”šé“†è´¸ä¹ˆéœ‰æ²¡é•é—¨é—·ä»¬é”°æ¢¦è°œå¼¥è§…ç»µç¼…åº™ç­æ‚¯é—½é¸£é“­è°¬è°‹äº©é’ çº³éš¾æŒ è„‘æ¼é—¹é¦è…»æ’µæ»é…¿é¸Ÿè‚å•®é•Šé•æŸ ç‹å®æ‹§æ³é’®çº½è„“æµ“å†œç–Ÿè¯ºæ¬§é¸¥æ®´å‘•æ²¤ç›˜åºå›½çˆ±èµ”å–·é¹éª—é£˜é¢‘è´«è‹¹å‡­è¯„æ³¼é¢‡æ‰‘é“ºæœ´è°±è„é½éª‘å²‚å¯æ°”å¼ƒè®«ç‰µæ‰¦é’é“…è¿ç­¾è°¦é’±é’³æ½œæµ…è°´å ‘æªå‘›å¢™è”·å¼ºæŠ¢é”¹æ¡¥ä¹”ä¾¨ç¿˜çªçªƒé’¦äº²è½»æ°¢å€¾é¡·è¯·åº†ç¼ç©·è¶‹åŒºèº¯é©±é¾‹é¢§æƒåŠå´é¹Šè®©é¥¶æ‰°ç»•çƒ­éŸ§è®¤çº«è£ç»’è½¯é”é—°æ¶¦æ´’è¨é³ƒèµ›ä¼ä¸§éªšæ‰«æ¶©æ€çº±ç­›æ™’é—ªé™•èµ¡ç¼®ä¼¤èµçƒ§ç»èµŠæ‘„æ…‘è®¾ç»…å®¡å©¶è‚¾æ¸—å£°ç»³èƒœåœ£å¸ˆç‹®æ¹¿è¯—å°¸æ—¶èš€å®è¯†é©¶åŠ¿é‡Šé¥°è§†è¯•å¯¿å…½æ¢è¾“ä¹¦èµå±æœ¯æ ‘ç«–æ•°å¸…åŒè°ç¨é¡ºè¯´ç¡•çƒä¸é¥²è€¸æ€‚é¢‚è®¼è¯µæ“è‹è¯‰è‚ƒè™½ç»¥å²å­™æŸç¬‹ç¼©çé”ç­æŒæŠ¬æ‘Šè´ªç˜«æ»©å›è°­è°ˆå¹æ±¤çƒ«æ¶›ç»¦è…¾èªŠé”‘é¢˜ä½“å±‰æ¡è´´é“å…å¬çƒƒé“œç»Ÿå¤´å›¾æ¶‚å›¢é¢“èœ•è„±é¸µé©®é©¼æ¤­æ´¼è¢œå¼¯æ¹¾é¡½ä¸‡ç½‘éŸ¦è¿å›´ä¸ºæ½ç»´è‹‡ä¼Ÿä¼ªçº¬è°“å«æ¸©é—»çº¹ç¨³é—®ç“®æŒèœ—æ¶¡çªå‘œé’¨ä¹Œè¯¬æ— èŠœå´åé›¾åŠ¡è¯¯é”¡ç‰ºè¢­ä¹ é“£æˆç»†è™¾è¾–å³¡ä¾ ç‹­å¦é”¨é²œçº¤å’¸è´¤è¡”é—²æ˜¾é™©ç°çŒ®å¿é¦…ç¾¡å®ªçº¿å¢é•¶ä¹¡è¯¦å“é¡¹è§é”€æ™“å•¸èåæŒŸæºèƒè°å†™æ³»è°¢é”Œè¡…å…´æ±¹é”ˆç»£è™šå˜˜é¡»è®¸ç»ªç»­è½©æ‚¬é€‰ç™£ç»šå­¦å‹‹è¯¢å¯»é©¯è®­è®¯é€Šå‹é¸¦é¸­å“‘äºšè®¶é˜‰çƒŸç›ä¸¥é¢œé˜è‰³åŒç šå½¦è°šéªŒé¸¯æ¨æ‰¬ç–¡é˜³ç—’å…»æ ·ç‘¶æ‘‡å°§é¥çª‘è°£è¯çˆ·é¡µä¸šå¶åŒ»é“±é¢é—ä»ªå½èšè‰ºäº¿å¿†ä¹‰è¯£è®®è°Šè¯‘å¼‚ç»è«é˜´é“¶é¥®æ¨±å©´é¹°åº”ç¼¨è¹è¤è¥è§è‡é¢–å“Ÿæ‹¥ä½£ç—ˆè¸Šå’æ¶Œä¼˜å¿§é‚®é“€çŠ¹æ¸¸è¯±èˆ†é±¼æ¸”å¨±ä¸å±¿è¯­åå¾¡ç‹±èª‰é¢„é©­é¸³æ¸Šè¾•å›­å‘˜åœ†ç¼˜è¿œæ„¿çº¦è·ƒé’¥å²³ç²¤æ‚¦é˜…äº‘éƒ§åŒ€é™¨è¿è•´é…æ™•éŸµæ‚ç¾è½½æ”’æš‚èµèµƒè„å‡¿æ£ç¶è´£æ‹©åˆ™æ³½è´¼èµ æ‰æœ­è½§é“¡é—¸è¯ˆæ–‹å€ºæ¯¡ç›æ–©è¾—å´­æ ˆæˆ˜ç»½å¼ æ¶¨å¸è´¦èƒ€èµµè›°è¾™é”—è¿™è´é’ˆä¾¦è¯Šé•‡é˜µæŒ£çç‹°å¸§éƒ‘è¯ç»‡èŒæ‰§çº¸æŒšæ·å¸œè´¨é’Ÿç»ˆç§è‚¿ä¼—è¯Œè½´çš±æ˜¼éª¤çŒªè¯¸è¯›çƒ›ç©å˜±è´®é“¸ç­‘é©»ä¸“ç –è½¬èµšæ¡©åº„è£…å¦†å£®çŠ¶é”¥èµ˜å ç¼€è°†æµŠå…¹èµ„æ¸è¸ªç»¼æ€»çºµé‚¹è¯…ç»„é’»è‡´é’Ÿä¹ˆä¸ºåªå‡¶å‡†å¯æ¿é‡Œé›³ä½™é“¾æ³„';
	var zh_t = 'ç¢ºæ–¼å°‡è™Ÿçššè—¹ç¤™æ„›ç¿ºè¥–å¥§å£©ç½·æ“ºæ•—é ’è¾¦çµ†å¹«ç¶éŠè¬—å‰é£½å¯¶å ±é®‘è¼©è²é‹‡ç‹½å‚™æ†Šç¹ƒç­†ç•¢æ–ƒé–‰é‚Šç·¨è²¶è®Šè¾¯è¾®é¼ˆç™Ÿç€•æ¿±è³“æ“¯é¤…æ’¥ç¼½é‰‘é§è””è£œåƒè ¶æ®˜æ…šæ…˜ç‡¦è’¼è‰™å€‰æ»„å»å´å†Šæ¸¬å±¤è©«æ”™æ‘»èŸ¬é¥è®’çºéŸç”£é—¡é¡«å ´å˜—é•·å„Ÿè…¸å» æš¢éˆ”è»Šå¾¹å¡µé™³è¥¯æ’ç¨±æ‡²èª é¨ç™¡é²é¦³æ¥é½’ç†¾æ²–èŸ²å¯µç–‡èºŠç±Œç¶¢é†œæ«¥å»šé‹¤é››ç¤å„²è§¸è™•å‚³ç˜¡é—–å‰µéŒ˜ç´”ç¶½è¾­è©è³œè°è”¥å›ªå¾å¢æ¹Šç«„éŒ¯é”å¸¶è²¸æ“”å–®é„²æ’£è†½æ†šèª•å½ˆç•¶æ“‹é»¨è•©æª”æ—å³¶ç¦±å°ç›œç‡ˆé„§æ•µæ»Œéç· é»å¢Šé›»æ¾±é‡£èª¿å è«œç–Šé‡˜é ‚éŒ è¨‚æ±å‹•æ£Ÿå‡é¬¥çŠ¢ç¨è®€è³­éé›æ–·ç·å…ŒéšŠå°å™¸é “éˆå¥ªéµé¡è¨›æƒ¡é¤“å…’çˆ¾é¤Œè²³ç™¼ç½°é–¥çºç¤¬é‡©ç…©ç¯„è²©é£¯è¨ªç´¡é£›å»¢è²»ç´›å¢³å¥®æ†¤ç³è±æ¥“é‹’é¢¨ç˜‹é¦®ç¸«è«·é³³è†šè¼»æ’«è¼”è³¦è¤‡è² è¨ƒå©¦ç¸›è©²éˆ£è“‹å¹¹è¶•ç¨ˆè´›å²¡å‰›é‹¼ç¶±å´—è‡¯é¬æ“±é´¿é–£é‰»å€‹çµ¦é¾”å®®éè²¢éˆæºæ§‹è³¼å¤ è ±é¡§å‰®é—œè§€é¤¨æ…£è²«å»£è¦çŸ½æ­¸é¾œé–¨è»Œè©­æ«ƒè²´åŠŠè¼¥æ»¾é‹åœ‹éé§­éŸ“æ¼¢é–¡é¶´è³€æ©«è½Ÿé´»ç´…å¾Œå£ºè­·æ»¬æˆ¶å˜©è¯ç•«åŠƒè©±æ‡·å£æ­¡ç’°é‚„ç·©æ›å–šç˜“ç…¥æ¸™é»ƒè¬Šæ®è¼æ¯€è³„ç©¢æœƒç‡´å½™è«±èª¨ç¹ªè‘·æ¸¾å¤¥ç²è²¨ç¦æ“Šæ©Ÿç©é¥‘è­é›ç¸¾ç·æ¥µè¼¯ç´šæ“ å¹¾è–ŠåŠ‘æ¿Ÿè¨ˆè¨˜éš›ç¹¼ç´€å¤¾è¢é °è³ˆé‰€åƒ¹é§•æ®²ç›£å …ç®‹é–“è‰±ç·˜ç¹­æª¢å ¿é¹¼æ€æ’¿ç°¡å„‰æ¸›è–¦æª»é‘’è¸è³¤è¦‹éµè‰¦åŠé¤æ¼¸æ¿ºæ¾—æ¼¿è”£æ§³çè¬›é†¬è† æ¾†é©•å¬Œæ”ªé‰¸çŸ¯åƒ¥è…³é¤ƒç¹³çµè½è¼ƒç¨­éšç¯€è–é©šç¶“é ¸éœé¡å¾‘ç—™ç«¶æ·¨ç³¾å»„èˆŠé§’èˆ‰æ“šé‹¸æ‡¼åŠ‡éµ‘çµ¹å‚‘æ½”çµèª¡å±†ç·ŠéŒ¦åƒ…è¬¹é€²æ™‰ç‡¼ç›¡å‹èŠè¦ºæ±ºè¨£çµ•éˆè»é§¿é–‹å‡±é¡†æ®¼èª²å¢¾æ‡‡æ‘³åº«è¤²èª‡å¡Šå„ˆå¯¬ç¤¦æ› æ³è™§å·‹çªºé¥‹æ½°æ“´é—Šè Ÿè‡˜èŠä¾†è³´è—æ¬„æ””ç±ƒé—Œè˜­ç€¾è®•æ”¬è¦½æ‡¶çºœçˆ›æ¿«æ’ˆå‹æ¾‡æ¨‚é³å£˜é¡æ·šç±¬é›¢è£é¯‰ç¦®éº—å²å‹µç¤«æ›†ç€éš¸å€†è¯è“®é€£é®æ†æ¼£ç°¾æ–‚è‡‰éˆæˆ€ç…‰ç·´ç³§æ¶¼å…©è¼›è«’ç™‚é¼éçµè‡¨é„°é±—å‡œè³ƒé½¡éˆ´æ·©éˆå¶ºé ˜é¤¾åŠ‰é¾è¾åš¨ç± å£Ÿæ”éš´æ¨“å©æ‘Ÿç°è˜†ç›§é¡±å»¬çˆæ“„é¹µè™œé­¯è³‚ç¥¿éŒ„é™¸é©¢å‘‚é‹ä¾¶å±¢ç¸·æ…®æ¿¾ç¶ å·’æ”£å­¿ç¤äº‚æ„è¼ªå€«ä¾–æ·ªç¶¸è«–è˜¿ç¾…é‚é‘¼ç±®é¨¾é§±çµ¡åª½ç‘ªç¢¼èé¦¬ç½µå—è²·éº¥è³£é‚è„ˆçé¥…è »æ»¿è¬¾è²“éŒ¨é‰šè²¿éº½é»´æ²’é‚é–€æ‚¶å€‘éŒ³å¤¢è¬å½Œè¦“ç¶¿ç·¬å»Ÿæ»…æ†«é–©é³´éŠ˜è¬¬è¬€ç•éˆ‰ç´é›£æ’“è…¦æƒ±é¬§é¤’è†©æ”†æ’šé‡€é³¥è¶é½§é‘·é³æª¸ç°ç”¯æ“°æ¿˜éˆ•ç´è†¿æ¿ƒè¾²ç˜§è«¾æ­é·—æ¯†å˜”æ¼šç›¤é¾åœ‹æ„›è³ å™´éµ¬é¨™é£„é »è²§è˜‹æ†‘è©•æ½‘é —æ’²é‹ªæ¨¸è­œè‡é½Šé¨è±ˆå•“æ°£æ£„è¨–ç‰½æ‰¡é‡ºé‰›é·ç°½è¬™éŒ¢é‰—æ½›æ·ºè­´å¡¹æ§å—†ç‰†è–”å¼·æ¶é¬æ©‹å–¬åƒ‘ç¿¹ç«…ç«Šæ¬½è¦ªè¼•æ°«å‚¾é ƒè«‹æ…¶ç“Šçª®è¶¨å€è»€é©…é½²é¡´æ¬Šå‹¸å»éµ²è®“é¥’æ“¾ç¹ç†±éŸŒèªç´‰æ¦®çµ¨è»ŸéŠ³é–æ½¤ç‘è–©é°“è³½å‚˜å–ªé¨·æƒæ¾€æ®ºç´—ç¯©æ›¬é–ƒé™è´ç¹•å‚·è³ç‡’ç´¹è³’æ”æ‡¾è¨­ç´³å¯©å¬¸è…æ»²è²ç¹©å‹è–å¸«ç…æ¿•è©©å±æ™‚è•å¯¦è­˜é§›å‹¢é‡‹é£¾è¦–è©¦å£½ç¸æ¨è¼¸æ›¸è´–å±¬è¡“æ¨¹è±æ•¸å¸¥é›™èª°ç¨…é †èªªç¢©çˆçµ²é£¼è³æ…«é Œè¨Ÿèª¦æ“»è˜‡è¨´è‚…é›–ç¶æ­²å­«æç­ç¸®ç‘£é–çºæ’»æ“¡æ”¤è²ªç™±ç˜å£‡è­šè«‡æ­æ¹¯ç‡™æ¿¤ç¸§é¨°è¬„éŠ»é¡Œé«”å±œæ¢è²¼éµå»³è½çƒ´éŠ…çµ±é ­åœ–å¡—åœ˜é ¹è›»è„«é´•é¦±é§æ©¢çªªè¥ªå½ç£é ‘è¬ç¶²éŸ‹é•åœç‚ºæ¿°ç¶­è‘¦å‰åƒç·¯è¬‚è¡›æº«èç´‹ç©©å•ç”•æ’¾è¸æ¸¦çª©å—šé¢çƒèª£ç„¡è•ªå³å¡¢éœ§å‹™èª¤éŒ«çŠ§è¥²ç¿’éŠ‘æˆ²ç´°è¦è½„å³½ä¿ ç‹¹å»ˆéé®®çº–é¹¹è³¢éŠœé–‘é¡¯éšªç¾ç»ç¸£é¤¡ç¾¨æ†²ç·šå»‚é‘²é„‰è©³éŸ¿é …è•­éŠ·æ›‰å˜¯è å”æŒ¾æ”œè„…è«§å¯«ç€‰è¬é‹…é‡èˆˆæ´¶é½ç¹¡è™›å™“é ˆè¨±ç·’çºŒè»’æ‡¸é¸ç™¬çµ¢å­¸å‹³è©¢å°‹é¦´è¨“è¨Šéœå£“é´‰é´¨å•äºè¨é–¹ç…™é¹½åš´é¡”é–»è±”å­ç¡¯å½¥è«ºé©—é´¦æ¥Šæšç˜é™½ç™¢é¤Šæ¨£ç‘¤æ–å ¯é™çª¯è¬ è—¥çˆºé æ¥­è‘‰é†«éŠ¥é ¤éºå„€å½œèŸ»è—å„„æ†¶ç¾©è©£è­°èª¼è­¯ç•°ç¹¹è”­é™°éŠ€é£²æ«»å¬°é·¹æ‡‰çº“ç‘©è¢ç‡Ÿç†’è …ç©å–²æ“å‚­ç™°è¸´è© æ¹§å„ªæ†‚éƒµéˆ¾çŒ¶éŠèª˜è¼¿é­šæ¼å¨›èˆ‡å¶¼èªç±²ç¦¦ç„è­½é é¦­é´›æ·µè½…åœ’å“¡åœ“ç·£é é¡˜ç´„èºé‘°å¶½ç²µæ‚…é–±é›²é„–å‹»éš•é‹è˜Šé†æšˆéŸ»é›œç½è¼‰æ”¢æš«è´Šè´“é«’é‘¿æ£—ç«ˆè²¬æ“‡å‰‡æ¾¤è³Šè´ˆç´®åŠ„è»‹é˜é–˜è©é½‹å‚µæ°ˆç›æ–¬è¼¾å¶„æ£§æˆ°ç¶»å¼µæ¼²å¸³è³¬è„¹è¶™èŸ„è½éºé€™è²é‡åµè¨ºé®é™£æ™çœçŒ™å¹€é„­è­‰ç¹”è·åŸ·ç´™æ‘¯æ“²å¹Ÿè³ªé¾çµ‚ç¨®è…«è¡†è¬…è»¸çšºæ™é©Ÿè±¬è«¸èª…ç‡­çŸšå›‘è²¯é‘„ç¯‰é§å°ˆç£šè½‰è³ºæ¨èŠè£å¦å£¯ç‹€éŒè´…å¢œç¶´è«„æ¿èŒ²è³‡æ¼¬è¹¤ç¶œç¸½ç¸±é„’è©›çµ„é‘½ç·»é˜éº¼ç‚ºéš»å…‡æº–å•Ÿé—†è£¡é‚é¤˜éŠæ´©';
	String.prototype.tran = function () {
		var s1, s2;
		if (zh_choose == 't') {
			s1 = zh_s;
			s2 = zh_t;
			document.getElementById("input").setAttribute("placeholder", "é¸æ“‡æ–‡ä»¶è½‰æ›å¾Œä»¥é¡¯ç¤ºâ€¦â€¦");
			document.getElementById("result").setAttribute("placeholder", "è¼¸å‡ºçµæœå°‡åœ¨æ­¤é¡¯ç¤ºâ€¦â€¦");
		} else if (zh_choose == 's') {
			s1 = zh_t;
			s2 = zh_s;
			document.getElementById("input").setAttribute("placeholder", "é€‰æ‹©æ–‡ä»¶è½¬æ¢åä»¥æ˜¾ç¤ºâ€¦â€¦");
			document.getElementById("result").setAttribute("placeholder", "è¾“å‡ºç»“æœå°†åœ¨æ­¤æ˜¾ç¤ºâ€¦â€¦");
		} else {
			return this;
		}
		var a = '';
		var l = this.length;
		for (var i = 0; i < this.length; i++) {
			var c = this.charAt(i);
			var p = s1.indexOf(c)
			a += p < 0 ? c : s2.charAt(p);
		}
		return a;
	}
	function setCookie(name, value) {
		var argv = setCookie.arguments;
		var argc = setCookie.arguments.length;
		var expires = (argc > 2) ? argv[2] : null;
		if (expires != null) {
			var LargeExpDate = new Date();
			LargeExpDate.setTime(LargeExpDate.getTime() + (expires * 1000 * 3600 * 24));
		}
		document.cookie = name + "=" + escape(value) + ((expires == null) ? "" : ("; expires=" + LargeExpDate.toGMTString()));
	}
	function getCookie(Name) {
		var search = Name + "="
		if (document.cookie.length > 0) {
			offset = document.cookie.indexOf(search);
			if (offset != -1) {
				offset += search.length;
				end = document.cookie.indexOf(";", offset);
				if (end == -1) end = document.cookie.length;
				return unescape(document.cookie.substring(offset, end));
			} else {
				return '';
			}
		}
	}
	function zh_tranBody(obj) {
		var o = (typeof (obj) == "object") ? obj.childNodes : document.body.childNodes;
		for (var i = 0; i < o.length; i++) {
			var c = o.item(i);
			if ('||BR|HR|TEXTAREA|SCRIPT|'.indexOf("|" + c.tagName + "|") > 0) continue;
			if (c.className == zh_class) {
				if (c.id == zh_class + '_' + zh_choose) {
					c.setAttribute('style', zh_style_active);
					c.style.cssText = zh_style_active;
				} else {
					c.setAttribute('style', zh_style_inactive);
					c.style.cssText = zh_style_inactive;
				}
				continue;
			}
			if (c.title != '' && c.title != null) c.title = c.title.tran();
			if (c.alt != '' && c.alt != null) c.alt = c.alt.tran();
			if (c.nodeType == 3) {
				c.data = c.data.tran();
			} else {
				zh_tranBody(c);
			}
		}
	}
	function zh_tran(go) {
		if (go) zh_choose = go;
		setCookie('zh_choose', zh_choose, zh_expires);
		if (go == 'n') {
			window.location.reload();
		} else {
			zh_tranBody();
		}
	}
	var userLang = navigator.language || navigator.userLanguage;
	if (userLang == "zh-TW" || userLang == "zh-HK" || userLang == "zh-MO") {
		zh_tran('t');
	}
	key_select();
	document.getElementById('id1').style.animation = 'board_0 0s';
	document.getElementById('mask').style.display = "none";
	document.getElementById('box').style.display = "none";
	document.getElementById('lang').style.display = "none";
	document.getElementById('note').style.display = "none";
	document.getElementById('select').style.display = "none";
	document.getElementById('next').style.display = "none";
	document.getElementById('view_window').style.display = "none";
	var id2 = 1;
	if (typeof FileReader == "undefined") {
		alert('è­¦å‘Šï¼æ­¤æµè§ˆå™¨ä¸æ”¯æŒFileReaderæ¥å£ï¼Œè¯·æ›´æ–°æˆ–ä½¿ç”¨ Chromeã€Chromiumã€Firefoxã€Edgeã€Safariã€Operaã€Brave ç­‰ç°ä»£æµè§ˆå™¨æ‰“å¼€HTMLæ–‡ä»¶ï¼å·²ç¦ç”¨æ­¤æµè§ˆå™¨è®¿é—®æ­¤è„šæœ¬ï¼');
		document.location("about:blank");
		a.setAttribute("disabled", "disabled")
	}
	var clock = 0;
	var timerstart = false;
	//è®¡æ—¶å™¨
	function timer() {
		if (timerstart == true) {
			setTimeout(function () { timer(); clock++; progress2.innerHTML = clock / 10; }, 100);
		}
	}
	//å°ç¨‹åºé€‰æ‹©æ¡†çš„çª—å£å…‰æ ‡é€‰æ‹©å™¨
	function fl2() {
		document.onkeydown = keyDownselect;
		var fl3 = 0;
		function keyDownselect() {
			if (event.keyCode == 38) {
				fl3 = fl3 - 1;
				if (fl3 < -1) {
					fl3 = -1;
				}
				if (fl3 == -1) {
					document.getElementById("boxoff4").focus();
					document.getElementById('boxoff4').style.backgroundColor = "#FB7299";
					document.getElementById('boxoff4').style.color = "#fff";
					document.getElementById("select_song_0").style.backgroundColor = "#fff";
					document.getElementById("select_song_0").style.color = "#555";
				} else {
					document.getElementById("select_song_" + fl3).focus();
					document.getElementById("select_song_" + fl3).style.backgroundColor = "#76b9f8";
					document.getElementById("select_song_" + fl3).style.color = "#fff";
					if (fl3 != songselect2 - 1) {
						document.getElementById("select_song_" + (fl3 + 1)).style.backgroundColor = "#fff";
						document.getElementById("select_song_" + (fl3 + 1)).style.color = "#555";
					} else {
						document.getElementById('boxoff6').style.backgroundColor = "#fff";
						document.getElementById('boxoff6').style.color = "#555";
						document.getElementById("select_song_" + fl3).style.backgroundColor = "#76b9f8";
						document.getElementById("select_song_" + fl3).style.color = "#fff";
					}
					document.getElementById("boxoff4").style.backgroundColor = "#fff";
					document.getElementById("boxoff4").style.color = "#555";
					if (fl3 != 0) {
						document.getElementById("select_song_" + (fl3 - 1)).style.backgroundColor = "#fff";
						document.getElementById("select_song_" + (fl3 - 1)).style.color = "#555";
					}
				}
			}
			if (event.keyCode == 40) {
				fl3 = fl3 + 1;
				if (fl3 > songselect2) {
					fl3 = songselect2;
				}
				document.getElementById("boxoff4").style.backgroundColor = "#fff";
				document.getElementById("boxoff4").style.color = "#555";
				if (fl3 != songselect2) {
					document.getElementById("select_song_" + fl3).focus();
					document.getElementById("select_song_" + fl3).style.backgroundColor = "#76b9f8";
					document.getElementById("select_song_" + fl3).style.color = "#fff";
				} else {
					document.getElementById("boxoff6").focus();
					document.getElementById("select_song_" + (songselect2 - 1)).style.backgroundColor = "#fff";
					document.getElementById("select_song_" + (songselect2 - 1)).style.color = "#555";
					document.getElementById('boxoff6').style.backgroundColor = "#FB7299";
					document.getElementById('boxoff6').style.color = "#fff";
				}
				if (fl3 != 0) {
					document.getElementById("select_song_" + (fl3 - 1)).style.backgroundColor = "#fff";
					document.getElementById("select_song_" + (fl3 - 1)).style.color = "#555";
				}
			}
			if (event.keyCode == 13) {
				if (fl3 == -1 || fl3 == songselect2) {
					fl3 = -1;
					document.getElementById("boxoff4").style.backgroundColor = "#fff";
					document.getElementById("boxoff4").style.color = "#555";
					document.getElementById("boxoff6").style.backgroundColor = "#fff";
					document.getElementById("boxoff6").style.color = "#555";
					hidder();
				} else {
					file_f = file_i[fl3].content;
					file_j = file_f.baseBpm;
					file_f = file_f.musics;
					file_d = file_f.length;
					continue_music();
				}
			}
		}
	}
	//å°ç¨‹åºæ­Œæ›²é€‰é¡¹
	function test1() {
		var o = document.createElement('div');
		o.className = "button5"
		o.tabIndex = "-1"
		o.id = "select_song_" + songselect2;
		o.innerHTML = file_i[songselect2].name;
		document.getElementById("songselect").appendChild(o);
		o.setAttribute("onclick", 'file_f=file_i[' + songselect2 + '].content;file_j=file_f.baseBpm;file_f=file_f.musics;file_d=file_f.length;continue_music();');
		o = null;
	}
	function continue_music() {
		var c = "", file_h = "", b = "";
		//ä¸»éŸ³è½¨è¯»å–
		for (file_d_a = 0; file_d_a < file_d; file_d_a++) {
			file_g = file_f[file_d_a].bpm + ",";
			file_h = file_h + file_g;
			file_k = file_f[file_d_a].baseBeats + ",";
			b = b + file_k;
			a = file_f[file_d_a].scores[0];
			a = a.toString();
			a_check = a.lastIndexOf("");
			//ä¸ºæ²¡æœ‰é€—å·ç»“å°¾çš„ç‰‡æ®µæ·»åŠ é€—å·
			a = a + ","
			while (a.indexOf(",,") > -1 || a.indexOf(";,") > -1 || a.indexOf(",;") > -1 || a.indexOf(";;") > -1) {
				a = a.replace(",,", ",");
				a = a.replace(",;", ",");
				a = a.replace(";,", ",");
				a = a.replace(";;", ",");
			}
			c = c + a + '`';
		}
		//è‡ªåŠ¨å¡«å†™BPMä¸åŸºç¡€èŠ‚æ‹
		if (document.getElementById('manual').checked == false) {
			document.getElementById("beats").innerHTML = b;
			document.getElementById("bpm").innerHTML = file_j + ";" + file_h;
		}
		c = c.split('`');
		c.splice(c.length - 1, 1);
		c_a = c;
		var bpm_b = "", sound_num = "";
		for (file_d_a = 0; file_d_a < file_d; file_d_a++) {
			if (file_d_a == 0) {
				a = c[0];
				a_a = a;
				//è·å–BPMçš„ä½ç½®
				startchange1();
				g = g_g;
				aa = g.lastIndexOf(",") + 1;
				ab = g.lastIndexOf("");
				ac = g.slice(aa, ab);
				bpm_a = ac;
			} else {
				a_a = a_a + c[file_d_a];
				a = a_a;
				startchange1();
				g = g_g;
				aa = g.lastIndexOf(",") + 1;
				ab = g.lastIndexOf("");
				ac = g.slice(aa, ab);
				bpm_a = ac;
			}
			sound_num_test = file_f[file_d_a].scores.length;
			sound_num = sound_num + "," + sound_num_test;
			bpm_b = bpm_b + "," + bpm_a;
		}
		//è·å–éŸ³è½¨æ•°é‡
		sound_num = sound_num.replace(",", "");
		sound_num = sound_num.split(',');
		sound_num.sort();
		sound_num_1 = sound_num.length - 1;
		sound_num = sound_num[sound_num_1];
		sound_num = parseFloat(sound_num);
		bpm_b = bpm_b.replace(`,`, ``);
		bpm_b = bpm_b.split(',');
		a = a_a;
		filesound = a;
		startchange();
		a = c;
		var b = "", file_h = "";
		for (sound_num_1 = 1; sound_num_1 < sound_num; sound_num_1++) {
			for (file_d_a = 0; file_d_a < file_d; file_d_a++) {
				a = file_f[file_d_a].scores[sound_num_1];
				if (typeof (a) != "undefined") {
					a_check = a.lastIndexOf("");
					a = a + ","
				}
				b = b + a;
				var song_text = "";
				//å‘ç°éŸ³è½¨æ•°é‡ä¸é½æ—¶çš„è°ƒæ•´ï¼ˆæµ‹è¯•ï¼‰
				if (b.indexOf("undefined") > -1) {
					bpm_c = parseFloat(bpm_b[file_d_a]);
					bpm_d = parseFloat(bpm_b[file_d_a - 1]);
					bpm_e = bpm_c - bpm_d;
					bpm_f = bpm_e / 256;
					bpm_h_a = parseInt(bpm_f);
					bpm_e = bpm_e - (256 * bpm_h_a);
					bpm_f = bpm_e / 128;
					bpm_i_a = parseInt(bpm_f);
					bpm_e = bpm_e - (128 * bpm_i_a);
					bpm_f = bpm_e / 64;
					bpm_j_a = parseInt(bpm_f);
					bpm_e = bpm_e - (64 * bpm_j_a);
					bpm_f = bpm_e / 32;
					bpm_k_a = parseInt(bpm_f);
					bpm_e = bpm_e - (32 * bpm_k_a);
					bpm_f = bpm_e / 16;
					bpm_l_a = parseInt(bpm_f);
					bpm_e = bpm_e - (16 * bpm_l_a);
					bpm_f = bpm_e / 8;
					bpm_m_a = parseInt(bpm_f);
					bpm_e = bpm_e - (8 * bpm_m_a);
					bpm_f = bpm_e / 4;
					bpm_n_a = parseInt(bpm_f);
					bpm_e = bpm_e - (128 * bpm_n_a);
					bpm_f = bpm_e / 2;
					bpm_o_a = parseInt(bpm_f);
					bpm_e = bpm_e - (2 * bpm_o_a);
					bpm_f = bpm_e / 1;
					bpm_p_a = parseInt(bpm_f);
					bpm_e = bpm_e - (1 * bpm_p_a);
					for (bpm_h = 0; bpm_h < bpm_h_a; bpm_h++) {
						song_text = song_text + "Q";
					}
					if (bpm_i_a == 1) {
						song_text = song_text + "R";
					}
					if (bpm_j_a == 1) {
						song_text = song_text + "S";
					}
					if (bpm_k_a == 1) {
						song_text = song_text + "T";
					}
					if (bpm_l_a == 1) {
						song_text = song_text + "U";
					}
					if (bpm_m_a == 1) {
						song_text = song_text + "V";
					}
					if (bpm_n_a == 1) {
						song_text = song_text + "W";
					}
					if (bpm_o_a == 1) {
						song_text = song_text + "X";
					}
					if (bpm_p_a == 1) {
						song_text = song_text + "Y";
					}
					b = b.replace("undefined", song_text + ",");
				}
			}
			while (b.indexOf(",,") > -1 || b.indexOf(";,") > -1 || b.indexOf(",;") > -1 || b.indexOf(";;") > -1) {
				b = b.replace(",,", ",");
				b = b.replace(",;", ",");
				b = b.replace(";,", ",");
				b = b.replace(";;", ",");
			}
			filesound = b;
			if (document.getElementById('sound').checked == true) {
				Function1();
				Function1_a();
                if ("undefined" == typeof file_f[0].alternatives) {
					alternatives = "0_0";
				} else {
					alternatives = file_f[0].alternatives[sound_num_1 - 1];
					if (file_f[0].alternatives[sound_num_1 - 1] == "piano" || file_f[0].alternatives[sound_num_1 - 1] == "") {
						alternatives = "0_0";
					}
				}
				a=a.replace(/midi_timbre_id/g,alternatives);
			} else {
				a = ""
			}
			games_type = games.value;
			if (games_type == "om") {
				ha5 = "[HitObjects]\n" + ha5 + "\n[Events]\n" + a;
                if ("undefined" == typeof file_f[0].alternatives) {
					alternatives = "0_0";
				} else {
					alternatives = file_f[0].alternatives[0];
					if (file_f[0].alternatives[sound_num_1 - 1] == "piano" || file_f[0].alternatives[sound_num_1 - 1] == "") {
						alternatives = "0_0";
					}
				}
				ha5 = ha5.replace(/midi_timbre_id/g, alternatives);
				j_a =j_a.replace(/midi_timbre_id/g, alternatives);
			} else {
				ha5 = ha5 + a;
			}
			b = "";
		}
		games_type = games.value;
		switch (games_type) {
			case "mak":
				document.getElementById("result").value = '{"meta":{"$ver":0,"creator":"creator_names","background":"background_names","version":"version_names","id":0,"mode":0,"time":'+Date.parse(new Date())+',"song":{"title":"song_names","artist":"artist_names","id":0},"mode_ext":{"column":'+key_num_a+',"bar_begin":0}},"time":[{"beat":[0,0,1],"bpm":'+parseFloat(document.getElementById("bpm").innerHTML)+'}],"effect":[],"note":['+ha5+'],"extra":{"test":{"divide":4,"speed":100,"save":0,"lock":0,"edit_mode":0}}}';
				break;
			case "mas":
				document.getElementById("result").value = '{"meta":{"$ver":0,"creator":"creator_names","background":"background_names","version":"version_names","id":0,"mode":7,"time":'+Date.parse(new Date())+',"song":{"title":"song_names","artist":"artist_names","id":0},"mode_ext":{}},"time":[{"beat":[0,0,1],"bpm":'+parseFloat(document.getElementById("bpm").innerHTML)+'}],"effect":[],"note":['+ha5+'],"extra":{"test":{"divide":4,"speed":100,"save":0,"lock":0,"edit_mode":0}}}';
				break;		
			case "om":
				document.getElementById("result").value = 'osu file format v14\n\n[General]\nAudioFilename: \nAudioLeadIn: 0\nPreviewTime: -1\nCountdown: 0\nSampleSet: Soft\nStackLeniency: 0.7\nMode: 3\nLetterboxInBreaks: 0\nSpecialStyle: 0\nWidescreenStoryboard: 0\n\n[Editor]\nDistanceSpacing: 0.8\nBeatDivisor: 1\nGridSize: 32\nTimelineZoom: 0.8\n\n[Metadata]\nTitle:song_names\nTitleUnicode:song_names\nArtist:artist_names\nArtistUnicode:artist_names\nCreator:creator_names\nVersion:version_names\nSource:\nTags:\nBeatmapID:\nBeatmapSetID:\n\n[Difficulty]\nHPDrainRate:5\nCircleSize:'+key_num_a+'\nOverallDifficulty:5\nApproachRate:5\nSliderMultiplier:1.4\nSliderTickRate:1\n\n'+bpm_text+"\n\n"+ha5+j_a;
				break;
		}
	}
	function Function2() {
		if (document.getElementById('notewidth').value == "") {
			document.getElementById('notewidth').value = "64";
			lock();
			setTimeout(function () {
				warning.innerHTML = "<b>ä½ æ²¡æœ‰å¡«å†™éŸ³ç¬¦å®½åº¦ï¼Œç¨‹åºä½¿ç”¨é»˜è®¤å€¼è½¬æ¢ã€‚æŒ‰ä¸‹èœå•é”®ã€è¿”å›é”®æˆ–ç‚¹å‡»æ­¤æ¶ˆæ¯å¯è§£é”ç„¦ç‚¹ã€‚</b>";
				if (zh_choose == "t") {
					zh_tran('t');
				}
			}, 100);
		}
		document.getElementById('progress').style.display = "inline"
		document.getElementById('progress').style.animation = 'warning_4 0.1s';
		setTimeout(function () { document.getElementById('progress3').style.display = 'inline'; }, 100);
		document.getElementById('progress').style.width = '60%';
		document.getElementById('progress').style.height = '20px';
		document.getElementById('progress').style.left = '20%';
		timerstart = true;
		timer();
		file = document.getElementById("file").files[0];
		if (file) {
			//æ£€æµ‹æ˜¯å¦ä¸ºæ–‡ä»¶è¾“å…¥
			var reader = new FileReader();
			reader.readAsText(file, "utf-8");
			reader.onload = function () {
				file_a = this.result;
				file_a = file_a.toString();
				//ä»¥åä¼šåˆ¶ä½œmidiæ–‡ä»¶çš„å¯¼å…¥åŠŸèƒ½
				if (file_a.indexOf("MThd") > -1 || file_a.indexOf("MTrk") > -1) {
					midifile = document.getElementById("file").files[0];
					midifile_a = new FileReader();
					midifile_a.readAsBinaryString(midifile);
					console.warn(midifile_a);
				} else {
					//å¯¹é’¢ç´å—å¤åˆ¶å“çš„jsonçš„å…¼å®¹
					file_a = file_a.replace(/rhythm/g, "baseBpm");
					file_a = file_a.replace(/zz39pm/g, "bpm");
					file_a = file_a.replace(/unit/g, "baseBeats");
					document.getElementById("input").value = file_a;
					var file_a = eval('(' + file_a + ')');
					//å…¼å®¹å°ç¨‹åºjson
					if (file_a.__type__) {
						//å¯¹äºå•ä¸ªå°ç¨‹åºjsoné‡Œçš„æ­Œæ›²
						if (file_a.json.musics) {
							file_f = file_a.json.musics;
							file_j = file_a.json.baseBpm;
							file_d = file_f.length;
							continue_music();
						} else {
							//å¯¹äºä¸€æ•´ç»„çš„jsonçš„æ­Œæ›²é€‰æ‹©
							select();
							songselect1 = file_a.json.length;
							for (songselect2 = 0; songselect2 < songselect1; songselect2++) {
								file_i = file_a.json;
								test1();
							}
							fl2();
						}
					} else {
						//æ­£å¸¸çš„jsonçš„è½¬æ¢
						file_f = file_a.musics;
						file_j = file_a.baseBpm;
						file_d = file_f.length;
						continue_music();
					}
				}
			}
		} else {
			//ä»¥åå–æ¶ˆæ–‡å­—è¾“å…¥è½¬æ¢ï¼Œä»…ä¾›æµ‹è¯•ä½¿ç”¨
			a = document.getElementById("input").value;
			filesound = a;
			startchange();
		}
		sound1 = 0;
		soundshow.innerHTML = "æ­£å¸¸";
		document.getElementById('soundshow').style.color = '#555';
		document.getElementById("warning_sound").innerHTML = "â™®æ­£å¸¸";
		document.getElementById("warning_sound").style.color = '#555';
	}
	function startchange1() {
		a = a.replace(/;/g, ",");
		if (document.getElementById('reverse').checked == true) {
			a = a.split(',');
			a = a.reverse();
			delete a[0];
			a = a.toString();
			a = a.replace(",", "");
			a = a + ",";
		}
		//æ›¿æ¢ä¸€éƒ¨åˆ†å­—ç¬¦
		a = a.replace(/\./g, "");
		a = a.replace(/5</g, "h[");
		a = a.replace(/2</g, "p[");
		a = a.replace(/1</g, "q[");
		a = a.replace(/3</g, "i[");
		a = a.replace(/6</g, "j[");
		a = a.replace(/7</g, "k[");
		a = a.replace(/8</g, "l[");
		a = a.replace(/9</g, "m[");
		a = a.replace(/10</g, "n[");
		a = a.replace(/\>/g, "o");
		a = a.replace(/1/g, "");
		a = a.replace(/2/g, "");
		a = a.replace(/3/g, "");
		a = a.replace(/4/g, "");
		a = a.replace(/5/g, "");
		a = a.replace(/6/g, "");
		a = a.replace(/7/g, "");
		a = a.replace(/8/g, "");
		a = a.replace(/9/g, "");
		a = a.replace(/0/g, "");
		a = a.replace(/zz/g, "");
		a = a.replace(/H/g, ",8`");
		a = a.replace(/I/g, ",4`");
		a = a.replace(/J/g, ",2`");
		a = a.replace(/K/g, ",1`");
		a = a.replace(/L/g, ",0.5`");
		a = a.replace(/M/g, ",0.25`");
		a = a.replace(/N/g, ",0.125`");
		a = a.replace(/O/g, ",0.0625`");
		a = a.replace(/P/g, ",0.03125`");
		a = a.replace(/Q/g, "-`8`-");
		a = a.replace(/R/g, "-`4`-");
		a = a.replace(/S/g, "-`2`-");
		a = a.replace(/T/g, "-`1`-");
		a = a.replace(/U/g, "-`0.5`-");
		a = a.replace(/V/g, "-`0.25`-");
		a = a.replace(/W/g, "-`0.125`-");
		a = a.replace(/X/g, "-`0.0625`-");
		a = a.replace(/Y/g, "-`0.03125`-");
		a = a.replace(/mute/g, "");
		a = a.replace(/chuanshao/g, "");
		a = a.replace(/\#/g, "");
		document.getElementById('progress').value = "5"
		progress1.innerHTML = "5"
		//å¯¹äºéŸ³ç¬¦æ‹¬å·ç»„åˆä¸­è—æœ‰ä¼‘æ­¢ç¬¦ä¾‹å¦‚(a~V~a)çš„æ¸…ç©ºéƒ¨åˆ†
		while (a.indexOf("(") > -1) {
			b = a.indexOf("(");
			c = a.indexOf(")") + 1;
			d = a.slice(b, c);
			a = a.replace(d, "");
		}
		a = a.replace(/\(/g, "");
		a = a.replace(/\)/g, "");
		a = a.replace(/\{/g, "");
		a = a.replace(/\}/g, "");
		a = a.replace(/\`,/g, "`");
		a = a.replace(/\[,/g, "[");
		a = a.replace(/\],/g, "+");
		a = a.replace(/\];/g, "+");
		a = a.replace(/\[/g, "");
		a = a.replace(/\],h/g, "+h");
		a = a.replace(/\],i/g, "+i");
		a = a.replace(/\],j/g, "+j");
		a = a.replace(/\],k/g, "+k");
		a = a.replace(/\],l/g, "+l");
		a = a.replace(/\],m/g, "+m");
		a = a.replace(/\],n/g, "+n");
		a = a.replace(/\],q/g, "+q");
		a = a.replace(/\],p/g, "+p");
		a = a.replace(/\]/, "");
		a = a.replace(/Z/g, "");
		a = a.replace(/c/g, "");
		a = a.replace(/d/g, "");
		a = a.replace(/e/g, "");
		a = a.replace(/f/g, "");
		a = a.replace(/g/g, "");
		a = a.replace(/a/g, "");
		a = a.replace(/b/g, "");
		a = a.replace(/C-/g, "");
		a = a.replace(/D-/g, "");
		a = a.replace(/E-/g, "");
		a = a.replace(/F-/g, "");
		a = a.replace(/G-/g, "");
		a = a.replace(/A-/g, "");
		a = a.replace(/B-/g, "");
		document.getElementById('progress').value = "10"
		progress1.innerHTML = "10"
		//å¼€å§‹è½¬æ¢æ•°å­—å½¢å¼è¡¨ç¤ºè°±å­èŠ‚å¥
		a = a.split("`+");
		a = a.toString();
		//å¯¹äºkeyæ¨¡å¼ä¸‹çš„è½¬æ¢
		a = a.replace(/;/g, ",");
		a = a.replace(/-o/g, "-,o");
		ba = a;
		//ä¼‘æ­¢ç¬¦çš„è½¬æ¢
		an = a.indexOf("-`");
		ao = a.indexOf("`-,") + 3;
		while (an > -1) {
			ap = a.slice(an, ao - 1);
			aw = ap;
			aq = ap.indexOf("-`") + 2;
			ar = ap.indexOf("`-");
			au = 0;
			while (aq > 1) {
				at = ap.slice(aq, ar);
				av = ap.slice(aq - 2, ar + 1);
				at = parseFloat(at);
				au = at + au;
				ap = ap.replace(av, "");
				aq = ap.indexOf("-`") + 2;
				ar = ap.indexOf("`-");
			}
			a = a.replace(aw, au);
			an = a.indexOf("-`");
			ao = a.indexOf("`-,") + 3;
		}
		a = a.replace(/,o/g, "`o");
		a = a.replace(/`]o/g, "`o");
		//çˆ†è£‚å—10<
		ah = a.lastIndexOf("");
		ai = a.indexOf("n");
		if (ai > -1) {
			aj = a.slice(ai, ah);
			ak = aj.indexOf("`o");
			al = aj.slice(1, ak);
			am = aj.slice(0, ak + 2);
			a = a.replace(am, al);
			ah = a.lastIndexOf("");
			ai = a.indexOf("n");
			while (ai > -1) {
				aj = a.slice(ai, ah);
				ak = aj.indexOf("`]o");
				al = aj.slice(1, ak);
				am = aj.slice(0, ak + 3);
				a = a.replace(am, al);
				ah = a.lastIndexOf("");
				ai = a.indexOf("n");
			}
		}
		//å•é»‘2<
		ah = a.lastIndexOf("");
		ai = a.indexOf("p");
		if (ai > -1) {
			aj = a.slice(ai, ah);
			ak = aj.indexOf("`o");
			al = aj.slice(1, ak);
			am = aj.slice(0, ak + 2);
			a = a.replace(am, al);
			ah = a.lastIndexOf("");
			ai = a.indexOf("p");
			while (ai > -1) {
				aj = a.slice(ai, ah);
				ak = aj.indexOf("`]o");
				al = aj.slice(1, ak);
				am = aj.slice(0, ak + 3);
				a = a.replace(am, al);
				ah = a.lastIndexOf("");
				ai = a.indexOf("p");
			}
		}
		//æœªå®šä¹‰1<
		ah = a.lastIndexOf("");
		ai = a.indexOf("q");
		if (ai > -1) {
			aj = a.slice(ai, ah);
			ak = aj.indexOf("`o");
			al = aj.slice(1, ak);
			am = aj.slice(0, ak + 2);
			a = a.replace(am, al);
			ah = a.lastIndexOf("");
			ai = a.indexOf("q");
			while (ai > -1) {
				aj = a.slice(ai, ah);
				ak = aj.indexOf("`]o");
				al = aj.slice(1, ak);
				am = aj.slice(0, ak + 3);
				a = a.replace(am, al);
				ah = a.lastIndexOf("");
				ai = a.indexOf("q");
			}
		}
		a = a.replace(/i/g, "h");
		a = a.replace(/j/g, "h");
		a = a.replace(/k/g, "h");
		a = a.replace(/l/g, "h");
		a = a.replace(/m/g, "h");
		a = a.replace(/n/g, "h");
		a = a.replace(/p/g, "h");
		a = a.replace(/q/g, "h");
		document.getElementById('progress').value = "15"
		progress1.innerHTML = "15"
		//ç©æ³•å¹²é¢„åŒºåŸŸ
		aa = a.indexOf("h") + 1;
		ab = a.indexOf("`o");
		while (aa > 0) {
			ac = a.slice(aa, ab);
			ag = a.slice(aa - 1, ab + 2);
			ad = ac.indexOf(",");
			f = 0;
			while (ad > -1) {
				ae = ac.slice(0, ad);
				d = ae.indexOf("`");
				ac = ac.replace(ae + ",", "");
				while (d > -1) {
					e = ae.slice(0, d);
					ae = ac.replace(e + "`", "");
					e = parseFloat(e);
					f = e + f;
					d = ae.indexOf("`");
				}
				ae = parseFloat(ae);
				f = f + ae;
				ad = ac.indexOf(",");
			}
			ae = ac.slice(0, ac.lastIndexOf(""));
			d = ae.indexOf("`");
			ac = ac.replace(ae + ",", "");
			while (d > -1) {
				e = ae.slice(0, d);
				ae = ac.replace(e + "`", "");
				e = parseFloat(e);
				f = e + f;
				d = ae.indexOf("`");
			}
			ae = parseFloat(ae);
			f = f + ae;
			f = f.toString();
			a = a.replace(ag, f);
			aa = a.indexOf("h") + 1;
			ab = a.indexOf("`o");
		}
		document.getElementById('progress').value = "20"
		progress1.innerHTML = "20"
		a = a.replace(",,", ",");
		a = a.replace(/`/g, "+");
		a = a.replace(/\+o/g, "");
		a = a.split(",");
		//æ•´ç†éŸ³ç¬¦æ—¶é—´å †ç§¯
		var f = 0, g = "";
		for (b = 0; b < a.length - 1; b++) {
			c = a[b];
			if (c.indexOf("+") > -1) {
				c = c.split("+");
				var e = 0;
				for (d = 0; d < c.length; d++) {
					e = parseFloat(c[d]) + e;
				}
				c = e * 32;
				f = f + c;
				c = f.toString();
				g = g + "," + c;
			} else {
				c = parseFloat(c);
				c = c * 32;
				f = f + c;
				c = f.toString();
				g = g + "," + c;
			}
		}
		g = g.replace(",", "");
		g_g = g;
		i = g;
	}
	function startchange() {
		startchange1();
		document.getElementById('progress').value = "25"
		progress1.innerHTML = "25"
		//æ ¼å¼åŒ–
		v = g;
		o = g;
		games_type = games.value;
		switch (games_type) {
			case "mak":
			case "mas":
				game_type1();
				break;
			case "om":
				game_type3();
				break;
		}
		function game_type3() {
			a = document.getElementById("bpm").value;
			a = parseFloat(a);
			g = g.split(",");
			var g_d = "";
			for (g_a = 0; g_a < g.length; g_a++) {
				g_b = parseFloat(g[g_a]);
				g_c = Math.floor(3750 * g_b / a * 0.5);
				g_d = g_d + "," + g_c;
			}
			g_d = g_d.replace(",", "");
			a = g_d;
			a = a.split(",");
			g_b = "";
			for (g_a = 0; g_a < g.length - 1; g_a++) {
				g_b = g_b + "\ncolumn,192,<" + a[g_a] + ">,note,0,endbeat:0:0:0:sound"
			}
			g_b = g_b.replace("\n", "column,192,<0>,note,0,endbeat:0:0:0:sound\n");
			m = document.getElementById("beats").value;
			m = parseFloat(m);
			a = document.getElementById("bpm").value;
			a = parseFloat(a);
			n = Math.floor(3750 * m * 32 / a * 0.5);
			g_d = g_d.split(",");
			for (g_a = 0; g_a < g.length; g_a++) {
				f_a = g_b.indexOf("<");
				f_b = g_b.indexOf(">") + 1;
				f_c = g_b.slice(f_a, f_b);
				f_d = f_c.replace("<", "");
				f_d = f_d.replace(">", "");
				g_b = g_b.replace(f_c, f_d);
				f_a = parseFloat(g_d[g_a]);
				f_d = parseFloat(f_d);
				f_b = f_a - f_d;
				if (f_b > n + 1) {
					f_c = f_a - n;
					f_c = Math.floor(f_c);
					g_b = g_b.replace("endbeat", f_c + ":0");
					g_b = g_b.replace("note", "128");
				} else {
					g_b = g_b.replace("endbeat", "0");
					g_b = g_b.replace("note", "1");
				}
			}
			key_num = key.value;
			switch (key_num) {
				case "1k":
					key_num_a = 1;
					g_b = g_b.replace(/column/g, "256");
					break;
				case "2k":
					key_num_a = 2;
					if (document.getElementById("continue").checked == true) {
						while (g_b.indexOf("column") > -1) {
							x = Math.random() * 2;
							x = Math.floor(x);
							if (x == 0) {
								g_b = g_b.replace(/column/, "128");
							} else {
								g_b = g_b.replace(/column/, "384");
							}
						}
					} else {
						var x = 0;
						while (g_b.indexOf("column") > -1) {
							x = x + 1;
							if (x % 2 == 0) {
								g_b = g_b.replace(/column/, "128");
							} else {
								g_b = g_b.replace(/column/, "384");
							}
						}
					}
					break;
				case "3k":
					key_num_a = 3;
					if (document.getElementById("continue").checked == true) {
						while (g_b.indexOf("column") > -1) {
							x = Math.random() * 3;
							x = Math.floor(x);
							if (x == 0) {
								g_b = g_b.replace(/column/, "85");
							}
							if (x == 1) {
								g_b = g_b.replace(/column/, "256");
							}
							if (x == 2) {
								g_b = g_b.replace(/column/, "426");
							}
						}
					} else {
						var y;
						while (g_b.indexOf("column") > -1) {
							x = Math.random() * 3;
							x = Math.floor(x);
							while (x == y) {
								x = Math.random() * 3;
								x = Math.floor(x);
							}
							y = x;
							if (x == 0) {
								g_b = g_b.replace(/column/, "85");
							}
							if (x == 1) {
								g_b = g_b.replace(/column/, "256");
							}
							if (x == 2) {
								g_b = g_b.replace(/column/, "426");
							}
						}
					}
					break;
				case "4k":
					key_num_a = 4;
					if (document.getElementById("continue").checked == true) {
						while (g_b.indexOf("column") > -1) {
							x = Math.random() * 4;
							x = Math.floor(x);
							if (x == 0) {
								g_b = g_b.replace(/column/, "64");
							}
							if (x == 1) {
								g_b = g_b.replace(/column/, "192");
							}
							if (x == 2) {
								g_b = g_b.replace(/column/, "320");
							}
							if (x == 3) {
								g_b = g_b.replace(/column/, "448");
							}
						}
					} else {
						var y;
						while (g_b.indexOf("column") > -1) {
							x = Math.random() * 4;
							x = Math.floor(x);
							while (x == y) {
								x = Math.random() * 4;
								x = Math.floor(x);
							}
							y = x;
							if (x == 0) {
								g_b = g_b.replace(/column/, "64");
							}
							if (x == 1) {
								g_b = g_b.replace(/column/, "192");
							}
							if (x == 2) {
								g_b = g_b.replace(/column/, "320");
							}
							if (x == 3) {
								g_b = g_b.replace(/column/, "448");
							}
						}
					}
					break;
				case "5k":
					key_num_a = 5;
					if (document.getElementById("continue").checked == true) {
						while (g_b.indexOf("column") > -1) {
							x = Math.random() * 5;
							x = Math.floor(x);
							if (x == 0) {
								g_b = g_b.replace(/column/, "51");
							}
							if (x == 1) {
								g_b = g_b.replace(/column/, "153");
							}
							if (x == 2) {
								g_b = g_b.replace(/column/, "256");
							}
							if (x == 3) {
								g_b = g_b.replace(/column/, "358");
							}
							if (x == 4) {
								g_b = g_b.replace(/column/, "460");
							}
						}
					} else {
						var y;
						while (g_b.indexOf("column") > -1) {
							x = Math.random() * 5;
							x = Math.floor(x);
							while (x == y) {
								x = Math.random() * 5;
								x = Math.floor(x);
							}
							y = x;
							if (x == 0) {
								g_b = g_b.replace(/column/, "51");
							}
							if (x == 1) {
								g_b = g_b.replace(/column/, "153");
							}
							if (x == 2) {
								g_b = g_b.replace(/column/, "256");
							}
							if (x == 3) {
								g_b = g_b.replace(/column/, "358");
							}
							if (x == 4) {
								g_b = g_b.replace(/column/, "460");
							}
						}
					}
					break;
				case "6k":
					key_num_a = 6;
					if (document.getElementById("continue").checked == true) {
						while (g_b.indexOf("column") > -1) {
							x = Math.random() * 6;
							x = Math.floor(x);
							if (x == 0) {
								g_b = g_b.replace(/column/, "42");
							}
							if (x == 1) {
								g_b = g_b.replace(/column/, "128");
							}
							if (x == 2) {
								g_b = g_b.replace(/column/, "213");
							}
							if (x == 3) {
								g_b = g_b.replace(/column/, "298");
							}
							if (x == 4) {
								g_b = g_b.replace(/column/, "384");
							}
							if (x == 5) {
								g_b = g_b.replace(/column/, "469");
							}
						}
					} else {
						var y;
						while (g_b.indexOf("column") > -1) {
							x = Math.random() * 6;
							x = Math.floor(x);
							while (x == y) {
								x = Math.random() * 6;
								x = Math.floor(x);
							}
							y = x;
							if (x == 0) {
								g_b = g_b.replace(/column/, "42");
							}
							if (x == 1) {
								g_b = g_b.replace(/column/, "128");
							}
							if (x == 2) {
								g_b = g_b.replace(/column/, "213");
							}
							if (x == 3) {
								g_b = g_b.replace(/column/, "298");
							}
							if (x == 4) {
								g_b = g_b.replace(/column/, "384");
							}
							if (x == 5) {
								g_b = g_b.replace(/column/, "469");
							}
						}
					}
					break;
				case "7k":
					key_num_a = 7;
					if (document.getElementById("continue").checked == true) {
						while (g_b.indexOf("column") > -1) {
							x = Math.random() * 7;
							x = Math.floor(x);
							if (x == 0) {
								g_b = g_b.replace(/column/, "36");
							}
							if (x == 1) {
								g_b = g_b.replace(/column/, "109");
							}
							if (x == 2) {
								g_b = g_b.replace(/column/, "182");
							}
							if (x == 3) {
								g_b = g_b.replace(/column/, "256");
							}
							if (x == 4) {
								g_b = g_b.replace(/column/, "329");
							}
							if (x == 5) {
								g_b = g_b.replace(/column/, "402");
							}
							if (x == 6) {
								g_b = g_b.replace(/column/, "475");
							}
						}
					} else {
						var y;
						while (g_b.indexOf("column") > -1) {
							x = Math.random() * 7;
							x = Math.floor(x);
							while (x == y) {
								x = Math.random() * 7;
								x = Math.floor(x);
							}
							y = x;
							if (x == 0) {
								g_b = g_b.replace(/column/, "36");
							}
							if (x == 1) {
								g_b = g_b.replace(/column/, "109");
							}
							if (x == 2) {
								g_b = g_b.replace(/column/, "182");
							}
							if (x == 3) {
								g_b = g_b.replace(/column/, "256");
							}
							if (x == 4) {
								g_b = g_b.replace(/column/, "329");
							}
							if (x == 5) {
								g_b = g_b.replace(/column/, "402");
							}
							if (x == 6) {
								g_b = g_b.replace(/column/, "475");
							}
						}
					}
					break;
				case "8k":
					key_num_a = 8;
					if (document.getElementById("continue").checked == true) {
						while (g_b.indexOf("column") > -1) {
							x = Math.random() * 8;
							x = Math.floor(x);
							if (x == 0) {
								g_b = g_b.replace(/column/, "32");
							}
							if (x == 1) {
								g_b = g_b.replace(/column/, "96");
							}
							if (x == 2) {
								g_b = g_b.replace(/column/, "160");
							}
							if (x == 3) {
								g_b = g_b.replace(/column/, "224");
							}
							if (x == 4) {
								g_b = g_b.replace(/column/, "288");
							}
							if (x == 5) {
								g_b = g_b.replace(/column/, "352");
							}
							if (x == 6) {
								g_b = g_b.replace(/column/, "416");
							}
							if (x == 7) {
								g_b = g_b.replace(/column/, "480");
							}
						}
					} else {
						var y;
						while (g_b.indexOf("column") > -1) {
							x = Math.random() * 8;
							x = Math.floor(x);
							while (x == y) {
								x = Math.random() * 8;
								x = Math.floor(x);
							}
							y = x;
							if (x == 0) {
								g_b = g_b.replace(/column/, "32");
							}
							if (x == 1) {
								g_b = g_b.replace(/column/, "96");
							}
							if (x == 2) {
								g_b = g_b.replace(/column/, "160");
							}
							if (x == 3) {
								g_b = g_b.replace(/column/, "224");
							}
							if (x == 4) {
								g_b = g_b.replace(/column/, "288");
							}
							if (x == 5) {
								g_b = g_b.replace(/column/, "352");
							}
							if (x == 6) {
								g_b = g_b.replace(/column/, "416");
							}
							if (x == 7) {
								g_b = g_b.replace(/column/, "480");
							}
						}
					}
					break;
				case "9k":
					key_num_a = 9;
					if (document.getElementById("continue").checked == true) {
						while (g_b.indexOf("column") > -1) {
							x = Math.random() * 9;
							x = Math.floor(x);
							if (x == 0) {
								g_b = g_b.replace(/column/, "28");
							}
							if (x == 1) {
								g_b = g_b.replace(/column/, "85");
							}
							if (x == 2) {
								g_b = g_b.replace(/column/, "142");
							}
							if (x == 3) {
								g_b = g_b.replace(/column/, "199");
							}
							if (x == 4) {
								g_b = g_b.replace(/column/, "256");
							}
							if (x == 5) {
								g_b = g_b.replace(/column/, "312");
							}
							if (x == 6) {
								g_b = g_b.replace(/column/, "369");
							}
							if (x == 7) {
								g_b = g_b.replace(/column/, "426");
							}
							if (x == 8) {
								g_b = g_b.replace(/column/, "483");
							}
						}
					} else {
						var y;
						while (g_b.indexOf("column") > -1) {
							x = Math.random() * 9;
							x = Math.floor(x);
							while (x == y) {
								x = Math.random() * 9;
								x = Math.floor(x);
							}
							y = x;
							if (x == 0) {
								g_b = g_b.replace(/column/, "28");
							}
							if (x == 1) {
								g_b = g_b.replace(/column/, "85");
							}
							if (x == 2) {
								g_b = g_b.replace(/column/, "142");
							}
							if (x == 3) {
								g_b = g_b.replace(/column/, "199");
							}
							if (x == 4) {
								g_b = g_b.replace(/column/, "256");
							}
							if (x == 5) {
								g_b = g_b.replace(/column/, "312");
							}
							if (x == 6) {
								g_b = g_b.replace(/column/, "369");
							}
							if (x == 7) {
								g_b = g_b.replace(/column/, "426");
							}
							if (x == 8) {
								g_b = g_b.replace(/column/, "483");
							}
						}
					}
					break;
			}
			while (c_a.indexOf(",,") > -1 || c_a.indexOf(";,") > -1 || c_a.indexOf(",;") > -1 || c_a.indexOf(";;") > -1) {
				c_a = c_a.replace(",,", ",");
				c_a = c_a.replace(",;", ",");
				c_a = c_a.replace(";,", ",");
				c_a = c_a.replace(";;", ",");
			}
			a = c_a;
			Function1();
			a = a.split(",");
			var i_a = /\((.+?)\)/g;
			var i_b = /\[(.+?)\]/g;
			j_a = "";
			for (g_a = 0; g_a < a.length - 1; g_a++) {
				g_f = a[g_a].match(i_a);
				if (g_f === null) {
					g_b = g_b.replace("sound", "");
					j_a = j_a + "," + a[g_a].match(i_b).toString();
				} else {
					g_f = g_f.toString();
					if (g_f.indexOf(".") > -1 || g_f.indexOf("!") > -1 || g_f.indexOf("~") > -1 || g_f.indexOf("@") > -1 || g_f.indexOf("$") > -1 || g_f.indexOf("%") > -1 || g_f.indexOf("^") > -1 || g_f.indexOf("&") > -1) {
						if (g_f.indexOf("^") > -1 || g_f.indexOf("&") > -1) {
							g_b = g_b.replace("sound", "");
							j_a = j_a + "," + a[g_a].match(i_b).toString();
						} else {
							g_h = g_f;
							g_f = g_f.replace("(", "");
							g_f = g_f.replace(")", "");
							g_f = g_f.replace(".", ",");
							g_f = g_f.replace("~", ",");
							g_f = g_f.replace("!", ",");
							g_f = g_f.replace("@", ",");
							g_f = g_f.replace("$", ",");
							g_f = g_f.replace("%", ",");
							g_f = g_f.split(",");
							g_b = g_b.replace("sound", "midi_timbre_id/" + g_f[0]);
							g_h = g_h.replace(g_f[0], "mute");
							j_a = j_a + "," + g_h + a[g_a].match(i_b).toString();
						}
					} else {
						g_f = g_f.replace("(", "");
						g_f = g_f.replace(")", "");
						g_b = g_b.replace("sound", "midi_timbre_id/" + g_f);
						j_a = j_a + "," + a[g_a].match(i_b).toString();
					}
				}
			}
			i_c = g_b;
			j_a = j_a.replace(",", "");
			a = j_a;
			Function1_a();
			j_a = a;
			ha5 = i_c;
			a = document.getElementById("bpm").value;
			a = parseFloat(a);
			bpm_text='[TimingPoints]\n0,'+3750 * 32 / a * 0.5+',4,2,1,50,1,0';
		}
		function game_type1() {
			g = g.replace("", '{"beat":[j,0,');
			games_type = games.value;
			switch (games_type) {
				case "mak":
					g = g.replace(/\,/g, ',32>,"column":x},{"beat":[j,');
					g = g.replace('{"beat":[j,32>,"column":x},', "");
					i = i.toString();
					g = g.replace('\,"column":x},{"beat":[j,' + i, ',"column":x},');
					b = g.indexOf("j");
					while (b > -1) {
						c = g.indexOf("[j");
						d = g.indexOf("32>");
						e = g.slice(c, d + 3);
						l = e;
						f = e.indexOf(",");
						h = e.indexOf(",32>");
						i = e.slice(f + 1, h);
						i = parseFloat(i);
						k = i;
						k = k.toString();
						l = l.toString();
						if (i >= 32) {
							j = i / 32;
							j = Math.floor(j);
							i = i - 32 * j;
							j = j.toString();
							i = i.toString();
							e = e.replace(/\>/, "]");
							e = e.replace(k, i);
							e = e.replace(/j/, j);
							g = g.replace(l, e)
						} else {
							j = 0;
							g = g.replace(/j/, j);
							g = g.replace(/\>/, "]");
						}
						b = g.indexOf("j");
					}
					key_num = key.value;
					switch (key_num) {
						case "4k":
							key_num_a = 4;
							break;
						case "5k":
							key_num_a = 5;
							break;
						case "6k":
							key_num_a = 6;
							break;
						case "7k":
							key_num_a = 7;
							break;
						case "8k":
							key_num_a = 8;
							break;
						case "9k":
							key_num_a = 9;
							break;
						case "10k":
							key_num_a = 10;
							break;
					}
					//éšæœºç”Ÿæˆnoteä½ç½®
					if (document.getElementById("continue").checked == true) {
						a = g.indexOf("x");
						while (a > -1) {
							var x;
							x = Math.random() * key_num_a;
							x = Math.floor(x);
							x = x.toString();
							g = g.replace("x", x);
							a = g.indexOf("x");
						}
					} else {
						a = g.indexOf("x");
						var y;
						while (a > -1) {
							var x;
							x = Math.random() * key_num_a;
							x = Math.floor(x);
							while (x == y) {
								x = Math.random() * key_num_a;
								x = Math.floor(x);
							}
							y = x;
							x = x.toString();
							g = g.replace("x", x);
							a = g.indexOf("x");
						}
					}
					break;
				case "mas":
					g = g.replace(/\,/g, ',32>,"x":s_x,"w":s_w,end},{"beat":[j,');
					g = g.replace('{"beat":[j,32>,"x":s_x,"w":s_w,end},', "");
					i = i.toString();
					g = g.replace('\,"x":s_x,"w":s_w},{"beat":[j,' + i, ',"x":s_x,"w":s_w,end},');
					b = g.indexOf("j");
					while (b > -1) {
						c = g.indexOf("[j");
						d = g.indexOf("32>");
						e = g.slice(c, d + 3);
						l = e;
						f = e.indexOf(",");
						h = e.indexOf(",32>");
						i = e.slice(f + 1, h);
						i = parseFloat(i);
						k = i;
						k = k.toString();
						l = l.toString();
						if (i >= 32) {
							j = i / 32;
							j = Math.floor(j);
							i = i - 32 * j;
							j = j.toString();
							i = i.toString();
							e = e.replace(/\>/, "]");
							e = e.replace(k, i);
							e = e.replace(/j/, j);
							g = g.replace(l, e)
						} else {
							j = 0;
							g = g.replace(/j/, j);
							g = g.replace(/\>/, "]");
						}
						b = g.indexOf("j");
					}
					//éšæœºç”Ÿæˆnoteä½ç½®
					notewidth_1 = document.getElementById('notewidth').value;
					if (notewidth_1.indexOf("-") > -1) {

					} else {
						g = g.replace(/s_w/g, notewidth_1);
						notewidth_1 = parseFloat(notewidth_1);
						if (document.getElementById("continue").checked == true) {
							a = g.indexOf("s_x");
							while (a > -1) {
								var x;
								x = Math.random() * (256 - notewidth_1);
								x = Math.floor(x);
								x = x + (notewidth_1 / 2);
								x = x.toString();
								g = g.replace("s_x", x);
								a = g.indexOf("s_x");
							}
						} else {
							a = g.indexOf("s_x");
							var y;
							while (a > -1) {
								var x;
								x = Math.random() * (256 - notewidth_1);
								x = Math.floor(x);
								x = x + (notewidth_1 / 2);
								while (x == y || x > y - notewidth_1 && x < y + notewidth_1) {
									x = Math.random() * (256 - notewidth_1);
									x = Math.floor(x);
									x = x + (notewidth_1 / 2);
								}
								y = x;
								x = x.toString();
								g = g.replace("s_x", x);
								a = g.indexOf("s_x");
							}
						}
					}
					console.log(notewidth_1);
					break;
			}
			document.getElementById('progress').value = "30"
			progress1.innerHTML = "30"
			m = document.getElementById("beats").value;
			b = m.indexOf(";");
			//åŸºç¡€èŠ‚æ‹çš„è¯»å–ä¸è½¬æ¢
			n = parseFloat(m);
			n = n * 32;
			a = g;
			c = a.indexOf("},") + 1;
			d = a.slice(0, c);
			a = a.replace(d, "");
			h = "";
			o = o.concat(",");
			while (c > 0) {
				p = o.indexOf(",");
				q = o.slice(0, p);
				o = o.replace(q + ",", "");
				r = q.indexOf("`");
				t = 0;
				while (r > -1) {
					s = q.slice(0, r);
					q = q.replace(s + "`", "");
					s = parseFloat(s);
					t = t + s;
					r = q.indexOf("`");
					if (r = -1) {
						q = parseFloat(q);
						q = t + q;
					}
				}
				q = parseFloat(q);
				q = q - aa;
				if (q > n) {
					games_type = games.value;
					if (games_type == "mas") {
						e = '"seg":[{"beat":[f,u,32],"x":0}]';
					} else {
						e = '],"endbeat": [f,u,32],"';
					}
					u = parseFloat(v);
					w = u;
					w = w.toString();
					v = v.replace(w + ",", "");
					u = u - n;
					f = 0;
					if (u >= 32) {
						f = u / 32;
						f = Math.floor(f);
						u = u - (32 * f);
					}
					games_type = games.value;
					if (games_type == "mas") {
						var a_a = d.indexOf('"beat":[') + 8;
						var a_b = d.indexOf(',32');
						var a_c = d.slice(a_a, a_b);
						var a_c = a_c.split(",");
						a_a = parseFloat(a_c[0]);
						a_b = parseFloat(a_c[1]);
						u = u - a_b + n;
						f = f - a_a;
						if (u < 0) {
							f = f - 1;
							u = 0 - u;
						}
						u = u.toString();
						f = f.toString();
						e = e.replace("u", u);
						e = e.replace("f", f);
						d = d.replace('end', e);
					} else {
						u = u.toString();
						f = f.toString();
						e = e.replace("u", u);
						e = e.replace("f", f);
						d = d.replace('],"', e);
					}
				} else {
					u = parseFloat(v);
					w = u;
					w = w.toString();
					v = v.replace(w + ",", "");
					games_type = games.value;
					if (games_type == "mas") {
						d = d.replace(',end', "");
					}
				}
				aa = q + aa;
				h = h.replace(h, h + d);
				c = a.indexOf("},") + 1;
				d = a.slice(0, c);
				a = a.replace(d, "");
			}
			document.getElementById('progress').value = "35"
			progress1.innerHTML = "35"
			//éŸ³ç¬¦ç©æ³•çš„æœ€åè°ƒæ•´
			ba = ba.replace(/]/g, "");
			b1 = ba.indexOf("q");
			b2 = ba.indexOf("p");
			b3 = ba.indexOf("i");
			b5 = ba.indexOf("h");
			b6 = ba.indexOf("j");
			b7 = ba.indexOf("k");
			b8 = ba.indexOf("l");
			b9 = ba.indexOf("m");
			b10 = ba.indexOf("n");
			bb = ba.indexOf("o");
			console.warn(ba);
			while (bb > -1) {
				if (b1 < bb && b1 > -1) {
					ba = ba.replace(/q/, "");
					ba = ba.replace(/`o/, "");
					ba = ba.replace(/,o/, "");
				}
				if (b2 < bb && b2 > -1) {
					ba = ba.replace(/p/, "");
					ba = ba.replace(/`o/, "");
					ba = ba.replace(/,o/, "");
				}
				if (b3 < bb && b3 > -1) {
					bc = ba.slice(b3, bb + 2);
					ba = ba.replace(bc, "test6,");
				}
				if (b5 < bb && b5 > -1) {
					bc = ba.slice(b5, bb + 2);
					ba = ba.replace(bc, "test5,");
				}
				if (b6 < bb && b6 > -1) {
					bc = ba.slice(b6, bb + 2);
					ba = ba.replace(bc, "test6,");
				}
				if (b7 < bb && b7 > -1) {
					bc = ba.slice(b7, bb + 2);
					ba = ba.replace(bc, "test6,");
				}
				if (b8 < bb && b8 > -1) {
					bc = ba.slice(b8, bb + 2);
					ba = ba.replace(bc, "test5,");
				}
				if (b9 < bb && b9 > -1) {
					bc = ba.slice(b9, bb + 2);
					ba = ba.replace(bc, "test9,");
				}
				if (b10 < bb && b10 > -1) {
					bc = ba.slice(b10, bb + 2);
					bf = bc;
					bd = bc.indexOf(",");
					if (bd > -1) {
						be = bc.slice(1, bd);
						bc = bc.replace(be, "test5");
						bc = bc.replace(/n/, "");
						bc = bc.replace(/`o/, "");
						bc = bc.replace(/,o/, "");
						ba = ba.replace(bf, bc);
					}
				}
				document.getElementById('progress').value = "40"
				progress1.innerHTML = "40"
				b1 = ba.indexOf("q");
				b2 = ba.indexOf("p");
				b3 = ba.indexOf("i");
				b5 = ba.indexOf("h");
				b6 = ba.indexOf("j");
				b7 = ba.indexOf("k");
				b8 = ba.indexOf("l");
				b9 = ba.indexOf("m");
				b10 = ba.indexOf("n");
				bb = ba.indexOf("o");
			}
			h = h.concat(",");
			ha5 = "";
			ha1 = h.indexOf("},") + 2;
			var hc1;
			while (ha1 > 1) {
				ha2 = h.slice(0, ha1);
				h = h.replace(ha2, "");
				ha3 = ba.indexOf(",") + 1;
				ha4 = ba.slice(0, ha3);
				ba = ba.replace(ha4, "");
				//åŒé»‘å—çš„ç”Ÿæˆ
				if (ha4 == "test5,") {
					hb1 = ha2.indexOf('n":') + 3;
					hb2 = ha2.slice(hb1, hb1 + 1);
					hb2 = parseFloat(hb2);
					hb4 = hb2;
					if (hc1 == hb2 || hc1 == hb2 + 2 || hc1 == hb2 - 2) {
						hb2 = hb2 + 1;
						if (hb2 > 3) {
							hb2 = hb2 - 2;
						}
						ha2 = ha2.replace('"column":' + hb4, '"column":' + hb2);
					}
					switch (hb2) {
						case 0:
							hb3 = ha2;
							hb3 = hb3.replace('"column":0', '"column":2');
							ha2 = ha2.concat(hb3);
							break;
						case 1:
							hb3 = ha2;
							hb3 = hb3.replace('"column":1', '"column":3');
							ha2 = ha2.concat(hb3);
							break;
						case 2:
							hb3 = ha2;
							hb3 = hb3.replace('"column":2', '"column":0');
							ha2 = ha2.concat(hb3);
							break;
						case 3:
							hb3 = ha2;
							hb3 = hb3.replace('"column":3', '"column":1');
							ha2 = ha2.concat(hb3);
							break;
					}
					hc1 = hb2;
					ha5 = ha5 + ha2;
					document.getElementById('progress').value = "45"
					progress1.innerHTML = "45"
				} else if (ha4 == "test9,") {
					document.getElementById('progress').value = "45"
					progress1.innerHTML = "45"
					//ä¼´å¥å—æš‚æ—¶ä¸åš
				} else {
					//éåŒé»‘å—çš„ç”Ÿæˆ
					hb1 = ha2.indexOf('n":') + 3;
					hb2 = ha2.slice(hb1, hb1 + 1);
					hb2 = parseFloat(hb2);
					hb4 = hb2;
					//é¿å…åé¢çš„é»‘å—ç”Ÿæˆåœ¨åŒé»‘å—ä¸Šé€ æˆè¿ç»­
					if (hc1 == hb2 || hc1 == hb2 + 2 || hc1 == hb2 - 2) {
						if (Math.random() * 2 > 1) {
							hb2 = hb2 - 1;
							if (hb2 < 0) {
								hb2 = hb2 + 2;
							}
						} else {
							hb2 = hb2 + 1;
							if (hb2 > 3) {
								hb2 = hb2 - 2;
							}
						}
						ha2 = ha2.replace('"column":' + hb4, '"column":' + hb2);
					}
					hc1 = hb2;
					ha5 = ha5 + ha2;
					document.getElementById('progress').value = "45"
					progress1.innerHTML = "45"
				}
				ha1 = h.indexOf("},") + 2;
			}
			document.getElementById("result").innerHTML = ha5;
			timerstart = false;
			clock = 0;
			document.getElementById('progress').value = "50"
			progress1.innerHTML = "50"
			if (document.getElementById('sound').checked == true) {
				Function1();
				Function1_a();
			} else {
				a = ""
			}
			ha5 = ha5 + a;
			sound3();
			document.getElementById('progress').value = "100"
			progress1.innerHTML = "100"
		}
	}
	//å£°éŸ³è½¬æ¢éƒ¨åˆ†
	function Function1() {
		timerstart = true;
		timer();
		a = filesound;
		a = a.replace(/;/g, ",");
		if (document.getElementById('reverse').checked == true) {
			a = a.split(',');
			a = a.reverse();
			delete a[0];
			a = a.toString();
			a = a.replace(",", "");
			a = a + ",";
		}
		a = a.replace(/chuanshao/g, "mute");
		//è‡ªåŠ¨çº é”™éŸ³ç¬¦é”™è¯¯
		if (a.indexOf("#B") > -1 || a.indexOf("#E") > -1 || a.indexOf("#b") > -1 || a.indexOf("#e") > -1) {
			a = a.replace(/#e/g, "f");
			a = a.replace(/#b/g, "c1");
			a = a.replace(/#b1/g, "c2");
			a = a.replace(/#b2/g, "c3");
			a = a.replace(/#b3/g, "c4");
			a = a.replace(/#b4/g, "c5");
			a = a.replace(/#E/g, "F");
			a = a.replace(/#B-1/g, "c");
			a = a.replace(/#B-2/g, "C-1");
			a = a.replace(/#B-3/g, "C-2");
			lock();
			setTimeout(function () {
				warning.innerHTML = "<b>æ³¨æ„ï¼jsonä¸­å‡ºç°#eæˆ–#bç­‰é”™è¯¯éŸ³ç¬¦ï¼Œç¨‹åºå·²è‡ªåŠ¨çº é”™ã€‚æŒ‰ä¸‹èœå•é”®ã€è¿”å›é”®æˆ–ç‚¹å‡»æ­¤æ¶ˆæ¯å¯è§£é”ç„¦ç‚¹ã€‚</b>";
				if (zh_choose == "t") {
					zh_tran('t');
				}
			}, 100);
		}
		//å¯¹å°ç¨‹åºçš„jsoné‡Œçš„ç‰¹æ•ˆä»£ç åˆ é™¤ï¼ˆæ— æ³•ç¡®å®šæ˜¯å¦ä¸ºéŸ³ç¬¦çš„éŸ³é‡å¤§å°æ§åˆ¶ï¼‰
		if (a.indexOf("]0") > -1 || a.indexOf("]1") > -1 || a.indexOf("]2") > -1 || a.indexOf("]3") > -1 || a.indexOf("]4") > -1 || a.indexOf("]5") > -1 || a.indexOf("]6") > -1 || a.indexOf("]7") > -1 || a.indexOf("]8") > -1 || a.indexOf("]9") > -1 || a.indexOf("}0") > -1 || a.indexOf("}1") > -1 || a.indexOf("}2") > -1 || a.indexOf("}3") > -1 || a.indexOf("}4") > -1 || a.indexOf("}5") > -1 || a.indexOf("}6") > -1 || a.indexOf("}7") > -1 || a.indexOf("}8") > -1 || a.indexOf("}9") > -1) {
			a = a.replace(/]0/g, "]{0");
			a = a.replace(/]1/g, "]{1");
			a = a.replace(/]2/g, "]{2");
			a = a.replace(/]3/g, "]{3");
			a = a.replace(/]4/g, "]{4");
			a = a.replace(/]5/g, "]{5");
			a = a.replace(/]6/g, "]{6");
			a = a.replace(/]7/g, "]{7");
			a = a.replace(/]8/g, "]{8");
			a = a.replace(/]9/g, "]{9");
			a = a.replace(/}0/g, "}{0");
			a = a.replace(/}1/g, "}{1");
			a = a.replace(/}2/g, "}{2");
			a = a.replace(/}3/g, "}{3");
			a = a.replace(/}4/g, "}{4");
			a = a.replace(/}5/g, "}{5");
			a = a.replace(/}6/g, "}{6");
			a = a.replace(/}7/g, "}{7");
			a = a.replace(/}8/g, "}{8");
			a = a.replace(/}9/g, "}{9");
			a = a.replace(/0,/g, "0},");
			a = a.replace(/1,/g, "1},");
			a = a.replace(/2,/g, "2},");
			a = a.replace(/3,/g, "3},");
			a = a.replace(/4,/g, "4},");
			a = a.replace(/5,/g, "5},");
			a = a.replace(/6,/g, "6},");
			a = a.replace(/7,/g, "7},");
			a = a.replace(/8,/g, "8},");
			a = a.replace(/9,/g, "9},");
			a = a.replace(/0{/g, "0}{");
			a = a.replace(/1{/g, "1}{");
			a = a.replace(/2{/g, "2}{");
			a = a.replace(/3{/g, "3}{");
			a = a.replace(/4{/g, "4}{");
			a = a.replace(/5{/g, "5}{");
			a = a.replace(/6{/g, "6}{");
			a = a.replace(/7{/g, "7}{");
			a = a.replace(/8{/g, "8}{");
			a = a.replace(/9{/g, "9}{");
		}
		//åˆ é™¤è§†è§‰ç‰¹æ•ˆä»£ç 
		while (a.indexOf("{") > -1) {
			b = a.indexOf("{");
			c = a.indexOf("}") + 1;
			d = a.slice(b, c);
			a = a.replace(d, "");
		}
		//å¯¹é’¢ç´å—å¤åˆ¶å“çš„jsonçš„å…¼å®¹
		a = a.replace(/zz01/g, "A-3");
		a = a.replace(/zz02/g, "#A-3");
		a = a.replace(/zz03/g, "B-3");
		a = a.replace(/zz04/g, "C-2");
		a = a.replace(/zz05/g, "#C-2");
		a = a.replace(/zz06/g, "D-2");
		a = a.replace(/zz07/g, "#D-2");
		a = a.replace(/zz08/g, "E-2");
		a = a.replace(/zz09/g, "F-2");
		a = a.replace(/zz10/g, "#F-2");
		a = a.replace(/zz11/g, "G-2");
		a = a.replace(/zz12/g, "#G-2");
		a = a.replace(/zz13/g, "A-2");
		a = a.replace(/zz14/g, "#A-2");
		a = a.replace(/zz15/g, "B-2");
		a = a.replace(/zz16/g, "C-1");
		a = a.replace(/zz17/g, "#C-1");
		a = a.replace(/zz18/g, "D-1");
		a = a.replace(/zz19/g, "#D-1");
		a = a.replace(/zz20/g, "E-1");
		a = a.replace(/zz21/g, "F-1");
		a = a.replace(/zz22/g, "#F-1");
		a = a.replace(/zz23/g, "G-1");
		a = a.replace(/zz24/g, "#G-1");
		a = a.replace(/zz25/g, "A-1");
		a = a.replace(/zz26/g, "#A-1");
		a = a.replace(/zz27/g, "B-1");
		a = a.replace(/zz28/g, "c");
		a = a.replace(/zz29/g, "#c");
		a = a.replace(/zz30/g, "d");
		a = a.replace(/zz31/g, "#d");
		a = a.replace(/zz32/g, "e");
		a = a.replace(/zz33/g, "f");
		a = a.replace(/zz34/g, "#f");
		a = a.replace(/zz35/g, "g");
		a = a.replace(/zz36/g, "#g");
		a = a.replace(/zz37/g, "a");
		a = a.replace(/zz38/g, "#a");
		a = a.replace(/zz39/g, "b");
		a = a.replace(/zz40/g, "c1");
		a = a.replace(/zz41/g, "#c1");
		a = a.replace(/zz42/g, "d1");
		a = a.replace(/zz43/g, "#d1");
		a = a.replace(/zz44/g, "e1");
		a = a.replace(/zz45/g, "f1");
		a = a.replace(/zz46/g, "#f1");
		a = a.replace(/zz47/g, "g1");
		a = a.replace(/zz48/g, "#g1");
		a = a.replace(/zz49/g, "a1");
		a = a.replace(/zz50/g, "#a1");
		a = a.replace(/zz51/g, "b1");
		a = a.replace(/zz52/g, "c2");
		a = a.replace(/zz53/g, "#c2");
		a = a.replace(/zz54/g, "d2");
		a = a.replace(/zz55/g, "#d2");
		a = a.replace(/zz56/g, "e2");
		a = a.replace(/zz57/g, "f2");
		a = a.replace(/zz58/g, "#f2");
		a = a.replace(/zz59/g, "g2");
		a = a.replace(/zz60/g, "#g2");
		a = a.replace(/zz61/g, "a2");
		a = a.replace(/zz62/g, "#a2");
		a = a.replace(/zz63/g, "b2");
		a = a.replace(/zz64/g, "c3");
		a = a.replace(/zz65/g, "#c3");
		a = a.replace(/zz66/g, "d3");
		a = a.replace(/zz67/g, "#d3");
		a = a.replace(/zz68/g, "e3");
		a = a.replace(/zz69/g, "f3");
		a = a.replace(/zz70/g, "#f3");
		a = a.replace(/zz71/g, "g3");
		a = a.replace(/zz72/g, "#g3");
		a = a.replace(/zz73/g, "a3");
		a = a.replace(/zz74/g, "#a3");
		a = a.replace(/zz75/g, "b3");
		a = a.replace(/zz76/g, "c4");
		a = a.replace(/zz77/g, "#c4");
		a = a.replace(/zz78/g, "d4");
		a = a.replace(/zz79/g, "#d4");
		a = a.replace(/zz80/g, "e4");
		a = a.replace(/zz81/g, "f4");
		a = a.replace(/zz82/g, "#f4");
		a = a.replace(/zz83/g, "g4");
		a = a.replace(/zz84/g, "#g4");
		a = a.replace(/zz85/g, "a4");
		a = a.replace(/zz86/g, "#a4");
		a = a.replace(/zz87/g, "b4");
		a = a.replace(/zz88/g, "c5");
		//æ­£å¸¸è½¬æ¢
		a = a.replace(/5</g, "");
		a = a.replace(/2</g, "");
		a = a.replace(/1</g, "");
		a = a.replace(/3</g, "");
		a = a.replace(/6</g, "");
		a = a.replace(/7</g, "");
		a = a.replace(/8</g, "");
		a = a.replace(/9</g, "");
		a = a.replace(/10</g, "");
		a = a.replace(/>/g, "");
		a = a.replace(/,a/g, ",(a");
		a = a.replace(/,b/g, ",(b");
		a = a.replace(/,c/g, ",(c");
		a = a.replace(/,d/g, ",(d");
		a = a.replace(/,e/g, ",(e");
		a = a.replace(/,f/g, ",(f");
		a = a.replace(/,g/g, ",(g");
		a = a.replace(/,A/g, ",(A");
		a = a.replace(/,B/g, ",(B");
		a = a.replace(/,C/g, ",(C");
		a = a.replace(/,D/g, ",(D");
		a = a.replace(/,E/g, ",(E");
		a = a.replace(/,F/g, ",(F");
		a = a.replace(/,G/g, ",(G");
		a = a.replace(/1\[/g, "1)[");
		a = a.replace(/2\[/g, "2)[");
		a = a.replace(/3\[/g, "3)[");
		a = a.replace(/4\[/g, "4)[");
		a = a.replace(/5\[/g, "5)[");
		a = a.replace(/a\[/g, "a)[");
		a = a.replace(/b\[/g, "b)[");
		a = a.replace(/c\[/g, "c)[");
		a = a.replace(/d\[/g, "d)[");
		a = a.replace(/e\[/g, "e)[");
		a = a.replace(/f\[/g, "f)[");
		a = a.replace(/g\[/g, "g)[");
		if (a.indexOf("#") == 0 || a.indexOf("a") == 0 || a.indexOf("b") == 0 || a.indexOf("c") == 0 || a.indexOf("d") == 0 || a.indexOf("e") == 0 || a.indexOf("f") == 0 || a.indexOf("g") == 0 || a.indexOf("A") == 0 || a.indexOf("B") == 0 || a.indexOf("C") == 0 || a.indexOf("D") == 0 || a.indexOf("E") == 0 || a.indexOf("F") == 0 || a.indexOf("G") == 0 || a.indexOf("mute") == 0) {
			a = "(".concat(a);
		}
		a = a.replace(/,#/g, ",(#");
		a = a.replace(/,mute/g, ",(mute");
		j = a;
		while (j.indexOf("(") > -1) {
			b = j.indexOf("(");
			c = j.indexOf(")") + 1;
			d = j.slice(b, c);
			j = j.replace(d, "");
		}
		j = j.replace(/Q/g, "");
		j = j.replace(/R/g, "");
		j = j.replace(/S/g, "");
		j = j.replace(/T/g, "");
		j = j.replace(/U/g, "");
		j = j.replace(/V/g, "");
		j = j.replace(/W/g, "");
		j = j.replace(/X/g, "");
		j = j.replace(/Y/g, "");
		while (j.indexOf(",,") > -1) {
			j = j.replace(/,,/g, "");
		}
		a = a.replace(/H/g, "256+");
		a = a.replace(/I/g, "128+");
		a = a.replace(/J/g, "64+");
		a = a.replace(/K/g, "32+");
		a = a.replace(/L/g, "16+");
		a = a.replace(/M/g, "8+");
		a = a.replace(/N/g, "4+");
		a = a.replace(/O/g, "2+");
		a = a.replace(/P/g, "1+");
		j = j.replace(/H/g, "256+");
		j = j.replace(/I/g, "128+");
		j = j.replace(/J/g, "64+");
		j = j.replace(/K/g, "32+");
		j = j.replace(/L/g, "16+");
		j = j.replace(/M/g, "8+");
		j = j.replace(/N/g, "4+");
		j = j.replace(/O/g, "2+");
		j = j.replace(/P/g, "1+");
		while (j.indexOf("[") > -1) {
			b = j.indexOf("[");
			c = j.indexOf("]");
			d = j.slice(b + 1, c);
			l = d;
			var k = 0;
			while (d.indexOf("+") > -1) {
				e = d.indexOf("+");
				f = d.slice(0, e);
				d = d.replace(f + "+", "");
				f = parseFloat(f);
				f = f + k;
				k = f;
			}
			j = j.replace(l, f);
			j = j.replace(/\[/, "<");
			j = j.replace(/\]/, ">");
		}
		if (a.indexOf("Q") == 0 || a.indexOf("R") == 0 || a.indexOf("S") == 0 || a.indexOf("T") == 0 || a.indexOf("U") == 0 || a.indexOf("V") == 0 || a.indexOf("W") == 0 || a.indexOf("X") == 0 || a.indexOf("Y") == 0) {
			a = "[".concat(a);
		}
		a = a.replace(/Q,/g, "256+],");
		a = a.replace(/R,/g, "128+],");
		a = a.replace(/S,/g, "64+],");
		a = a.replace(/T,/g, "32+],");
		a = a.replace(/U,/g, "16+],");
		a = a.replace(/V,/g, "8+],");
		a = a.replace(/W,/g, "4+],");
		a = a.replace(/X,/g, "2+],");
		a = a.replace(/Y,/g, "1+],");
		a = a.replace(/,Q/g, ",[256+");
		a = a.replace(/,R/g, ",[128+");
		a = a.replace(/,S/g, ",[64+");
		a = a.replace(/,T/g, ",[32+");
		a = a.replace(/,U/g, ",[16+");
		a = a.replace(/,V/g, ",[8+");
		a = a.replace(/,W/g, ",[4+");
		a = a.replace(/,X/g, ",[2+");
		a = a.replace(/,Y/g, ",[1+");
		a = a.replace(/,256\+/g, ",[256+");
		a = a.replace(/,128\+/g, ",[128+");
		a = a.replace(/,64\+/g, ",[64+");
		a = a.replace(/,32\+/g, ",[32+");
		a = a.replace(/,16\+/g, ",[16+");
		a = a.replace(/,8\+/g, ",[8+");
		a = a.replace(/,4\+/g, ",[4+");
		a = a.replace(/,2\+/g, ",[2+");
		a = a.replace(/,1\+/g, ",[1+");
		a = a.replace(/\[Q/g, "[256+");
		a = a.replace(/\[R/g, "[128+");
		a = a.replace(/\[S/g, "[64+");
		a = a.replace(/\[T/g, "[32+");
		a = a.replace(/\[U/g, "[16+");
		a = a.replace(/\[V/g, "[8+");
		a = a.replace(/\[W/g, "[4+");
		a = a.replace(/\[X/g, "[2+");
		a = a.replace(/\[Y/g, "[1+");
		a = a.replace(/\++/g, "+");
		while (a.indexOf("+Q") > -1 || a.indexOf("+R") > -1 || a.indexOf("+S") > -1 || a.indexOf("+T") > -1 || a.indexOf("+U") > -1 || a.indexOf("+V") > -1 || a.indexOf("+W") > -1 || a.indexOf("+X") > -1 || a.indexOf("+Y") > -1) {
			a = a.replace(/\+Q/g, "+256+");
			a = a.replace(/\+R/g, "+128+");
			a = a.replace(/\+S/g, "+64+");
			a = a.replace(/\+T/g, "+32+");
			a = a.replace(/\+U/g, "+16+");
			a = a.replace(/\+V/g, "+8+");
			a = a.replace(/\+W/g, "+4+");
			a = a.replace(/\+X/g, "+2+");
			a = a.replace(/\+Y/g, "+1+");
		}
		a = a.replace(/mute/g, "");
		a = a.replace(/chuanshao/g, "");
		b = a.indexOf("[");
		c = a.indexOf("]");
		var soundtime = 0;
		//æ•´ç†éŸ³ç¬¦æ—¶é—´å †ç§¯
		while (a.indexOf("[") > -1) {
			b = a.indexOf("[");
			c = a.indexOf("]");
			d = a.slice(b, c + 1);
			e = d;
			d = d.replace(/\[/g, "<");
			d = d.replace(/\]/g, ">");
			a = a.replace(e, d);
			h = d;
			while (d.indexOf("+") > -1) {
				f = d.indexOf("+");
				g = d.slice(1, f);
				d = d.replace(g + "+", "");
				g = parseFloat(g);
				soundtime = soundtime + g;
			}
			if (d.indexOf("+") == -1) {
				a = a.replace(h, "<" + soundtime + ">");
			}
		}
		b = a.lastIndexOf("<");
		c = a.lastIndexOf(">") + 1;
		d = a.slice(b, c);
		a = a.replace(d, '[endnotetime]');
		while (a.indexOf("[endnotetime]") > -1) {
			b = a.lastIndexOf("<");
			c = a.lastIndexOf(">") + 1;
			if (b == -1) {
				a = a.replace("[endnotetime]", "<0>");
			} else {
				d = a.slice(b + 1, c - 1);
				a = a.replace("[endnotetime]", "[" + d + "]");
				a = a.replace("<" + d + ">", '[endnotetime]');
			}
		}
		a = a.replace("<0>", '[0]');
	}
	function Function1_a() {
		//æ ¼å¼åŒ–
		a = a.replace(/\[/g, '"beat":[');
		a = a.replace(/\]/g, "]");
		a = "{".concat(a);
		a = a.replace(/],/g, '],"type":1,"vol":volnum,"sound":"soundname"},');
		a = a.replace(/,\(/g, ",{(");
		a = a.replace(/},\"/g, '},{"');
		//æ¸…é™¤ä¼‘æ­¢ç¬¦
		while (a.indexOf("{") > -1) {
			b = a.indexOf("{");
			c = a.indexOf("}") + 2;
			d = a.slice(b, c);
			if (d.indexOf('"') == 1) {
				a = a.replace(d, "");
			} else {
				a = a.replace("{", "<");
				a = a.replace("}", ">");
			}
		}
		a = a.replace(/</g, '{');
		a = a.replace(/>/g, "}");
		//å¯¹äºå…¨å±€éŸ³ç¬¦éŸ³é‡å¤§å°çš„è°ƒæ•´ï¼ˆå¦‚æœç¢°åˆ°midiæ–‡ä»¶çš„è½¬æ¢æ—¶å¦å¤–è€ƒè™‘ï¼‰
		vol1 = document.getElementById("vol").value;
		vol1 = vol1.toString();
		a = a.replace(/volnum/g, vol1);
		//éŸ³ç¬¦ä½ç½®ä½œè¿›ä¸€æ­¥çš„è°ƒæ•´
		a = a.replace(/\]/g, ",32]")
		a = a.replace(/\[/g, "[notetime,")
		while (a.indexOf("[") > -1) {
			b = a.indexOf("[");
			c = a.indexOf("]") + 1;
			d = a.slice(b, c);
			a = a.replace("[", "<");
			a = a.replace("]", ">");
			e = d.indexOf("notetime,") + 9;
			f = d.indexOf(",32]");
			g = d.slice(e, f);
			g = parseFloat(g);
			if (g > 32) {
				h = g / 32;
				h = Math.floor(h);
				i = g;
				a = a.replace("notetime", h);
				g = g - (h * 32);
				a = a.replace(i, g);
			} else {
				a = a.replace("notetime", "0");
				a = a.replace("0,32,", "1, 0,");
			}
		}
		a = a.replace(/</g, '[');
		a = a.replace(/>/g, ']');
		a = a.replace(/\$/g, '~');
		a = a.replace(/\&/g, '^');
		while (a.indexOf("(") > -1) {
			b = a.indexOf("(");
			c = a.indexOf(")") + 1;
			d = a.slice(b, c);
			//æ™®é€šéŸ³ç¬¦ä¸å’Œå¼¦çš„å¤„ç†
			if (d.indexOf("^") == -1 && d.indexOf("~") == -1 && d.indexOf("@") == -1 && d.indexOf("%") == -1 && d.indexOf("!") == -1) {
				a = a.replace("{", "<");
				a = a.replace("}", ">");
				e = a.indexOf("<");
				f = a.indexOf(">") + 1;
				g = a.slice(e, f);
				a = a.replace(d, "");
				d = d.replace("(", "");
				d = d.replace(")", "");
				a = a.replace("soundname", "midi_timbre_id/" + d + ".mp3");
			}
			//ä¸èµæˆä½¿ç”¨ ^ ä¸ & å­—ç¬¦ï¼Œæ•…ä¸åŸæ¸¸æˆçš„æ’­æ”¾æ•ˆæœä¸åŒ
			if (d.indexOf("^") > -1) {
				a = a.replace(d, "");
				e = a.indexOf("{");
				f = a.indexOf("}") + 2;
				a = a.replace("{", "<");
				a = a.replace("}", ">");
				g = a.slice(e, f);
				d = d.replace(/@/g, '^');
				d = d.replace(/!/g, '^');
				d = d.replace(/%/g, '^');
				d = d.replace(/~/g, '^');
				d = d.replace(/\(/, '');
				d = d.replace(/\)/, '');
				k = j.indexOf("<");
				l = j.indexOf(">") + 1;
				d = d.replace(/\(/, '');
				d = d.replace(/\)/, '');
				d = d + "^" + d + "^" + d;
				m = j.slice(k, l);
				j = j.replace(m, "");
				m = m.replace("<", "");
				m = m.replace(">", "");
				n = g.indexOf(",");
				o = g.indexOf(",32");
				p = g.slice(n + 1, o);
				t = p;
				p = parseFloat(p);
				h = (d.split('^'));
				m = parseFloat(m);
				tercetsound();
			}
			//ä¸å…è®¸ç¶éŸ³ä¸è¿éŸ³æ··è£…åœ¨ä¸€ä¸ªæ‹¬å·å†…ï¼Œåœ¨è¿éŸ³æ‹¬å·å†…çš„ç¶éŸ³éŸ³ç¬¦ä¼šè½¬æ¢ä¸ºè¿éŸ³
			//è¿éŸ³è½¬æ¢
			if (d.indexOf("~") > -1) {
				a = a.replace(d, "");
				e = a.indexOf("{");
				f = a.indexOf("}") + 2;
				a = a.replace("{", "<");
				a = a.replace("}", ">");
				g = a.slice(e, f);
				d = d.replace(/@/g, '~');
				d = d.replace(/!/g, '~');
				d = d.replace(/%/g, '~');
				d = d.replace(/\(/, '');
				d = d.replace(/\)/, '');
				d = d.replace(/Q/g, "mute");
				d = d.replace(/R/g, "mute");
				d = d.replace(/S/g, "mute");
				d = d.replace(/T/g, "mute");
				d = d.replace(/U/g, "mute");
				d = d.replace(/V/g, "mute");
				d = d.replace(/W/g, "mute");
				d = d.replace(/X/g, "mute");
				d = d.replace(/Y/g, "mute");
				d = d.replace(/Z/g, "mute");
				k = j.indexOf("<");
				l = j.indexOf(">") + 1;
				m = j.slice(k, l);
				j = j.replace(m, "");
				m = m.replace("<", "");
				m = m.replace(">", "");
				n = g.indexOf(",");
				o = g.indexOf(",32");
				p = g.slice(n + 1, o);
				t = p;
				p = parseFloat(p);
				h = (d.split('~'));
				m = parseFloat(m);
				tercetsound();
			}
			//ç¶éŸ³è½¬æ¢
			if (d.indexOf("@") > -1) {
				a = a.replace(d, "");
				e = a.indexOf("{");
				f = a.indexOf("}") + 2;
				a = a.replace("{", "<");
				a = a.replace("}", ">");
				g = a.slice(e, f);
				d = d.replace(/\(/, '');
				d = d.replace(/\)/, '');
				k = j.indexOf("<");
				l = j.indexOf(">") + 1;
				m = j.slice(k, l);
				j = j.replace(m, "");
				m = m.replace("<", "");
				m = m.replace(">", "");
				n = g.indexOf(",");
				o = g.indexOf(",32");
				p = g.slice(n + 1, o);
				t = p;
				p = parseFloat(p);
				h = (d.split('@'));
				m = parseFloat(m);
				m = m / 4;
				tercetsound();
			}
			//ç¶éŸ³è½¬æ¢
			if (d.indexOf("%") > -1) {
				a = a.replace(d, "");
				e = a.indexOf("{");
				f = a.indexOf("}") + 2;
				a = a.replace("{", "<");
				a = a.replace("}", ">");
				g = a.slice(e, f);
				d = d.replace(/\(/, '');
				d = d.replace(/\)/, '');
				k = j.indexOf("<");
				l = j.indexOf(">") + 1;
				m = j.slice(k, l);
				j = j.replace(m, "");
				m = m.replace("<", "");
				m = m.replace(">", "");
				n = g.indexOf(",");
				o = g.indexOf(",32");
				p = g.slice(n + 1, o);
				t = p;
				p = parseFloat(p);
				h = (d.split('%'));
				m = parseFloat(m);
				m = m / 3;
				tercetsound();
			}
			//ç¶éŸ³è½¬æ¢
			if (d.indexOf("!") > -1) {
				a = a.replace(d, "");
				e = a.indexOf("{");
				f = a.indexOf("}") + 2;
				a = a.replace("{", "<");
				a = a.replace("}", ">");
				g = a.slice(e, f);
				d = d.replace(/\(/, '');
				d = d.replace(/\)/, '');
				k = j.indexOf("<");
				l = j.indexOf(">") + 1;
				m = j.slice(k, l);
				j = j.replace(m, "");
				m = m.replace("<", "");
				m = m.replace(">", "");
				n = g.indexOf(",");
				o = g.indexOf(",32");
				p = g.slice(n + 1, o);
				t = p;
				p = parseFloat(p);
				h = (d.split('!'));
				m = parseFloat(m);
				m = m / 2;
				tercetsound();
			}
		}
		//å†æ¬¡å¤„ç†å’Œå¼¦
		while (a.indexOf("<") > -1) {
			e = a.indexOf("<");
			f = a.indexOf(">") + 1;
			a = a.replace("<", "{");
			a = a.replace(">", "}");
			g = a.slice(e, f);
			h = g.indexOf("/") + 1;
			i = g.indexOf(".mp3");
			j = g.slice(h, i);
			m = g;
			if (j.indexOf(".") > -1) {
				k = (j.split('.'));
				for (l = 0; l < k.length - 1; l++) {
					m = m + ",".concat(g);
				}
				for (l = 0; l < k.length; l++) {
					m = m.replace(j, k[l]);
				}
				a = a.replace(g, m);
			}
		}
		a = a.replace(/ /g, "");
		while (a.indexOf("midi_timbre_id/.mp3") > -1) {
			a = a.replace("midi_timbre_id/.mp3", "midi_timbre_id/mute.mp3");
		}
		a = a.replace(/{/g, "<");
		a = a.replace(/}/g, ">");
		while (a.indexOf("<") > -1) {
			e = a.indexOf("<");
			f = a.indexOf(">") + 2;
			a = a.replace("<", "{");
			a = a.replace(">", "}");
			g = a.slice(e, f);
			if (g.indexOf("mute") > -1) {
				a = a.replace(g, "");
			}
		}
		//osu
		games_type = games.value;
		if (games_type == "om") {
			a = a.replace(/},/g, "};");
			a = a.split(";");
			d_a = '\nSample,notepos,0,"notesound",volnum';
			d_sound = "";
			for (g_b = 0; g_b < a.length - 1; g_b++) {
				d_sound = d_sound + d_a;
				d_b = a[g_b];
				d_c = d_b.indexOf("[") + 1;
				d_d = d_b.indexOf("]");
				d_e = d_b.slice(d_c, d_d);
				d_e = d_e.split(",");
				d_c = d_b.indexOf('"sound":') + 9;
				d_d = d_b.indexOf("mp3") + 3;
				d_f = d_b.slice(d_c, d_d);
				d_sound = d_sound.replace("notesound", d_f);
				d_c = d_b.indexOf('"vol":') + 6;
				d_d = d_b.indexOf(',"s');
				d_f = d_b.slice(d_c, d_d);
				d_sound = d_sound.replace("volnum", d_f);
				m = document.getElementById("bpm").value;
				m = parseFloat(m);
				n = Math.floor(60000 / m);
				d_g = parseFloat(d_e[0]);
				d_g = d_g * n;
				d_h = parseFloat(d_e[1]);
				d_i = parseFloat(d_e[2]);
				d_j = n / d_i;
				d_j = d_h * d_j;
				d_g = d_g + d_j;
				d_g = Math.floor(d_g);
				d_sound = d_sound.replace("notepos", d_g);
			}
			a = d_sound;
		}
		timerstart = false;
		clock = 0;
		//å¯¹äºéŸ³ç¬¦ä¸­ @ ! % ~ å­—ç¬¦çš„è½¬æ¢
		function tercetsound() {
			q = 32 * h.length;
			u = q;
			p = p * h.length;
			r = g;
			g = g.replace("32]", q + "]");
			g = g.replace(',' + t + ',', ',' + p + ',');
			s = g;
			n = g.indexOf(",");
			o = g.indexOf("," + q);
			p = g.slice(n + 1, o);
			p = parseFloat(p);
			t = p;
			s = s.replace("," + p + ",", ",z,");
			for (i = 0; i < h.length - 1; i++) {
				s = s.concat(g);
				t = t + m;
				t = t.toFixed(0);
				t = parseFloat(t);
				s = s.replace("," + p + ",", "," + t + ",");
			}
			s = s.replace(",z,", "," + p + ",");
			for (i = 0; i < h.length; i++) {
				q = h[i];
				q = q.replace(/"/g, "");
				s = s.replace("soundname", "midi_timbre_id/" + q + ".mp3");
			}
			a = a.replace(r, s);
		}
	}
	key_value();
	function key_value() {
		setTimeout(function () {
			var keyselect = document.getElementById("key"); var keyindex = keyselect.selectedIndex; var keyvalue = keyselect.options[keyindex].value;//console.log(keyvalue);
			key_value();
		}, 200);
	}
	var windowsopen = false;
	//è§¦æ‘¸éƒ¨åˆ†ï¼Œä¸ºæ‰‹æœºã€å¹³æ¿ã€å¯¼èˆªå’Œæ‰‹è¡¨ç­‰æ‹¥æœ‰è§¦æ§çš„è®¾å¤‡ä½¿ç”¨
	document.addEventListener('touchstart', touch, false);
	document.addEventListener('touchmove', touch, false);
	function touch(event) {
		var distance, clientX_start, clientX_end;
		this.callbackFun = function () {
		}
		switch (event.type) {
			case "touchstart":
				clientX_start = event.touches[0].clientX;
				this.clientX_start = clientX_start;
				break;
			case "touchmove":
				if (windowsopen == false) {
					clientX_end = event.changedTouches[0].clientX;
					if (this.clientX_start + 50 < clientX_end) {
						id2 = 0;
						document.getElementById('id1').style.animation = 'board_1 1s';
						document.getElementById('id1').style.left = '0px';
						document.getElementById('id3').style.width = '100%';
					}
					if (this.clientX_start - 50 > clientX_end) {
						id2 = 1;
						document.getElementById('id1').style.animation = 'board_0 1s';
						document.getElementById('id1').style.left = '-250px';
						document.getElementById('id3').style.width = '0%';
					}
				}
				break;
		}
	}
	//çª—å£éƒ¨åˆ†
	function about() {
		windowsopen = true;
		ff1 = true;
		document.getElementById('mask').style.display = "";
		document.getElementById("box").style.display = "";
		document.getElementById('box').style.animation = 'board_3 0.1s';
		document.getElementById('box').style.height = '30px';
		document.getElementById('box').style.width = '60%';
		const box = document.getElementById('box')
		var movex = 0;
		var movey = 0;
		var movel = 0;
		var movet = 0;
		var isDown = false;
		//é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶
		box.onmousedown = function (movee) {
			//è·å–xåæ ‡å’Œyåæ ‡
			movex = movee.clientX;
			movey = movee.clientY;
			//è·å–å·¦éƒ¨å’Œé¡¶éƒ¨çš„åç§»é‡
			movel = box.offsetLeft;
			movet = box.offsetTop;
			//å¼€å…³æ‰“å¼€
			isDown = true;
			//è®¾ç½®æ ·å¼
			box.style.cursor = 'move';
		}
		//é¼ æ ‡ç§»åŠ¨
		window.onmousemove = function (movee) {
			if (isDown == false) {
				return;
			}
			//è·å–xå’Œy
			var movenx = movee.clientX;
			var moveny = movee.clientY;
			//è®¡ç®—ç§»åŠ¨åçš„å·¦åç§»é‡å’Œé¡¶éƒ¨çš„åç§»é‡
			var movenl = movenx - (movex - movel);
			var movent = moveny - (movey - movet);

			box.style.left = movenl + 'px';
			box.style.top = movent + 'px';
		}
		//é¼ æ ‡æŠ¬èµ·äº‹ä»¶
		box.onmouseup = function () {
			//å¼€å…³å…³é—­
			isDown = false;
			box.style.cursor = 'default';
		}
	}
	function id0() {
		windowsopen = true;
		fg1 = true;
		document.getElementById('mask').style.display = "";
		document.getElementById("lang").style.display = "";
		document.getElementById('lang').style.animation = 'board_3 0.1s';
		document.getElementById('lang').style.height = '30px';
		document.getElementById('lang').style.width = '60%';
		const box = document.getElementById('lang')
		var movex = 0;
		var movey = 0;
		var movel = 0;
		var movet = 0;
		var isDown = false;
		//é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶
		box.onmousedown = function (movee) {
			//è·å–xåæ ‡å’Œyåæ ‡
			movex = movee.clientX;
			movey = movee.clientY;
			//è·å–å·¦éƒ¨å’Œé¡¶éƒ¨çš„åç§»é‡
			movel = box.offsetLeft;
			movet = box.offsetTop;
			//å¼€å…³æ‰“å¼€
			isDown = true;
			//è®¾ç½®æ ·å¼
			box.style.cursor = 'move';
		}
		//é¼ æ ‡ç§»åŠ¨
		window.onmousemove = function (movee) {
			if (isDown == false) {
				return;
			}
			//è·å–xå’Œy
			var movenx = movee.clientX;
			var moveny = movee.clientY;
			//è®¡ç®—ç§»åŠ¨åçš„å·¦åç§»é‡å’Œé¡¶éƒ¨çš„åç§»é‡
			var movenl = movenx - (movex - movel);
			var movent = moveny - (movey - movet);

			box.style.left = movenl + 'px';
			box.style.top = movent + 'px';
		}
		//é¼ æ ‡æŠ¬èµ·äº‹ä»¶
		box.onmouseup = function () {
			//å¼€å…³å…³é—­
			isDown = false;
			box.style.cursor = 'default';
		}
	}
	function note() {
		windowsopen = true;
		fe1 = true;
		document.getElementById('mask').style.display = "";
		document.getElementById("note").style.display = "";
		document.getElementById('note').style.animation = 'board_5 0.1s';
		document.getElementById('note').style.height = '30px';
		document.getElementById('note').style.width = '80%';
		var box = document.getElementById('note');
		var movex = 0;
		var movey = 0;
		var movel = 0;
		var movet = 0;
		var isDown = false;
		//é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶
		box.onmousedown = function (movee) {
			//è·å–xåæ ‡å’Œyåæ ‡
			movex = movee.clientX;
			movey = movee.clientY;
			//è·å–å·¦éƒ¨å’Œé¡¶éƒ¨çš„åç§»é‡
			movel = box.offsetLeft;
			movet = box.offsetTop;
			//å¼€å…³æ‰“å¼€
			isDown = true;
			//è®¾ç½®æ ·å¼
			box.style.cursor = 'move';
		}
		//é¼ æ ‡ç§»åŠ¨
		window.onmousemove = function (movee) {
			if (isDown == false) {
				return;
			}
			//è·å–xå’Œy
			var movenx = movee.clientX;
			var moveny = movee.clientY;
			//è®¡ç®—ç§»åŠ¨åçš„å·¦åç§»é‡å’Œé¡¶éƒ¨çš„åç§»é‡
			var movenl = movenx - (movex - movel);
			var movent = moveny - (movey - movet);

			box.style.left = movenl + 'px';
			box.style.top = movent + 'px';
		}
		//é¼ æ ‡æŠ¬èµ·äº‹ä»¶
		box.onmouseup = function () {
			//å¼€å…³å…³é—­
			isDown = false;
			box.style.cursor = 'default';
		}
	}
	function select() {
		windowsopen = true;
		fl1 = true;
		document.getElementById("id20").style.backgroundColor = "#fb7299";
		document.getElementById("id20").style.color = "#fff";
		document.getElementById('mask').style.display = "";
		document.getElementById("select").style.display = "";
		document.getElementById('select').style.animation = 'board_3 0.1s';
		document.getElementById('select').style.height = '30px';
		document.getElementById('select').style.width = '60%';
		const box = document.getElementById('select')
		var movex = 0;
		var movey = 0;
		var movel = 0;
		var movet = 0;
		var isDown = false;
		//é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶
		box.onmousedown = function (movee) {
			//è·å–xåæ ‡å’Œyåæ ‡
			movex = movee.clientX;
			movey = movee.clientY;
			//è·å–å·¦éƒ¨å’Œé¡¶éƒ¨çš„åç§»é‡
			movel = box.offsetLeft;
			movet = box.offsetTop;
			//å¼€å…³æ‰“å¼€
			isDown = true;
			//è®¾ç½®æ ·å¼
			box.style.cursor = 'move';
		}
		//é¼ æ ‡ç§»åŠ¨
		window.onmousemove = function (movee) {
			if (isDown == false) {
				return;
			}
			//è·å–xå’Œy
			var movenx = movee.clientX;
			var moveny = movee.clientY;
			//è®¡ç®—ç§»åŠ¨åçš„å·¦åç§»é‡å’Œé¡¶éƒ¨çš„åç§»é‡
			var movenl = movenx - (movex - movel);
			var movent = moveny - (movey - movet);

			box.style.left = movenl + 'px';
			box.style.top = movent + 'px';
		}
		//é¼ æ ‡æŠ¬èµ·äº‹ä»¶
		box.onmouseup = function () {
			//å¼€å…³å…³é—­
			isDown = false;
			box.style.cursor = 'default';
		}
	}
	function next() {
		windowsopen = true;
		document.getElementById("id20").style.backgroundColor = "#fb7299";
		document.getElementById("id20").style.color = "#fff";
		document.getElementById('mask').style.display = "";
		document.getElementById("next").style.display = "";
		document.getElementById('next').style.animation = 'board_3 0.1s';
		document.getElementById('next').style.height = '30px';
		document.getElementById('next').style.width = '60%';
		const box = document.getElementById('next')
		var movex = 0;
		var movey = 0;
		var movel = 0;
		var movet = 0;
		var isDown = false;
		//é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶
		box.onmousedown = function (movee) {
			//è·å–xåæ ‡å’Œyåæ ‡
			movex = movee.clientX;
			movey = movee.clientY;
			//è·å–å·¦éƒ¨å’Œé¡¶éƒ¨çš„åç§»é‡
			movel = box.offsetLeft;
			movet = box.offsetTop;
			//å¼€å…³æ‰“å¼€
			isDown = true;
			//è®¾ç½®æ ·å¼
			box.style.cursor = 'move';
		}
		//é¼ æ ‡ç§»åŠ¨
		window.onmousemove = function (movee) {
			if (isDown == false) {
				return;
			}
			//è·å–xå’Œy
			var movenx = movee.clientX;
			var moveny = movee.clientY;
			//è®¡ç®—ç§»åŠ¨åçš„å·¦åç§»é‡å’Œé¡¶éƒ¨çš„åç§»é‡
			var movenl = movenx - (movex - movel);
			var movent = moveny - (movey - movet);

			box.style.left = movenl + 'px';
			box.style.top = movent + 'px';
		}
		//é¼ æ ‡æŠ¬èµ·äº‹ä»¶
		box.onmouseup = function () {
			//å¼€å…³å…³é—­
			isDown = false;
			box.style.cursor = 'default';
		}
	}
	function view_window() {
		windowsopen = true;
		document.getElementById("id20").style.backgroundColor = "#fb7299";
		document.getElementById("id20").style.color = "#fff";
		document.getElementById('mask').style.display = "";
		document.getElementById("view_window").style.display = "";
		document.getElementById('view_window').style.animation = 'board_3 0.1s';
		document.getElementById('view_window').style.height = '30px';
		document.getElementById('view_window').style.width = '60%';
		if (windowmax == false) {
			const box = document.getElementById('view_window');
			var movex = 0;
			var movey = 0;
			var movel = 0;
			var movet = 0;
			var isDown = false;
			//é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶
			box.onmousedown = function (movee) {
				//è·å–xåæ ‡å’Œyåæ ‡
				movex = movee.clientX;
				movey = movee.clientY;
				//è·å–å·¦éƒ¨å’Œé¡¶éƒ¨çš„åç§»é‡
				movel = box.offsetLeft;
				movet = box.offsetTop;
				//å¼€å…³æ‰“å¼€
				isDown = true;
				//è®¾ç½®æ ·å¼
				box.style.cursor = 'move';
			}
			//é¼ æ ‡ç§»åŠ¨
			window.onmousemove = function (movee) {
				if (isDown == false) {
					return;
				}
				//è·å–xå’Œy
				var movenx = movee.clientX;
				var moveny = movee.clientY;
				//è®¡ç®—ç§»åŠ¨åçš„å·¦åç§»é‡å’Œé¡¶éƒ¨çš„åç§»é‡
				var movenl = movenx - (movex - movel);
				var movent = moveny - (movey - movet);
				box.style.left = movenl + 'px';
				box.style.top = movent + 'px';
				//é¼ æ ‡æŠ¬èµ·äº‹ä»¶
				box.onmouseup = function () {
					view_window();
					if (movee.clientY < 15) {
						windowmax = true;
						view_window();
						boxmax2.innerHTML = '<b style="z-index: 1;">â–¡</b><div style="z-index: 2;background:#fff;height:11px;width: 11px;position: absolute;top:9px;right: 14px;"></div><b class="boxmax1">â–¡</b>';
						document.getElementById('view_window').style.width = '100%';
						document.getElementById('view_window').style.height = '100%';
						document.getElementById('view_window').style.left = '0px';
						document.getElementById('view_window').style.top = '0px';
						document.getElementById('view_window').style.borderRadius = '0px 0px 0px 0px';
						//å¼€å…³å…³é—­
						isDown = false;
						box.style.cursor = 'default';
					}
				}
			}
		} else {
			const box = document.getElementById('view_window');
			var movex = 0;
			var movey = 0;
			var movel = 0;
			var movet = 0;
			var isDown = false;
			//é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶
			box.onmousedown = function (movee) {
				//è·å–xåæ ‡å’Œyåæ ‡
				movex = movee.clientX;
				movey = movee.clientY;
				//è·å–å·¦éƒ¨å’Œé¡¶éƒ¨çš„åç§»é‡
				movel = box.offsetLeft;
				movet = box.offsetTop;
				//å¼€å…³æ‰“å¼€
				isDown = true;
				//è®¾ç½®æ ·å¼
				box.style.cursor = 'move';
			}
			//é¼ æ ‡ç§»åŠ¨
			window.onmousemove = function (movee) {
				if (isDown == false) {
					return;
				}
				document.getElementById('view_window').style.width = '60%';
				document.getElementById('view_window').style.height = '60%';
				document.getElementById('view_window').style.borderRadius = '5px 5px 0px 0px';
				//è·å–xå’Œy
				var movenx = movee.clientX;
				var moveny = movee.clientY;
				box.onmouseup = function () {
					windowmax = false;
					view_window();
					boxmax2.innerHTML = 'â–¡';
					if (movee.clientY < 15) {
						windowmax = true;
						view_window();
						boxmax2.innerHTML = '<b style="z-index: 1;">â–¡</b><div style="z-index: 2;background:#fff;height:11px;width: 11px;position: absolute;top:9px;right: 14px;"></div><b class="boxmax1">â–¡</b>';
						document.getElementById('view_window').style.width = '100%';
						document.getElementById('view_window').style.height = '100%';
						document.getElementById('view_window').style.left = '0px';
						document.getElementById('view_window').style.top = '0px';
						document.getElementById('view_window').style.borderRadius = '0px 0px 0px 0px';
					}
				}
				//è®¡ç®—ç§»åŠ¨åçš„å·¦åç§»é‡å’Œé¡¶éƒ¨çš„åç§»é‡
				var movenl = movenx - (movex - movel)/2;
				var movent = moveny - (movey - movet)/2;

				box.style.left = movenl + 'px';
				box.style.top = movent + 'px';
			}
			//é¼ æ ‡æŠ¬èµ·äº‹ä»¶
			box.onmouseup = function () {
				//å¼€å…³å…³é—­
				isDown = false;
				box.style.cursor = 'default';
			}
		}
	}
	//çª—å£éšè—éƒ¨åˆ†
	function hidder() {
		fe1 = false;
		ff1 = false;
		fg1 = false;
		windowsopen = false;
		if (fl1 == true) {
			document.onkeydown = keyDown;
			keyDown();
			fl1 = false;
		}
		fh1 = 0;
		document.getElementById('vol').style.border = '1px solid #ddd';
		document.getElementById('songselect').innerHTML = "";
		document.getElementById('box').style.animation = 'board_4 0.1s';
		document.getElementById('box').style.height = '0px';
		document.getElementById('box').style.width = '0%';
		document.getElementById('lang').style.animation = 'board_4 0.1s';
		document.getElementById('lang').style.height = '0px';
		document.getElementById('lang').style.width = '0%';
		document.getElementById('select').style.animation = 'board_4 0.1s';
		document.getElementById('select').style.height = '0px';
		document.getElementById('select').style.width = '0%';
		document.getElementById('note').style.animation = 'board_6 0.1s';
		document.getElementById('note').style.height = '0px';
		document.getElementById('note').style.width = '0%';
		document.getElementById('note').style.left = "10%";
		document.getElementById('note').style.top = "10%";
		document.getElementById('lang').style.left = "20%";
		document.getElementById('lang').style.top = "25%";
		document.getElementById('box').style.left = "20%";
		document.getElementById('box').style.top = "25%";
		document.getElementById('select').style.left = "20%";
		document.getElementById('select').style.top = "25%";
		document.getElementById('next').style.animation = 'board_4 0.1s';
		document.getElementById('next').style.height = '0px';
		document.getElementById('next').style.width = '0%';
		document.getElementById('next').style.left = "20%";
		document.getElementById('next').style.top = "25%";
		aboutoff();
		langoff();
		noteoff();
		selectoff();
		nextoff();
		function aboutoff() {
			setTimeout(function () { document.getElementById('box').style.display = "none"; }, 100);
		}
		function langoff() {
			setTimeout(function () { document.getElementById('lang').style.display = "none"; }, 100);
		}
		function noteoff() {
			setTimeout(function () { document.getElementById('note').style.display = "none"; }, 100);
		}
		function selectoff() {
			setTimeout(function () { document.getElementById('select').style.display = "none"; }, 100);
		}
		function nextoff() {
			setTimeout(function () { document.getElementById('next').style.display = "none"; }, 100);
		}
		setTimeout(function () { document.getElementById('mask').style.display = "none"; }, 100);
	}
	//èœå•éƒ¨åˆ†
	function menu() {
		if (id2 % 2 == 0) {
			id2 = 1;
			document.getElementById('id1').style.animation = 'board_0 1s';
			document.getElementById('id1').style.left = '-250px';
			document.getElementById('id3').style.width = '0%';
		} else {
			id2 = 0;
			document.getElementById('id1').style.animation = 'board_1 1s';
			document.getElementById('id1').style.left = '0px';
			document.getElementById('id3').style.width = '100%';
		}
	}
	function back() {
		sound3();
		warnoff();
		if (windowsopen == true) {
			hidder();
		} else {
			id2 = 1;
			progressoff();
			document.getElementById('id1').style.animation = 'board_0 1s';
			document.getElementById('id1').style.left = '-250px';
			document.getElementById('id3').style.width = '0%';
			document.getElementById('warning').style.animation = 'warning_2 0.1s';
			document.getElementById('warning').style.width = '0%';
			document.getElementById('warning').style.height = '0px';
			document.getElementById('warning').style.left = '50%';
			warning.innerHTML = "";
			fk1 = false;
		}
	}
	pushHistory();
	window.addEventListener("popstate", function () {
		back();
		pushHistory();
	}, false);
	function pushHistory() {
		var state = {
			title: "title",
			url: "#"
		};
		window.history.pushState(state, "title", "#");
	}
	//æŒ‰é”®ç›‘å¬éƒ¨åˆ†ï¼Œä¸ºç”µè§†é¥æ§å™¨æ“ä½œä½¿ç”¨ï¼ˆä¸åšç«–å±çŠ¶æ€ä¸‹çš„å…‰æ ‡å¤„ç†ï¼Œè™½ç„¶å¯¹ç«–å±ä¸å‹å¥½ï¼Œä½†å¯ä»¥å‹‰å¼ºä½¿ç”¨ï¼Œæœ¬äººæ‡’ç™Œæ™šæœŸï¼‰
	var fa1 = 0, fb1 = 0, fc1 = 1, fd1 = 1, fe1 = false, ff1 = false, fg1 = false, fh1 = 1, fi1 = 1, fj1 = 1, fk1 = false; fl1 = false;
	document.onkeydown = keyDown;
	function keyDown() {
		if (event.keyCode == 27) {
			back();
		}
		window.addEventListener('popstate', function (event) {
			back();
			pushHistory();
		});
		if (event.keyCode == 93) {
			menu();
			document.getElementById('warning').style.animation = 'warning_2 0.1s';
			document.getElementById('warning').style.width = '0%';
			document.getElementById('warning').style.height = '0px';
			document.getElementById('warning').style.left = '50%';
			warning.innerHTML = "";
			warnoff();
			fk1 = false;
			fb1 = 0;
		}
		if (event.keyCode == 13) {
			if (fe1 == false && ff1 == false && fg1 == false && fl1 == false) {
				enter();
			}
			else if (fe1 == true) {
				enter1();
			}
			else if (ff1 == true) {
				enter2();
			}
			else if (fg1 == true) {
				enter3();
			}
		}
		if (fk1 == false) {
			if (event.keyCode == 37) {
				if (fh1 == 13) {
					vol2();
				}
				if (fe1 == false && ff1 == false && fg1 == false && fl1 == false) {
					fa1 = fa1 - 1;
					fa2();
				}
				if (fe1 == true) {
					if (fh1 == 12) {
						fh1 = fh1 - 1;
					}
					fe2();
				}
			}
			if (event.keyCode == 38) {
				if (fe1 == false && ff1 == false && fg1 == false && fl1 == false) {
					if (fa1 == 0) {
						if (id2 == 0) {
							fb1 = fb1 - 1;
							fb2();
						} else {
							fb1 = 0;
						}
					}
					if (fa1 == 1) {
						fc1 = fc1 - 1;
						fc2();
					}
					if (fa1 == 2) {
						fd1 = fd1 - 1;
						fd2();
					}
				}
				if (fe1 == true) {
					fh1 = fh1 - 1;
					if (fh1 == 11) {
						fh1 = 10;
					}
					fe2();
				}
				if (ff1 == true) {
					fi1 = fi1 - 1;
					ff2();
				}
				if (fg1 == true) {
					fj1 = fj1 - 1;
					fg2();
				}
			}
			if (event.keyCode == 39) {
				if (fh1 == 13) {
					vol2();
				}
				if (fe1 == false && ff1 == false && fg1 == false && fl1 == false) {
					fa1 = fa1 + 1;
					fa2();
				}
				if (fe1 == true) {
					if (fh1 == 11) {
						fh1 = fh1 + 1;
					}
					fe2();
				}
			}
			if (event.keyCode == 40) {
				if (fa1 == 3) {
					fa1 = 2;
					fc1 = 0;
					fd1 = 0;
					document.getElementById('id22').style.backgroundColor = "#FB7299";
				}
				if (fe1 == false && ff1 == false && fg1 == false && fl1 == false) {
					if (fa1 == 0) {
						if (id2 == 0) {
							fb1 = fb1 + 1;
							fb2();
						} else {
							fb1 = 0;
							if (fa1 == 0) {
								fa1 = 1;
								fc1 = 0;
							}
						}
					}
					if (fa1 == 1) {
						fc1 = fc1 + 1;
						fc2();
					}
					if (fa1 == 2) {
						fd1 = fd1 + 1;
						fd2();
					}
				}
				if (fe1 == true) {
					fh1 = fh1 + 1;
					if (fh1 == 12) {
						fh1 = 13;
					}
					fe2();
				}
				if (ff1 == true) {
					fi1 = fi1 + 1;
					ff2();
				}
				if (fg1 == true) {
					fj1 = fj1 + 1;
					fg2();
				}
			}
		}
	}
	function fe2() {
		if (fh1 < 0) {
			fh1 = 0;
		}
		if (fh1 > 16) {
			fh1 = 16;
		}
		if (fh1 == 0 || fh1 == -1) {
			document.getElementById("boxoff1").focus();
			document.getElementById('boxoff1').style.backgroundColor = "#FB7299";
			document.getElementById('boxoff1').style.color = "#fff";
		}
		if (fh1 == 1) {
			document.getElementById("note1").focus();
			document.getElementById('boxoff1').style.backgroundColor = "#fff";
			document.getElementById('boxoff1').style.color = "#555";
		}
		if (fh1 == 2) {
			document.getElementById("note2").focus();
		}
		if (fh1 == 3) {
			document.getElementById("note3").focus();
		}
		if (fh1 == 4) {
			document.getElementById("note4").focus();
		}
		if (fh1 == 5) {
			document.getElementById("note5").focus();
		}
		if (fh1 == 6) {
			document.getElementById("note6").focus();
		}
		if (fh1 == 7) {
			document.getElementById("note7").focus();
		}
		if (fh1 == 8) {
			document.getElementById("notewidth").focus();
		}
		if (fh1 == 9) {
			document.getElementById("sound").focus();
		}
		if (fh1 == 10) {
			document.getElementById("reverse").focus();
			document.getElementById('soundup').style.backgroundColor = "#FB7299";
			document.getElementById('soundup').style.color = "#fff";
			document.getElementById('sounddown').style.backgroundColor = "#FB7299";
			document.getElementById('sounddown').style.color = "#fff";
		}
		if (fh1 == 11) {
			document.getElementById("soundup").focus();
			document.getElementById('soundup').style.backgroundColor = "#72fbbb";
			document.getElementById('soundup').style.color = "#000";
			document.getElementById('sounddown').style.backgroundColor = "#FB7299";
			document.getElementById('sounddown').style.color = "#fff";
		}
		if (fh1 == 12) {
			document.getElementById("sounddown").focus();
			document.getElementById('sounddown').style.backgroundColor = "#72fbbb";
			document.getElementById('sounddown').style.color = "#000";
			document.getElementById('soundup').style.backgroundColor = "#FB7299";
			document.getElementById('soundup').style.color = "#fff";
			document.getElementById('vol').style.border = '1px solid #ddd';
		}
		if (fh1 == 13) {
			document.getElementById("vol").focus();
			document.getElementById('soundup').style.backgroundColor = "#FB7299";
			document.getElementById('soundup').style.color = "#fff";
			document.getElementById('sounddown').style.backgroundColor = "#FB7299";
			document.getElementById('sounddown').style.color = "#fff";
			document.getElementById('vol').style.border = '2px solid #444';
			vol2();
		}
		if (fh1 == 14) {
			document.getElementById("note8").focus();
			document.getElementById('vol').style.border = '1px solid #ddd';
		}
		if (fh1 == 15) {
			document.getElementById("note9").focus();
			document.getElementById('ok1').style.backgroundColor = "#fff";
			document.getElementById('ok1').style.color = "#555";
		}
		if (fh1 == 16) {
			document.getElementById("ok1").focus();
			document.getElementById('ok1').style.backgroundColor = "#FB7299";
			document.getElementById('ok1').style.color = "#fff";
		}
	}
	function ff2() {
		if (fi1 < 0) {
			fi1 = 0;
		}
		if (fi1 > 1) {
			fi1 = 1;
		}
		if (fi1 == 0 || fi1 == -1) {
			document.getElementById("boxoff2").focus();
			document.getElementById('boxoff2').style.backgroundColor = "#FB7299";
			document.getElementById('boxoff2').style.color = "#fff";
			document.getElementById('ok2').style.backgroundColor = "#fff";
			document.getElementById('ok2').style.color = "#555";
		}
		if (fi1 == 1) {
			document.getElementById('boxoff2').style.backgroundColor = "#fff";
			document.getElementById('boxoff2').style.color = "#555";
			document.getElementById("ok2").focus();
			document.getElementById('ok2').style.backgroundColor = "#FB7299";
			document.getElementById('ok2').style.color = "#fff";
		}
	}
	function fg2() {
		if (fj1 < 0) {
			fj1 = 0;
		}
		if (fj1 > 3) {
			fj1 = 3;
		}
		if (fj1 == 0 || fj1 == -1) {
			document.getElementById("boxoff3").focus();
			document.getElementById('boxoff3').style.backgroundColor = "#FB7299";
			document.getElementById('boxoff3').style.color = "#fff";
			document.getElementById('zh_cn').style.backgroundColor = "#fff";
			document.getElementById('zh_cn').style.color = "#555";
		}
		if (fj1 == 1) {
			document.getElementById("zh_cn").focus();
			document.getElementById('zh_cn').style.backgroundColor = "#76b9f8";
			document.getElementById('zh_cn').style.color = "#fff";
			document.getElementById('zh_tw').style.backgroundColor = "#fff";
			document.getElementById('zh_tw').style.color = "#555";
			document.getElementById('boxoff3').style.backgroundColor = "#fff";
			document.getElementById('boxoff3').style.color = "#555";
		}
		if (fj1 == 2) {
			document.getElementById("zh_tw").focus();
			document.getElementById('zh_tw').style.backgroundColor = "#76b9f8";
			document.getElementById('zh_tw').style.color = "#fff";
			document.getElementById('zh_cn').style.backgroundColor = "#fff";
			document.getElementById('zh_cn').style.color = "#555";
			document.getElementById('ok3').style.backgroundColor = "#fff";
			document.getElementById('ok3').style.color = "#555";
		}
		if (fj1 == 3) {
			document.getElementById("ok3").focus();
			document.getElementById('zh_tw').style.backgroundColor = "#fff";
			document.getElementById('zh_tw').style.color = "#555";
			document.getElementById('ok3').style.backgroundColor = "#FB7299";
			document.getElementById('ok3').style.color = "#fff";
		}
	}
	function fc2() {
		if (fc1 < 0) {
			fc1 = 0;
		}
		if (fc1 > 3) {
			fc1 = 3;
		}
		if (fc1 == 0) {
			fa1 = 0;
			fb1 = 0;
			document.getElementById("id16").focus();
			document.getElementById('id16').style.backgroundColor = "#72fbbb";
			document.getElementById('file').style.backgroundColor = "#FB7299";
			document.getElementById('file').style.color = "#fff";
			if (fd1 == 3) {
				document.getElementById('id16').style.backgroundColor = "#fb7299";
				document.getElementById("input").focus();
				fc1 = 2;
				fd1 = 2;
				fa1 = 1;
			}
		}
		if (fc1 == 1) {
			document.getElementById("file").focus();
			document.getElementById('id16').style.backgroundColor = "#FB7299";
			document.getElementById('file').style.backgroundColor = "#72fbbb";
			document.getElementById('file').style.color = "#000";
		}
		if (fc1 == 2) {
			document.getElementById("input").focus();
			document.getElementById('file').style.backgroundColor = "#FB7299";
			document.getElementById('file').style.color = "#fff";
			document.getElementById('id21').style.backgroundColor = "#FB7299";
			document.getElementById('id21').style.color = "#fff";
		}
		if (fc1 == 3) {
			document.getElementById("id21").focus();
			document.getElementById('id21').style.backgroundColor = "#72fbbb";
			document.getElementById('id21').style.color = "#000";
			if (fa1 == 3) {
				fc1 = 0;
			}
		}
	}
	function fd2() {
		if (fd1 < 0) {
			fd1 = 0;
		}
		if (fd1 > 3) {
			fd1 = 3;
		}
		if (fd1 == 0) {
			fa1 = 0;
			fb1 = 0;
			document.getElementById("id16").focus();
			document.getElementById('id16').style.backgroundColor = "#72fbbb";
			document.getElementById('id20').style.backgroundColor = "#FB7299";
			document.getElementById('id20').style.color = "#fff";
		}
		if (fd1 == 1) {
			document.getElementById("id20").focus();
			document.getElementById('id16').style.backgroundColor = "#FB7299";
			document.getElementById('id20').style.backgroundColor = "#72fbbb";
			document.getElementById('id20').style.color = "#000";
		}
		if (fd1 == 2) {
			document.getElementById("result").focus();
			document.getElementById('id20').style.backgroundColor = "#FB7299";
			document.getElementById('id20').style.color = "#fff";
			document.getElementById('id21').style.backgroundColor = "#FB7299";
			document.getElementById('id21').style.color = "#fff";
		}
		if (fd1 == 3) {
			document.getElementById("id21").focus();
			document.getElementById('id21').style.backgroundColor = "#72fbbb";
			document.getElementById('id21').style.color = "#000";
			if (fa1 == 1) {
				document.getElementById("id16").focus();
				document.getElementById('id16').style.backgroundColor = "#72fbbb";
				document.getElementById('id21').style.color = "#fff";
				document.getElementById('id21').style.backgroundColor = "#FB7299";
			}
			if (fa1 == 2 && fc1 == 2) {
				fc1 = 3;
			}
		}
	}
	function fa2() {
		if (fa1 < 0) {
			fa1 = 0;
		}
		if (fa1 > 3) {
			fa1 = 3;
		}
		if (fa1 == 0) {
			document.getElementById("id16").focus();
			fc1 = 1;
			fb1 = 0;
			fd1 = 1;
			document.getElementById('id16').style.backgroundColor = "#72fbbb";
			document.getElementById('file').style.backgroundColor = "#FB7299";
			document.getElementById('file').style.color = "#fff";
			document.getElementById('id21').style.backgroundColor = "#FB7299";
			document.getElementById('id21').style.color = "#fff";
		}
		if (fa1 == 1) {
			if (fd1 == 2) {
				document.getElementById("input").focus();
				document.getElementById('id16').style.backgroundColor = "#FB7299";
				document.getElementById('id16').style.color = "#fff";
				fc1 = 2;
			}
			if (fd1 == 1) {
				document.getElementById("file").focus();
				fc1 = 1;
				document.getElementById('id16').style.backgroundColor = "#FB7299";
				document.getElementById('id20').style.backgroundColor = "#FB7299";
				document.getElementById('file').style.backgroundColor = "#72fbbb";
				document.getElementById('file').style.color = "#000";
				document.getElementById('id20').style.color = "#fff";
			}
			if (fd1 == 3) {
				fd1 = 1;
				fc1 = 1;
				fa1 = 0;
				document.getElementById('id21').style.backgroundColor = "#FB7299";
				document.getElementById('id16').style.backgroundColor = "#72fbbb";
				document.getElementById('id21').style.color = "#fff";
				document.getElementById("id16").focus();
			}
		}
		if (fa1 == 2) {
			if (fc1 == 3 && fd1 == 3) {
				fa1 = 1;
				fc1 = 0;
			}
			if (fc1 == 0) {
				document.getElementById('id22').style.backgroundColor = '#fb7299';
				document.getElementById("id21").focus();
				document.getElementById('id21').style.color = "#000";
				document.getElementById('id21').style.backgroundColor = "#72fbbb";
			}
			if (fc1 == 2) {
				document.getElementById("result").focus();
				document.getElementById('id16').style.backgroundColor = "#FB7299";
				document.getElementById('id16').style.color = "#fff";
				fd1 = 2;
				document.getElementById('id22').style.backgroundColor = '#fb7299';
			}
			if (fc1 == 3) {
				document.getElementById('id21').style.backgroundColor = "#72fbbb";
				document.getElementById('id22').style.backgroundColor = '#fb7299';
				document.getElementById('id21').style.color = "#000";
				fa1 = 2;
				fd1 = 3;
				if (fa1 == 2) {
					fa1 = 3;
					fc1 = 0;
				}
			}
			if (fc1 == 1) {
				if (fd1 == 3) {
				} else {
					document.getElementById("id20").focus();
					fd1 = 1;
					document.getElementById('file').style.backgroundColor = "#FB7299";
					document.getElementById('id20').style.backgroundColor = "#72fbbb";
					document.getElementById('id22').style.backgroundColor = '#fb7299';
					document.getElementById('id20').style.color = "#000";
					document.getElementById('file').style.color = "#fff";
				}
			}
			if (fd1 == 3) {
				document.getElementById("id21").focus();
				document.getElementById('id21').style.backgroundColor = "#72fbbb";
				document.getElementById('id21').style.color = "#000";
				document.getElementById('id22').style.backgroundColor = "#FB7299";
			}
			if (fc1 == 3 && fd1 == 1) {
				fa1 = 3;
				fc1 = 1;
				fd1 = 1;
			}
		}
		if (fa1 == 3) {
			if (fc1 == 2 && fd1 == 2) {
				fc1 = 1;
				fd1 = 1;
			}
			document.getElementById('id22').style.backgroundColor = '#72fbbb';
			document.getElementById("id22").focus();
			document.getElementById('id21').style.backgroundColor = "#FB7299";
			document.getElementById('id21').style.color = "#fff";
			document.getElementById('id20').style.backgroundColor = "#FB7299";
			document.getElementById('id20').style.color = "#fff";
		}
	}
	function fb2() {
		if (fb1 < 0) {
			fb1 = 0;
		}
		if (fb1 > 13) {
			fb1 = 13;
		}
		switch (fb1) {
			case 0:
				document.getElementById("id16").focus();
				document.getElementById('move1').style.backgroundColor = "#66ccff";
				document.getElementById('move1').style.color = "#000";
				document.getElementById('id16').style.backgroundColor = "#72fbbb";
				fa1 = 0;
				fc1 = 1;
				fd1 = 1;
				break;
			case 1:
				document.getElementById("bpm").focus();
				document.getElementById('id16').style.backgroundColor = "#FB7299";
				document.getElementById('move1').style.color = "#FB7299";
				document.getElementById('move1').style.backgroundColor = "#aaddff";
				document.getElementById('move2').style.backgroundColor = "#66ccff";
				document.getElementById('move2').style.color = "#000";
				break;
			case 2:
				document.getElementById("beats").focus();
				document.getElementById('move2').style.color = "#FB7299";
				document.getElementById('move2').style.backgroundColor = "#aaddff";
				document.getElementById('move1').style.backgroundColor = "#66ccff";
				document.getElementById('move1').style.color = "#000";
				document.getElementById('move3').style.backgroundColor = "#66ccff";
				document.getElementById('move3').style.color = "#000";
				break;
			case 3:
				document.getElementById("acc").focus();
				document.getElementById('move3').style.color = "#FB7299";
				document.getElementById('move3').style.backgroundColor = "#aaddff";
				document.getElementById('move2').style.backgroundColor = "#66ccff";
				document.getElementById('move2').style.color = "#000";
				document.getElementById('move4').style.backgroundColor = "#66ccff";
				document.getElementById('move4').style.color = "#000";
				break;
			case 4:
				document.getElementById('move4').style.color = "#FB7299";
				document.getElementById("move4").focus();
				document.getElementById('move4').style.backgroundColor = "#aaddff";
				document.getElementById('move3').style.backgroundColor = "#66ccff";
				document.getElementById('move3').style.color = "#000";
				document.getElementById('move5').style.backgroundColor = "#66ccff";
				document.getElementById('move5').style.color = "#000";
				break;
			case 5:
				document.getElementById('move5').style.color = "#FB7299";
				document.getElementById("move5").focus();
				document.getElementById('move5').style.backgroundColor = "#aaddff";
				document.getElementById('move4').style.backgroundColor = "#66ccff";
				document.getElementById('move4').style.color = "#000";
				document.getElementById('move6').style.backgroundColor = "#66ccff";
				document.getElementById('move6').style.color = "#000";
				break;
			case 6:
				document.getElementById("move6").focus();
				document.getElementById('move6').style.color = "#FB7299";
				document.getElementById('move6').style.backgroundColor = "#aaddff";
				document.getElementById('move5').style.backgroundColor = "#66ccff";
				document.getElementById('move5').style.color = "#000";
				document.getElementById('move7').style.backgroundColor = "#66ccff";
				document.getElementById('move7').style.color = "#000";
				break;
			case 7:
				document.getElementById("move7").focus();
				document.getElementById('move7').style.color = "#FB7299";
				document.getElementById('move7').style.backgroundColor = "#aaddff";
				document.getElementById('move6').style.backgroundColor = "#66ccff";
				document.getElementById('move6').style.color = "#000";
				document.getElementById('move8').style.backgroundColor = "#66ccff";
				document.getElementById('move8').style.color = "#000";
				break;
			case 8:
				document.getElementById("move8").focus();
				document.getElementById('move8').style.color = "#FB7299";
				document.getElementById('move8').style.backgroundColor = "#aaddff";
				document.getElementById('move7').style.backgroundColor = "#66ccff";
				document.getElementById('move7').style.color = "#000";
				document.getElementById('move9').style.backgroundColor = "#66ccff";
				document.getElementById('move9').style.color = "#000";
				break;
			case 9:
				document.getElementById("move9").focus();
				document.getElementById('move9').style.color = "#FB7299";
				document.getElementById('move9').style.backgroundColor = "#aaddff";
				document.getElementById('move8').style.backgroundColor = "#66ccff";
				document.getElementById('move8').style.color = "#000";
				document.getElementById('move10').style.backgroundColor = "#66ccff";
				document.getElementById('move10').style.color = "#000";
				break;
			case 10:
				document.getElementById("move10").focus();
				document.getElementById('move10').style.color = "#FB7299";
				document.getElementById('move10').style.backgroundColor = "#aaddff";
				document.getElementById('move9').style.backgroundColor = "#66ccff";
				document.getElementById('move9').style.color = "#000";
				document.getElementById('isFull').style.backgroundColor = "#66ccff";
				document.getElementById('isFull').style.color = "#000";
				break;
			case 11:
				document.getElementById("isFull").focus();
				document.getElementById('isFull').style.color = "#FB7299";
				document.getElementById('isFull').style.backgroundColor = "#aaddff";
				document.getElementById('move10').style.backgroundColor = "#66ccff";
				document.getElementById('move10').style.color = "#000";
				document.getElementById('move11').style.backgroundColor = "#66ccff";
				document.getElementById('move11').style.color = "#000";
				break;
			case 12:
				document.getElementById("move11").focus();
				document.getElementById('move11').style.color = "#FB7299";
				document.getElementById('move11').style.backgroundColor = "#aaddff";
				document.getElementById('isFull').style.backgroundColor = "#66ccff";
				document.getElementById('isFull').style.color = "#000";
				document.getElementById('move12').style.backgroundColor = "#66ccff";
				document.getElementById('move12').style.color = "#000";
				break;
			case 13:
				document.getElementById("move12").focus();
				document.getElementById('move12').style.color = "#FB7299";
				document.getElementById('move12').style.backgroundColor = "#aaddff";
				document.getElementById('move11').style.backgroundColor = "#66ccff";
				document.getElementById('move11').style.color = "#000";
				break;
		}
	}
	function enter1() {
		switch (fh1) {
			case -1:
			case 0:
				hidder();
				break;
			case 1:
				if (document.getElementById('note1').checked == true) {
					var fh10 = document.getElementById('note1');
					fh10.checked = false;
				} else {
					var fh10 = document.getElementById('note1');
					fh10.checked = true;
				}
				break;
			case 2:
				if (document.getElementById('note2').checked == true) {
					var fh11 = document.getElementById('note2');
					fh11.checked = false;
				} else {
					var fh11 = document.getElementById('note2');
					fh11.checked = true;
				}
				break;
			case 3:
				if (document.getElementById('note3').checked == true) {
					var fh12 = document.getElementById('note3');
					fh12.checked = false;
				} else {
					var fh12 = document.getElementById('note3');
					fh12.checked = true;
				}
				break;
			case 4:
				if (document.getElementById('note4').checked == true) {
					var fh13 = document.getElementById('note4');
					fh13.checked = false;
				} else {
					var fh13 = document.getElementById('note4');
					fh13.checked = true;
				}
				break;
			case 5:
				if (document.getElementById('note5').checked == true) {
					var fh14 = document.getElementById('note5');
					fh14.checked = false;
				} else {
					var fh14 = document.getElementById('note5');
					fh14.checked = true;
				}
				break;
			case 6:
				if (document.getElementById('note6').checked == true) {
					var fh15 = document.getElementById('note6');
					fh15.checked = false;
				} else {
					var fh15 = document.getElementById('note6');
					fh15.checked = true;
				}
				break;
			case 7:
				if (document.getElementById('note7').checked == true) {
					var fh16 = document.getElementById('note7');
					fh16.checked = false;
				} else {
					var fh16 = document.getElementById('note7');
					fh16.checked = true;
				}
				break;
			case 8:
				fk1 = false;
				document.getElementById('warning').style.animation = 'warning_2 0.1s';
				document.getElementById('warning').style.width = '0%';
				document.getElementById('warning').style.height = '0px';
				document.getElementById('warning').style.left = '50%';
				warning.innerHTML = "";
				warnoff();
				break;
			case 9:
				if (document.getElementById('sound').checked == true) {
					var fh17 = document.getElementById('sound');
					fh17.checked = false;
				} else {
					var fh17 = document.getElementById('sound');
					fh17.checked = true;
				}
				break;
			case 13:
				if (document.getElementById('note8').checked == true) {
					var fh18 = document.getElementById('note8');
					fh18.checked = false;
				} else {
					var fh18 = document.getElementById('note8');
					fh18.checked = true;
				}
				break;
			case 14:
				if (document.getElementById('note9').checked == true) {
					var fh19 = document.getElementById('note9');
					fh19.checked = false;
				} else {
					var fh19 = document.getElementById('note9');
					fh19.checked = true;
				}
				break;
			case 15:
				hidder();
				break;
		}
	}
	function enter2() {
		switch (fi1) {
			case -1:
			case 0:
				hidder();
				break;
			case 1:
				hidder();
				break;
		}
	}
	function enter3() {
		switch (fj1) {
			case -1:
			case 0:
				hidder();
				break;
			case 1:
				zh_tran('s');
				break;
			case 2:
				zh_tran('t');
				break;
			case 3:
				hidder();
				break;
		}
	}
	function enter() {
		if (fa1 == 1 && fc1 == 2) {
			if (fk1 == false) {
				fk1 = true;
				lock();
			} else {
				fk1 = false;
				document.getElementById('warning').style.animation = 'warning_2 0.1s';
				document.getElementById('warning').style.width = '0%';
				document.getElementById('warning').style.height = '0px';
				document.getElementById('warning').style.left = '50%';
				warning.innerHTML = "";
				warnoff();
			}
		}
		if (fa1 == 2 && fd1 == 2) {
			if (fk1 == false) {
				fk1 = true;
				lock();
			} else {
				fk1 = false;
				document.getElementById('warning').style.animation = 'warning_2 0.1s';
				document.getElementById('warning').style.width = '0%';
				document.getElementById('warning').style.height = '0px';
				document.getElementById('warning').style.left = '50%';
				warning.innerHTML = "";
				warnoff();
			}
		}
		if (fa1 == 3) {
			document.getElementById("id22").focus();
		}
		switch (fb1) {
			case 1:
			case 2:
			case 3:
				if (fk1 == false) {
					fk1 = true;
					lock();
				} else {
					fk1 = false;
					document.getElementById('warning').style.animation = 'warning_2 0.1s';
					document.getElementById('warning').style.width = '0%';
					document.getElementById('warning').style.height = '0px';
					document.getElementById('warning').style.left = '50%';
					warning.innerHTML = "";
					warnoff();
				}
				break;
			case 4:
				if (fk1 == false) {
					fk1 = true;
					lock();
					document.getElementById("games").focus();
				} else {
					fk1 = false;
					document.getElementById('warning').style.animation = 'warning_2 0.1s';
					document.getElementById('warning').style.width = '0%';
					document.getElementById('warning').style.height = '0px';
					document.getElementById('warning').style.left = '50%';
					warning.innerHTML = "";
					warnoff();
					document.getElementById("move4").focus();
				}
				break;
			case 5:
				if (fk1 == false) {
					fk1 = true;
					lock();
					document.getElementById("key").focus();
				} else {
					fk1 = false;
					document.getElementById('warning').style.animation = 'warning_2 0.1s';
					document.getElementById('warning').style.width = '0%';
					document.getElementById('warning').style.height = '0px';
					document.getElementById('warning').style.left = '50%';
					warning.innerHTML = "";
					warnoff();
					document.getElementById("move5").focus();
				}
				break;
			case 6:
				if (document.getElementById('continue').checked == true) {
					var names = name.split(",")
					var inputs = document.getElementsByTagName('input')
					var id11 = 0;
					var id12 = 0;
					names[id12] === inputs[id11].id;
					inputs[id11].checked = false;
				} else {
					var names = name.split(",")
					var inputs = document.getElementsByTagName('input')
					var id11 = 0;
					var id12 = 0;
					names[id12] === inputs[id11].id;
					inputs[id11].checked = true;
				}
				break;
			case 7:
				if (document.getElementById('manual').checked == true) {
					var names = name.split(",")
					var inputs = document.getElementsByTagName('input')
					var id11 = 1;
					var id12 = 1;
					names[id12] === inputs[id11].id;
					inputs[id11].checked = false;
				} else {
					var names = name.split(",")
					var inputs = document.getElementsByTagName('input')
					var id11 = 1;
					var id12 = 1;
					names[id12] === inputs[id11].id;
					inputs[id11].checked = true;
				}
				break;
			case 8:
				note();
				fe1 = true;
				break;
			case 10:
				about();
				ff1 = true;
				break;
			case 11:
				isFull();
				break;
			case 12:
				id0();
				fg1 = true;
				break;
		}
	}
	//å…¨å±éƒ¨åˆ†
	var html = document.querySelector("html");
	function isFull() {
		if (document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement) {
			if (document.cancelFullscreen) {
				document.cancelFullscreen();
			} else if (document.webkitCancelFullScreen) {
				document.webkitCancelFullScreen();
			} else if (document.mozCancelFullScreen) {
				document.mozCancelFullScreen();
			} else if (document.msCancelFullScreen) {
				document.msCancelFullScreen();
			}
		} else {
			if (html.requestFullscreen) {
				html.requestFullscreen();
			} else if (html.webkitRequestFullScreen) {
				html.webkitRequestFullScreen();
			} else if (html.mozRequestFullScreen) {
				html.mozRequestFullScreen();
			} else if (html.msRequestFullScreen) {
				html.msRequestFullScreen();
			}
		}
	}
	var sound1 = 0;
	function soundup() {
		a = document.getElementById("result").value;
		//ç®€å†™æ›¿æ¢ä¾‹å¦‚ï¼ˆä¾‹å¦‚dç›´æ¥æ›¿æ¢æˆ#cï¼‰æœ‰å¯èƒ½å¯¼è‡´è½¬åŒ–æ··ä¹±ï¼Œæ•…æ¯ä¸€ä¸ªéŸ³ç¬¦é€ä¸€è½¬æ¢ã€‚è™½ç„¶ä¼šä½¿ç¨‹åºè‡ƒè‚¿
		//midiæœ€é«˜éŸ³é˜¶æé™
		a = a.replace(/\/g6.mp3/g, "");
		a = a.replace(/\/#f6.mp3/g, "/g6.mp3");
		a = a.replace(/\/f6.mp3/g, "/#f6.mp3");
		a = a.replace(/\/e6.mp3/g, "/f6.mp3");
		a = a.replace(/\/#d6.mp3/g, "/e6.mp3");
		a = a.replace(/\/d6.mp3/g, "/#d6.mp3");
		a = a.replace(/\/#c6.mp3/g, "/d6.mp3");
		a = a.replace(/\/c6.mp3/g, "/#c6.mp3");
		a = a.replace(/\/b5.mp3/g, "/c6.mp3");
		a = a.replace(/\/#a5.mp3/g, "/b5.mp3");
		a = a.replace(/\/a5.mp3/g, "/#a5.mp3");
		a = a.replace(/\/#g5.mp3/g, "/a5.mp3");
		a = a.replace(/\/g5.mp3/g, "/#g5.mp3");
		a = a.replace(/\/#f5.mp3/g, "/g5.mp3");
		a = a.replace(/\/f5.mp3/g, "/#f5.mp3");
		a = a.replace(/\/e5.mp3/g, "/f5.mp3");
		a = a.replace(/\/#d5.mp3/g, "/e5.mp3");
		a = a.replace(/\/d5.mp3/g, "/#d5.mp3");
		a = a.replace(/\/#c5.mp3/g, "/d5.mp3");
		//æ­£å¸¸çš„88ä¸ªéŸ³é˜¶çš„åˆ†ç•Œçº¿
		a = a.replace(/\/c5.mp3/g, "/#c5.mp3");
		a = a.replace(/\/b4.mp3/g, "/c5.mp3");
		a = a.replace(/\/#a4.mp3/g, "/b4.mp3");
		a = a.replace(/\/a4.mp3/g, "/#a4.mp3");
		a = a.replace(/\/#g4.mp3/g, "/a4.mp3");
		a = a.replace(/\/g4.mp3/g, "/#g4.mp3");
		a = a.replace(/\/#f4.mp3/g, "/g4.mp3");
		a = a.replace(/\/f4.mp3/g, "/#f4.mp3");
		a = a.replace(/\/e4.mp3/g, "/f4.mp3");
		a = a.replace(/\/#d4.mp3/g, "/e4.mp3");
		a = a.replace(/\/d4.mp3/g, "/#d4.mp3");
		a = a.replace(/\/#c4.mp3/g, "/d4.mp3");
		a = a.replace(/\/c4.mp3/g, "/#c4.mp3");
		a = a.replace(/\/b3.mp3/g, "/c4.mp3");
		a = a.replace(/\/#a3.mp3/g, "/b3.mp3");
		a = a.replace(/\/a3.mp3/g, "/#a3.mp3");
		a = a.replace(/\/#g3.mp3/g, "/a3.mp3");
		a = a.replace(/\/g3.mp3/g, "/#g3.mp3");
		a = a.replace(/\/#f3.mp3/g, "/g3.mp3");
		a = a.replace(/\/f3.mp3/g, "/#f3.mp3");
		a = a.replace(/\/e3.mp3/g, "/f3.mp3");
		a = a.replace(/\/#d3.mp3/g, "/e3.mp3");
		a = a.replace(/\/d3.mp3/g, "/#d3.mp3");
		a = a.replace(/\/#c3.mp3/g, "/d3.mp3");
		a = a.replace(/\/c3.mp3/g, "/#c3.mp3");
		a = a.replace(/\/b2.mp3/g, "/c3.mp3");
		a = a.replace(/\/#a2.mp3/g, "/b2.mp3");
		a = a.replace(/\/a2.mp3/g, "/#a2.mp3");
		a = a.replace(/\/#g2.mp3/g, "/a2.mp3");
		a = a.replace(/\/g2.mp3/g, "/#g2.mp3");
		a = a.replace(/\/#f2.mp3/g, "/g2.mp3");
		a = a.replace(/\/f2.mp3/g, "/#f2.mp3");
		a = a.replace(/\/e2.mp3/g, "/f2.mp3");
		a = a.replace(/\/#d2.mp3/g, "/e2.mp3");
		a = a.replace(/\/d2.mp3/g, "/#d2.mp3");
		a = a.replace(/\/#c2.mp3/g, "/d2.mp3");
		a = a.replace(/\/c2.mp3/g, "/#c2.mp3");
		a = a.replace(/\/b1.mp3/g, "/c2.mp3");
		a = a.replace(/\/#a1.mp3/g, "/b1.mp3");
		a = a.replace(/\/a1.mp3/g, "/#a1.mp3");
		a = a.replace(/\/#g1.mp3/g, "/a1.mp3");
		a = a.replace(/\/g1.mp3/g, "/#g1.mp3");
		a = a.replace(/\/#f1.mp3/g, "/g1.mp3");
		a = a.replace(/\/f1.mp3/g, "/#f1.mp3");
		a = a.replace(/\/e1.mp3/g, "/f1.mp3");
		a = a.replace(/\/#d1.mp3/g, "/e1.mp3");
		a = a.replace(/\/d1.mp3/g, "/#d1.mp3");
		a = a.replace(/\/#c1.mp3/g, "/d1.mp3");
		a = a.replace(/\/c1.mp3/g, "/#c1.mp3");
		a = a.replace(/\/b.mp3/g, "/c1.mp3");
		a = a.replace(/\/#a.mp3/g, "/b.mp3");
		a = a.replace(/\/a.mp3/g, "/#a.mp3");
		a = a.replace(/\/#g.mp3/g, "/a.mp3");
		a = a.replace(/\/g.mp3/g, "/#g.mp3");
		a = a.replace(/\/#f.mp3/g, "/g.mp3");
		a = a.replace(/\/f.mp3/g, "/#f.mp3");
		a = a.replace(/\/e.mp3/g, "/f.mp3");
		a = a.replace(/\/#d.mp3/g, "/e.mp3");
		a = a.replace(/\/d.mp3/g, "/#d.mp3");
		a = a.replace(/\/#c.mp3/g, "/d.mp3");
		a = a.replace(/\/c.mp3/g, "/#c.mp3");
		a = a.replace(/\/B-1.mp3/g, "/c.mp3");
		a = a.replace(/\/#A-1.mp3/g, "/B-1.mp3");
		a = a.replace(/\/A-1.mp3/g, "/#A-1.mp3");
		a = a.replace(/\/#G-1.mp3/g, "/A-1.mp3");
		a = a.replace(/\/G-1.mp3/g, "/#G-1.mp3");
		a = a.replace(/\/#F-1.mp3/g, "/G-1.mp3");
		a = a.replace(/\/F-1.mp3/g, "/#F-1.mp3");
		a = a.replace(/\/E-1.mp3/g, "/F-1.mp3");
		a = a.replace(/\/#D-1.mp3/g, "/E-1.mp3");
		a = a.replace(/\/D-1.mp3/g, "/#D-1.mp3");
		a = a.replace(/\/#C-1.mp3/g, "/D-1.mp3");
		a = a.replace(/\/C-1.mp3/g, "/#C-1.mp3");
		a = a.replace(/\/B-2.mp3/g, "/C-1.mp3");
		a = a.replace(/\/#A-2.mp3/g, "/B-2.mp3");
		a = a.replace(/\/A-2.mp3/g, "/#A-2.mp3");
		a = a.replace(/\/#G-2.mp3/g, "/A-2.mp3");
		a = a.replace(/\/G-2.mp3/g, "/#G-2.mp3");
		a = a.replace(/\/#F-2.mp3/g, "/G-2.mp3");
		a = a.replace(/\/F-2.mp3/g, "/#F-2.mp3");
		a = a.replace(/\/E-2.mp3/g, "/F-2.mp3");
		a = a.replace(/\/#D-2.mp3/g, "/E-2.mp3");
		a = a.replace(/\/D-2.mp3/g, "/#D-2.mp3");
		a = a.replace(/\/#C-2.mp3/g, "/D-2.mp3");
		a = a.replace(/\/C-2.mp3/g, "/#C-2.mp3");
		a = a.replace(/\/B-3.mp3/g, "/C-2.mp3");
		a = a.replace(/\/#A-3.mp3/g, "/B-3.mp3");
		a = a.replace(/\/A-3.mp3/g, "/#A-3.mp3");
		//æ­£å¸¸çš„88ä¸ªéŸ³é˜¶çš„åˆ†ç•Œçº¿
		a = a.replace(/\/#G-3.mp3/g, "/A-3.mp3");
		a = a.replace(/\/G-3.mp3/g, "/#G-3.mp3");
		a = a.replace(/\/#F-3.mp3/g, "/G-3.mp3");
		a = a.replace(/\/F-3.mp3/g, "/#F-3.mp3");
		a = a.replace(/\/E-3.mp3/g, "/F-3.mp3");
		a = a.replace(/\/#D-3.mp3/g, "/E-3.mp3");
		a = a.replace(/\/D-3.mp3/g, "/#D-3.mp3");
		a = a.replace(/\/#C-3.mp3/g, "/D-3.mp3");
		a = a.replace(/\/C-3.mp3/g, "/#C-3.mp3");
		a = a.replace(/\/B-4.mp3/g, "/C-3.mp3");
		a = a.replace(/\/#A-4.mp3/g, "/B-4.mp3");
		a = a.replace(/\/A-4.mp3/g, "/#A-4.mp3");
		a = a.replace(/\/#G-4.mp3/g, "/A-4.mp3");
		a = a.replace(/\/G-4.mp3/g, "/#G-4.mp3");
		a = a.replace(/\/#F-4.mp3/g, "/G-4.mp3");
		a = a.replace(/\/F-4.mp3/g, "/#F-4.mp3");
		a = a.replace(/\/E-4.mp3/g, "/F-4.mp3");
		a = a.replace(/\/#D-4.mp3/g, "/E-4.mp3");
		a = a.replace(/\/D-4.mp3/g, "/#D-4.mp3");
		a = a.replace(/\/#C-4.mp3/g, "/D-4.mp3");
		a = a.replace(/\/C-4.mp3/g, "/#C-4.mp3");
		document.getElementById("result").value = a;
		sound1 = sound1 + 1;
		if (sound1 > 60) {
			sound1 = 60;
		}
		soundshow1();
	}
	function sounddown() {
		a = document.getElementById("result").value;
		//ç®€å†™æ›¿æ¢ä¾‹å¦‚ï¼ˆä¾‹å¦‚dç›´æ¥æ›¿æ¢æˆ#cï¼‰æœ‰å¯èƒ½å¯¼è‡´è½¬åŒ–æ··ä¹±ï¼Œæ•…æ¯ä¸€ä¸ªéŸ³ç¬¦é€ä¸€è½¬æ¢ã€‚è™½ç„¶ä¼šä½¿ç¨‹åºè‡ƒè‚¿
		//midiæœ€ä½éŸ³é˜¶æé™
		a = a.replace(/\/C-4.mp3/g, "");
		a = a.replace(/\/#C-4.mp3/g, "/C-4.mp3");
		a = a.replace(/\/D-4.mp3/g, "/#C-4.mp3");
		a = a.replace(/\/#D-4.mp3/g, "/D-4.mp3");
		a = a.replace(/\/E-4.mp3/g, "/#D-4.mp3");
		a = a.replace(/\/F-4.mp3/g, "/E-4.mp3");
		a = a.replace(/\/#F-4.mp3/g, "/F-4.mp3");
		a = a.replace(/\/G-4.mp3/g, "/#F-4.mp3");
		a = a.replace(/\/#G-4.mp3/g, "/G-4.mp3");
		a = a.replace(/\/A-4.mp3/g, "/#G-4.mp3");
		a = a.replace(/\/#A-4.mp3/g, "/A-4.mp3");
		a = a.replace(/\/B-4.mp3/g, "/#A-4.mp3");
		a = a.replace(/\/C-3.mp3/g, "/B-4.mp3");
		a = a.replace(/\/#C-3.mp3/g, "/C-3.mp3");
		a = a.replace(/\/D-3.mp3/g, "/#C-3.mp3");
		a = a.replace(/\/#D-3.mp3/g, "/D-3.mp3");
		a = a.replace(/\/E-3.mp3/g, "/#D-3.mp3");
		a = a.replace(/\/F-3.mp3/g, "/E-3.mp3");
		a = a.replace(/\/#F-3.mp3/g, "/F-3.mp3");
		a = a.replace(/\/G-3.mp3/g, "/#F-3.mp3");
		a = a.replace(/\/#G-3.mp3/g, "/G-3.mp3");
		//æ­£å¸¸çš„88ä¸ªéŸ³é˜¶çš„åˆ†ç•Œçº¿
		a = a.replace(/\/A-3.mp3/g, "/#G-3.mp3");
		a = a.replace(/\/#A-3.mp3/g, "/A-3.mp3");
		a = a.replace(/\/B-3.mp3/g, "/#A-3.mp3");
		a = a.replace(/\/C-2.mp3/g, "/B-3.mp3");
		a = a.replace(/\/#C-2.mp3/g, "/C-2.mp3");
		a = a.replace(/\/D-2.mp3/g, "/#C-2.mp3");
		a = a.replace(/\/#D-2.mp3/g, "/D-2.mp3");
		a = a.replace(/\/E-2.mp3/g, "/#D-2.mp3");
		a = a.replace(/\/F-2.mp3/g, "/E-2.mp3");
		a = a.replace(/\/#F-2.mp3/g, "/F-2.mp3");
		a = a.replace(/\/G-2.mp3/g, "/#F-2.mp3");
		a = a.replace(/\/#G-2.mp3/g, "/G-2.mp3");
		a = a.replace(/\/A-2.mp3/g, "/#G-2.mp3");
		a = a.replace(/\/#A-2.mp3/g, "/A-2.mp3");
		a = a.replace(/\/B-2.mp3/g, "/#A-2.mp3");
		a = a.replace(/\/C-1.mp3/g, "/B-2.mp3");
		a = a.replace(/\/#C-1.mp3/g, "/C-1.mp3");
		a = a.replace(/\/D-1.mp3/g, "/#C-1.mp3");
		a = a.replace(/\/#D-1.mp3/g, "/D-1.mp3");
		a = a.replace(/\/E-1.mp3/g, "/#D-1.mp3");
		a = a.replace(/\/F-1.mp3/g, "/E-1.mp3");
		a = a.replace(/\/#F-1.mp3/g, "/F-1.mp3");
		a = a.replace(/\/G-1.mp3/g, "/#F-1.mp3");
		a = a.replace(/\/#G-1.mp3/g, "/G-1.mp3");
		a = a.replace(/\/A-1.mp3/g, "/#G-1.mp3");
		a = a.replace(/\/#A-1.mp3/g, "/A-1.mp3");
		a = a.replace(/\/B-1.mp3/g, "/#A-1.mp3");
		a = a.replace(/\/c.mp3/g, "/B-1.mp3");
		a = a.replace(/\/#c.mp3/g, "/c.mp3");
		a = a.replace(/\/d.mp3/g, "/#c.mp3");
		a = a.replace(/\/#d.mp3/g, "/d.mp3");
		a = a.replace(/\/e.mp3/g, "/#d.mp3");
		a = a.replace(/\/f.mp3/g, "/e.mp3");
		a = a.replace(/\/#f.mp3/g, "/f.mp3");
		a = a.replace(/\/g.mp3/g, "/#f.mp3");
		a = a.replace(/\/#g.mp3/g, "/g.mp3");
		a = a.replace(/\/a.mp3/g, "/#g.mp3");
		a = a.replace(/\/#a.mp3/g, "/a.mp3");
		a = a.replace(/\/b.mp3/g, "/#a.mp3");
		a = a.replace(/\/c1.mp3/g, "/b.mp3");
		a = a.replace(/\/#c1.mp3/g, "/c1.mp3");
		a = a.replace(/\/d1.mp3/g, "/#c1.mp3");
		a = a.replace(/\/#d1.mp3/g, "/d1.mp3");
		a = a.replace(/\/e1.mp3/g, "/#d1.mp3");
		a = a.replace(/\/f1.mp3/g, "/e1.mp3");
		a = a.replace(/\/#f1.mp3/g, "/f1.mp3");
		a = a.replace(/\/g1.mp3/g, "/#f1.mp3");
		a = a.replace(/\/#g1.mp3/g, "/g1.mp3");
		a = a.replace(/\/a1.mp3/g, "/#g1.mp3");
		a = a.replace(/\/#a1.mp3/g, "/a1.mp3");
		a = a.replace(/\/b1.mp3/g, "/#a1.mp3");
		a = a.replace(/\/c2.mp3/g, "/b1.mp3");
		a = a.replace(/\/#c2.mp3/g, "/c2.mp3");
		a = a.replace(/\/d2.mp3/g, "/#c2.mp3");
		a = a.replace(/\/#d2.mp3/g, "/d2.mp3");
		a = a.replace(/\/e2.mp3/g, "/#d2.mp3");
		a = a.replace(/\/f2.mp3/g, "/e2.mp3");
		a = a.replace(/\/#f2.mp3/g, "/f2.mp3");
		a = a.replace(/\/g2.mp3/g, "/#f2.mp3");
		a = a.replace(/\/#g2.mp3/g, "/g2.mp3");
		a = a.replace(/\/a2.mp3/g, "/#g2.mp3");
		a = a.replace(/\/#a2.mp3/g, "/a2.mp3");
		a = a.replace(/\/b2.mp3/g, "/#a2.mp3");
		a = a.replace(/\/c3.mp3/g, "/b2.mp3");
		a = a.replace(/\/#c3.mp3/g, "/c3.mp3");
		a = a.replace(/\/d3.mp3/g, "/#c3.mp3");
		a = a.replace(/\/#d3.mp3/g, "/d3.mp3");
		a = a.replace(/\/e3.mp3/g, "/#d3.mp3");
		a = a.replace(/\/f3.mp3/g, "/e3.mp3");
		a = a.replace(/\/#f3.mp3/g, "/f3.mp3");
		a = a.replace(/\/g3.mp3/g, "/#f3.mp3");
		a = a.replace(/\/#g3.mp3/g, "/g3.mp3");
		a = a.replace(/\/a3.mp3/g, "/#g3.mp3");
		a = a.replace(/\/#a3.mp3/g, "/a3.mp3");
		a = a.replace(/\/b3.mp3/g, "/#a3.mp3");
		a = a.replace(/\/c4.mp3/g, "/b3.mp3");
		a = a.replace(/\/#c4.mp3/g, "/c4.mp3");
		a = a.replace(/\/d4.mp3/g, "/#c4.mp3");
		a = a.replace(/\/#d4.mp3/g, "/d4.mp3");
		a = a.replace(/\/e4.mp3/g, "/#d4.mp3");
		a = a.replace(/\/f4.mp3/g, "/e4.mp3");
		a = a.replace(/\/#f4.mp3/g, "/f4.mp3");
		a = a.replace(/\/g4.mp3/g, "/#f4.mp3");
		a = a.replace(/\/#g4.mp3/g, "/g4.mp3");
		a = a.replace(/\/a4.mp3/g, "/#g4.mp3");
		a = a.replace(/\/#a4.mp3/g, "/a4.mp3");
		a = a.replace(/\/b4.mp3/g, "/#a4.mp3");
		a = a.replace(/\/c5.mp3/g, "/b4.mp3");
		//æ­£å¸¸çš„88ä¸ªéŸ³é˜¶çš„åˆ†ç•Œçº¿
		a = a.replace(/\/#c5.mp3/g, "/c5.mp3");
		a = a.replace(/\/d5.mp3/g, "/#c5.mp3");
		a = a.replace(/\/#d5.mp3/g, "/d5.mp3");
		a = a.replace(/\/e5.mp3/g, "/#d5.mp3");
		a = a.replace(/\/f5.mp3/g, "/e5.mp3");
		a = a.replace(/\/#f5.mp3/g, "/f5.mp3");
		a = a.replace(/\/g5.mp3/g, "/#f5.mp3");
		a = a.replace(/\/#g5.mp3/g, "/g5.mp3");
		a = a.replace(/\/a5.mp3/g, "/#g5.mp3");
		a = a.replace(/\/#a5.mp3/g, "/a5.mp3");
		a = a.replace(/\/b5.mp3/g, "/#a5.mp3");
		a = a.replace(/\/c6.mp3/g, "/b5.mp3");
		a = a.replace(/\/#c6.mp3/g, "/c6.mp3");
		a = a.replace(/\/d6.mp3/g, "/#c6.mp3");
		a = a.replace(/\/#d6.mp3/g, "/d6.mp3");
		a = a.replace(/\/e6.mp3/g, "/#d6.mp3");
		a = a.replace(/\/f6.mp3/g, "/e6.mp3");
		a = a.replace(/\/#f6.mp3/g, "/f6.mp3");
		a = a.replace(/\/g6.mp3/g, "/#f6.mp3");
		//midiæœ€é«˜éŸ³é˜¶æé™
		document.getElementById("result").value = a;
		sound1 = sound1 - 1;
		if (sound1 < -60) {
			sound1 = -60;
		}
		soundshow1();
	}
	function soundshow1() {
		if (sound1 > 0) {
			soundshow.innerHTML = "â–²éŸ³è°ƒå‡äº†" + sound1 + "ä¸ªåŠéŸ³";
			document.getElementById('soundshow').style.color = '#00a1d6';
			document.getElementById("warning_sound").innerHTML = "â™¯*" + sound1 + "â™©";
			document.getElementById("warning_sound").style.color = '#00a1d6';
		}
		if (sound1 == 0) {
			soundshow.innerHTML = "æ­£å¸¸";
			document.getElementById('soundshow').style.color = '#555';
			document.getElementById("warning_sound").innerHTML = "â™®æ­£å¸¸";
			document.getElementById("warning_sound").style.color = '#555';
		}
		if (sound1 < 0) {
			sound2 = Math.abs(sound1);
			soundshow.innerHTML = "â–¼éŸ³è°ƒé™äº†" + sound2 + "ä¸ªåŠéŸ³";
			document.getElementById('soundshow').style.color = '#FB7299';
			document.getElementById("warning_sound").innerHTML = "â™­*" + sound2 + "â™©";
			document.getElementById("warning_sound").style.color = '#fb7299';
		}
		if (zh_choose == "t") {
			zh_tran('t');
		}
	}
	document.getElementById('vol').style.background = 'linear-gradient(to right, #32B0DA 0%, #32B0DA 100%,#eee 100%, #eee)';
	var vol1 = document.getElementById("vol").value;
	document.getElementById("volshow").innerHTML = vol1 + "%";
	function vol2() {
		var vol1 = document.getElementById("vol").value;
		document.getElementById("volshow").innerHTML = vol1 + "%";
		var vol3 = vol1 + "%";
		document.getElementById('vol').style.background = 'linear-gradient(to right, #32B0DA 0%, #32B0DA ' + vol3 + ',#eee ' + vol3 + ', #eee)';
		//é¼ æ ‡ç§»åŠ¨
		window.onmousemove = function (movee) {
			note();
			return;
		}
	}
	//å…‰æ ‡é”å®š
	function lock() {
		fk1 = true;
		document.getElementById('warning').style.display = 'inline';
		document.getElementById('warning').style.animation = 'warning_1 0.1s';
		document.getElementById('warning').style.width = '60%';
		document.getElementById('warning').style.height = 'auto';
		document.getElementById('warning').style.left = '20%';
		setTimeout(function () {
			warning.innerHTML = "<b>æ³¨æ„ï¼šç„¦ç‚¹å·²é”å®šï¼Œå¦‚éœ€è¿›è¡Œå…¶ä»–åœ°æ–¹çš„æ“ä½œè¯·å†æ¬¡æŒ‰ä¸‹ç¡®å®šé”®ã€èœå•é”®æˆ–è¿”å›é”®ï¼Œæˆ–ç‚¹å‡»æ­¤æ¶ˆæ¯ã€‚</b>";
			if (zh_choose == "t") {
				zh_tran('t');
			}
		}, 100);
		sound3();
	}
	//æ“ä½œç³»ç»Ÿè¯†åˆ«
	var sUserAgent = navigator.userAgent;
	var isLinux = (String(navigator.platform).indexOf("Linux") > -1);
	var bIsAndroid = sUserAgent.toLowerCase().match(/android/i) == "android";
	//å¯¹è‹¹æœæ“ä½œç³»ç»Ÿçš„è¯†åˆ«
	var bIsMac = sUserAgent.toLowerCase().match(/Mac OS/i) == "mac os";
	var bIsiPhone = sUserAgent.toLowerCase().match(/iphone/i) == "iphone";
	var bIsiPod = sUserAgent.toLowerCase().match(/ipod/i) == "ipod";
	var bIsiPad = sUserAgent.toLowerCase().match(/ipad/i) == "ipad";
	var bIsWatch = sUserAgent.toLowerCase().match(/watch/i) == "watch";
	var bIsTV = sUserAgent.toLowerCase().match(/tv/i) == "tv";
	//Linuxéƒ¨åˆ†å‘è¡Œç‰ˆçš„è¯†åˆ«
	var bIsUbuntu = sUserAgent.toLowerCase().match(/ubuntu/i) == "ubuntu";
	var bIsDebian = sUserAgent.toLowerCase().match(/debian/i) == "debian";
	var bIsRHEL = sUserAgent.toLowerCase().match(/rhel/i) == "rhel";
	var bIsCentos = sUserAgent.toLowerCase().match(/centos/i) == "centos";
	var bIsSlackware = sUserAgent.toLowerCase().match(/slackware/i) == "slackware";
	var bIsArch = sUserAgent.toLowerCase().match(/arch/i) == "arch";
	var bIsKali = sUserAgent.toLowerCase().match(/kali/i) == "kali";
	var bIsUOS = sUserAgent.toLowerCase().match(/uos/i) == "uos";
	var bIsDeepin = sUserAgent.toLowerCase().match(/deepin/i) == "deepin";
	var bIsSUSE = sUserAgent.toLowerCase().match(/suse/i) == "suse";
	var bIsFedora = sUserAgent.toLowerCase().match(/fedora/i) == "fedora";
	var bIsMint = sUserAgent.toLowerCase().match(/mint/i) == "mint";
	var bIsMageia = sUserAgent.toLowerCase().match(/mageia/i) == "mageia";
	var bIsManjaro = sUserAgent.toLowerCase().match(/manjaro/i) == "manjaro";
	var bIsGentoo = sUserAgent.toLowerCase().match(/gentoo/i) == "gentoo";
	if (isLinux) {
		if (bIsAndroid) detectos.innerHTML = "Android";
		else if (bIsUbuntu) detectos.innerHTML = "Ubuntu";
		else if (bIsDebian) detectos.innerHTML = "Debian";
		else if (bIsRHEL) detectos.innerHTML = "RHEL";
		else if (bIsCentos) detectos.innerHTML = "Centos";
		else if (bIsSlackware) detectos.innerHTML = "Slackware";
		else if (bIsArch) detectos.innerHTML = "Arch Linux";
		else if (bIsKali) detectos.innerHTML = "Kali Linux";
		else if (bIsSUSE) detectos.innerHTML = "Open SUSE";
		else if (bIsFedora) detectos.innerHTML = "Fedora";
		else if (bIsMint) detectos.innerHTML = "Linux Mint";
		else if (bIsMageia) detectos.innerHTML = "Mageia";
		else if (bIsManjaro) detectos.innerHTML = "Manjaro";
		else if (bIsGentoo) detectos.innerHTML = "Gentoo";
		else if (bIsUOS) detectos.innerHTML = "China Unity Operating System";
		else if (bIsDeepin) detectos.innerHTML = "China Deepin";
		else if (bIsiPhone) detectos.innerHTML = "Apple iPhone Operating System";
		else if (bIsiPod) detectos.innerHTML = "Apple iPhone Operating System";
		else if (bIsiPad) detectos.innerHTML = "Apple iPad Operating System";
		else if (bIsWatch) detectos.innerHTML = "Apple Watch Operating System";
		else if (bIsTV) detectos.innerHTML = "Apple TV Operating System";
		else if (bIsMac) detectos.innerHTML = "Apple Mac OS X";
		else detectos.innerHTML = "GNU/Linux";
	}
	else detectos.innerHTML = "Unknown Unix";
	if (String(navigator.userAgent).indexOf("Windows") > -1) detectos.innerHTML = "Microsoft Windows";
	if (String(navigator.platform).indexOf("Harmony") > -1) detectos.innerHTML = "Huawei Harmony";
	if (String(navigator.platform).indexOf("Fuchsia") > -1) detectos.innerHTML = "Google Fuchsia";
	if (String(navigator.userAgent).indexOf("CrOS") > -1) detectos.innerHTML = "Google Chrome Operating System";
	if (String(navigator.userAgent).indexOf("Solaris") > -1) detectos.innerHTML = "Solaris";
	if (String(navigator.platform).indexOf("FreeBSD") > -1) detectos.innerHTML = "FreeBSD";
	if (String(navigator.platform).indexOf("OpenBSD") > -1) detectos.innerHTML = "OpenBSD";
	if (String(navigator.platform).indexOf("NetBSD") > -1) detectos.innerHTML = "NetBSD";
	if (String(navigator.platform).indexOf("Haiku") > -1) detectos.innerHTML = "Haiku";
	if (/Firefox\/(\S+)/.test(navigator.userAgent)) {
		explorer.innerHTML = "Mozilla Firefox";
	}
	if (!/OPR/.test(navigator.userAgent)) {
		if (/Chrome\/(\S+)/.test(navigator.userAgent)) {
			explorer.innerHTML = "Google Chrome";
		}
		if (/Safari/.test(navigator.userAgent)) {
			if (/Version\/(\S+)/.test(navigator.userAgent)) {
				explorer.innerHTML = "Apple Safari";
			}
		}
	} else {
		explorer.innerHTML = "Opera";
	}
	if (/Edg\/(\S+)/.test(navigator.userAgent)) {
		explorer.innerHTML = "Microsoft Edge";
	}
	var agent = navigator.userAgent.toLowerCase();
	var isChrome = /chrome|crios/.test(agent) && ! /edge|opr\//.test(agent);
	var isBrave = isChrome && window.navigator.plugins.length === 0 && window.navigator.mimeTypes.length === 0;
	if (isBrave) {
		explorer.innerHTML = "Brave";
	}
	//ç¦æ­¢Windows10ä»¥ä¸‹çš„ç³»ç»Ÿè®¿é—®æ­¤è„šæœ¬
	if (String(navigator.userAgent).indexOf("Win95") > -1 || String(navigator.userAgent).indexOf("Win98") > -1 || String(navigator.userAgent).indexOf("Win 9x 4.90") > -1 || String(navigator.userAgent).indexOf("Windows NT 5") > -1 || String(navigator.userAgent).indexOf("Windows NT 6") > -1) {
		document.body.innerHTML = '';
		alert("è­¦å‘Šï¼è¯·å‡çº§ä½ çš„ Windows æ“ä½œç³»ç»Ÿè‡³ Windows 10 ä»¥ä¸Šæˆ–è½¬ç§»å…¶ä»–çš„ç°ä»£æ“ä½œç³»ç»Ÿè®¿é—®æ­¤è„šæœ¬ï¼");
	}
	//ç¦æ­¢Android5ä»¥ä¸‹çš„ç³»ç»Ÿè®¿é—®æ­¤è„šæœ¬
	if (String(navigator.userAgent).indexOf("Android 1.") > -1 || String(navigator.userAgent).indexOf("Android 2.") > -1 || String(navigator.userAgent).indexOf("Android 3.") > -1 || String(navigator.userAgent).indexOf("Android 4.") > -1 && String(navigator.userAgent).indexOf("Windows") == -1) {
		document.body.innerHTML = '';
		alert("è­¦å‘Šï¼è¯·å‡çº§ä½ çš„ Android æ“ä½œç³»ç»Ÿè‡³ Android 5 ä»¥ä¸Šæˆ–ä½¿ç”¨å…¶ä»–è®¾å¤‡è®¿é—®æ­¤è„šæœ¬ï¼");
	}
	//ç¦æ­¢iOS10ä»¥ä¸‹çš„ç³»ç»Ÿè®¿é—®æ­¤è„šæœ¬
	if (String(navigator.userAgent).indexOf("OS 1_") > -1 || String(navigator.userAgent).indexOf("OS 2_") > -1 || String(navigator.userAgent).indexOf("OS 3_") > -1 || String(navigator.userAgent).indexOf("OS 4_") > -1 || String(navigator.userAgent).indexOf("OS 5_") > -1 || String(navigator.userAgent).indexOf("OS 6_") > -1 || String(navigator.userAgent).indexOf("OS 7_") > -1 || String(navigator.userAgent).indexOf("OS 8_") > -1 || String(navigator.userAgent).indexOf("OS 9_") > -1 && String(navigator.userAgent).indexOf("iPhone") > -1 && String(navigator.userAgent).indexOf("iPad") > -1) {
		document.body.innerHTML = '';
		alert("è­¦å‘Šï¼è¯·å‡çº§ä½ çš„ iOS æ“ä½œç³»ç»Ÿè‡³ iOS 10 ä»¥ä¸Šæˆ–ä½¿ç”¨å…¶ä»–è®¾å¤‡è®¿é—®æ­¤è„šæœ¬ï¼");
	}
	//ç¦æ­¢Mac OS 10.11ä»¥ä¸‹çš„ç³»ç»Ÿè®¿é—®æ­¤è„šæœ¬
	if (String(navigator.userAgent).indexOf("10_0_") > -1 || String(navigator.userAgent).indexOf("10_1_") > -1 || String(navigator.userAgent).indexOf("10_2_") > -1 || String(navigator.userAgent).indexOf("10_3_") > -1 || String(navigator.userAgent).indexOf("10_4_") > -1 || String(navigator.userAgent).indexOf("10_5_") > -1 || String(navigator.userAgent).indexOf("10_6_") > -1 || String(navigator.userAgent).indexOf("10_7_") > -1 || String(navigator.userAgent).indexOf("10_8_") > -1 || String(navigator.userAgent).indexOf("10_9_") > -1 || String(navigator.userAgent).indexOf("10_10_") > -1) {
		if (String(navigator.userAgent).indexOf("iPhone") == -1 && String(navigator.userAgent).indexOf("iPad") == -1 && String(navigator.userAgent).indexOf("Mac OS") > -1) {
			document.body.innerHTML = '';
			alert("è­¦å‘Šï¼è¯·å‡çº§ä½ çš„ Mac OS X æ“ä½œç³»ç»Ÿè‡³ Mac OS X 10.11 ä»¥ä¸Šæˆ–ä½¿ç”¨å…¶ä»–è®¾å¤‡è®¿é—®æ­¤è„šæœ¬ï¼");
		}
	}
	//ç¦ç”¨IEæµè§ˆå™¨
	if (String(navigator.userAgent).indexOf("Trident") > -1) {
		alert("è­¦å‘Šï¼è¯·æ›´æ–°æˆ–ä½¿ç”¨ Chromeã€Chromiumã€Firefoxã€Edgeã€Safariã€Operaã€Brave ç­‰ç°ä»£æµè§ˆå™¨æ‰“å¼€HTMLæ–‡ä»¶ï¼å·²ç¦ç”¨ Internet Explorer æµè§ˆå™¨è®¿é—®æ­¤è„šæœ¬ï¼");
		document.location("about:blank");
	};
	windowmax = false;
	function window_max() {
		if (windowmax == false) {
			windowmax = true;
			view_window();
			boxmax2.innerHTML = '<b style="z-index: 1;">â–¡</b><div style="z-index: 2;background:#fff;height:11px;width: 11px;position: absolute;top:9px;right: 14px;"></div><b class="boxmax1">â–¡</b>';
			document.getElementById('view_window').style.width = '100%';
			document.getElementById('view_window').style.height = '100%';
			document.getElementById('view_window').style.left = '0px';
			document.getElementById('view_window').style.top = '0px';
			document.getElementById('view_window').style.borderRadius = '0px 0px 0px 0px';
		} else {
			windowmax = false;
			view_window();
			boxmax2.innerHTML = 'â–¡';
			document.getElementById('view_window').style.width = '60%';
			document.getElementById('view_window').style.height = '60%';
			document.getElementById('view_window').style.left = '20%';
			document.getElementById('view_window').style.top = '20%';
			document.getElementById('view_window').style.borderRadius = '5px 5px 0px 0px';
		}
	}
	bodywidthtest();
	function key_select() {
		games_type = games.value;
		switch (games_type) {
			case "mak":
				document.getElementById('key').innerHTML = '<option value="4k" class="button2">4Key</option ><option value="5k" class="button1"> 5Key</option><option value="6k" class="button2"> 6Key</option><option value="7k" class="button1">7Key</option><option value="8k" class="button2">8Key</option><option value="9k" class="button1">9Key</option><option value="10k" class="button2">10Key</option>'
				break;
			case "mas":
				document.getElementById('key').innerHTML = '<option class="button2">è½¨é“é€‰æ‹©ä¸é€‚ç”¨</option >'
				break;
			case "om":
				document.getElementById('key').innerHTML = '<option value="1k" class="button1">1Key</option ><option value="2k" class="button2">2Key</option ><option value="3k" class="button1">3Key</option ><option value="4k" class="button2">4Key</option ><option value="5k" class="button1"> 5Key</option><option value="6k" class="button2"> 6Key</option><option value="7k" class="button1">7Key</option><option value="8k" class="button2">8Key</option><option value="9k" class="button1">9Key</option><option value="10k" class="button2">10Key(coop)</option><option value="11k" class="button1">11Key(coop)</option><option value="12k" class="button2">12Key(coop)</option><option value="13k" class="button1">13Key(coop)</option><option value="14k" class="button2">14Key(coop)</option><option value="15k" class="button1">15Key(coop)</option><option value="16k" class="button2">16Key(coop)</option><option value="17k" class="button1">17Key(coop)</option><option value="18k" class="button2">18Key(coop)</option>'
				break;
		}
	}
	//é€‚åº”ä¸åŒè®¾å¤‡æˆ–çª—å£è§„æ ¼
	function bodywidthtest() {
		if (window.screen.height < 500 || window.screen.width < 500) {
			document.getElementById('bodyid').style.overflowY = "auto";
		} else {
			document.getElementById('bodyid').style.overflowY = "hidden";
		}
		if (document.body.clientWidth < 400) {
			document.getElementById("progress3").style.marginLeft = "-25%";
		}
		if (document.body.clientWidth < 482 && document.body.clientWidth > 400) {
			document.getElementById("progress3").style.marginLeft = "-20%";
		}
		if (document.body.clientWidth > 482 && document.body.clientWidth < 550) {
			document.getElementById("progress3").style.marginLeft = "-15%";
		}
		if (document.body.clientWidth > 550 && document.body.clientWidth < 650) {
			document.getElementById("progress3").style.marginLeft = "-10%";
		}
		if (document.body.clientWidth > 650 && document.body.clientWidth < 720) {
			document.getElementById("progress3").style.marginLeft = "-8%";
		}
		if (document.body.clientWidth > 720 && document.body.clientWidth < 820) {
			document.getElementById("progress3").style.marginLeft = "-6%";
		}
		if (document.body.clientWidth > 820) {
			document.getElementById("progress3").style.marginLeft = "-5%";
		}
		if (document.body.clientWidth > 482) {
			document.getElementById("title").style.fontSize = "20px";
		} else {
			document.getElementById("title").style.fontSize = "";
		}
		setTimeout(function () { bodywidthtest(); }, 200);
	}
	explore.innerHTML = navigator.userAgent;

	//æ„Ÿè°¢https://www.zhangxinxu.com/wordpress/2017/06/html5-web-audio-api-js-ux-voice/ç½‘ç«™ç»™å£°éŸ³åŠ è½½ä»£ç å¸¦æ¥äº†å‚è€ƒ
	//ä»¥åä¼šä½¿ç”¨è¿™æ®µä»£ç è¿›è¡ŒmidiéŸ³é¢‘æ’­æ”¾
	window.AudioContext = window.AudioContext || window.webkitAudioContext;
	(function () {
		if (!window.AudioContext) {
			alert('è­¦å‘Šï¼å½“å‰æµè§ˆå™¨ä¸æ”¯æŒWeb Audio APIï¼Œè¯·ä½¿ç”¨Chromeã€Chromiumã€Firefoxã€Edgeã€Safariã€Opera ç­‰ç°ä»£æµè§ˆå™¨æ‰“å¼€HTMLæ–‡ä»¶ï¼å·²ç¦ç”¨æ­¤æµè§ˆå™¨è®¿é—®æ­¤è„šæœ¬ï¼');
			document.location("about:blank");
			return;
		}
		// æŒ‰é’®å…ƒç´ 
		var eleButton = document.getElementById('vol');
		// éŸ³è°ƒä¾æ¬¡é€’å¢æˆ–è€…é€’å‡å¤„ç†éœ€è¦çš„å‚æ•°
		eleButton.addEventListener('mouseup', sound3);
		eleButton.addEventListener('keyup', sound3);
		eleButton.addEventListener('touchend', sound3);
	})();
	function sound3() {
		// åˆ›å»ºæ–°çš„éŸ³é¢‘ä¸Šä¸‹æ–‡æ¥å£
		var audioCtx = new AudioContext();
		// å‘å‡ºçš„å£°éŸ³é¢‘ç‡æ•°æ®ï¼Œè¡¨ç°ä¸ºéŸ³è°ƒçš„é«˜ä½
		var arrFrequency = [440.00];
		var start = 0, direction = 1;
		// å½“å‰é¢‘ç‡
		var frequency = arrFrequency[start];
		// å¦‚æœåˆ°å¤´ï¼Œæ”¹å˜éŸ³è°ƒçš„å˜åŒ–è§„åˆ™ï¼ˆå¢å‡åˆ‡æ¢ï¼‰
		if (!frequency) {
			direction = -1 * direction;
			start = start + 2 * direction;
			frequency = arrFrequency[start];
		}
		start = start + direction;
		// åˆ›å»ºä¸€ä¸ªOscillatorNode, å®ƒè¡¨ç¤ºä¸€ä¸ªå‘¨æœŸæ€§æ³¢å½¢ï¼ˆæŒ¯è¡ï¼‰ï¼ŒåŸºæœ¬ä¸Šæ¥è¯´åˆ›é€ äº†ä¸€ä¸ªéŸ³è°ƒ
		var oscillator = audioCtx.createOscillator();
		// åˆ›å»ºä¸€ä¸ªGainNode,å®ƒå¯ä»¥æ§åˆ¶éŸ³é¢‘çš„æ€»éŸ³é‡
		var gainNode = audioCtx.createGain();
		// æŠŠéŸ³é‡ï¼ŒéŸ³è°ƒå’Œç»ˆèŠ‚ç‚¹è¿›è¡Œå…³è”
		oscillator.connect(gainNode);
		// audioCtx.destinationè¿”å›AudioDestinationNodeå¯¹è±¡ï¼Œè¡¨ç¤ºå½“å‰audio contextä¸­æ‰€æœ‰èŠ‚ç‚¹çš„æœ€ç»ˆèŠ‚ç‚¹ï¼Œä¸€èˆ¬è¡¨ç¤ºéŸ³é¢‘æ¸²æŸ“è®¾å¤‡
		gainNode.connect(audioCtx.destination);
		// æŒ‡å®šéŸ³è°ƒçš„ç±»å‹ï¼Œå…¶ä»–è¿˜æœ‰square|triangle|sawtooth
		oscillator.type = 'sine';
		vol4 = document.getElementById("vol").value / 100;
		// éŸ³é‡ä¸º1
		gainNode.gain.linearRampToValueAtTime(vol4, audioCtx.currentTime);
		// éŸ³è°ƒä»å½“å‰æ—¶é—´å¼€å§‹æ’­æ”¾
		oscillator.start(audioCtx.currentTime);
		// 1ç§’å†…å£°éŸ³æ…¢æ…¢é™ä½ï¼Œæ˜¯ä¸ªä¸é”™çš„åœæ­¢å£°éŸ³çš„æ–¹æ³•
		gainNode.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 1);
		// 1ç§’åå®Œå…¨åœæ­¢å£°éŸ³
		oscillator.stop(audioCtx.currentTime + 1);
	}
	function warnoff() {
		sound3();
		setTimeout(function () { document.getElementById('warning').style.display = "none"; }, 100);
	}
	function progressoff() {
		document.getElementById('progress').style.animation = 'warning_3 0.1s';
		setTimeout(function () { document.getElementById('progress').style.display = 'none'; }, 100);
		document.getElementById('progress').style.width = '0%';
		document.getElementById('progress').style.height = '0px';
		document.getElementById('progress').style.left = '50%';
		document.getElementById('progress3').style.display = 'none'
		sound3();
	}
	//ä¿å­˜æ–‡ä»¶
	function outputfile(){
		games_type = games.value;
		switch (games_type) {
			case "mak":
			case "mas":
			saveAs(new Blob([document.getElementById('result').value],{
				type:'text/plain;charset=utf-8'
			}),`${Date.now()}.mc`)
				break;
			case "om":
			saveAs(new Blob([document.getElementById('result').value],{
				type:'text/plain;charset=utf-8'
			}),`${Date.now()}.osu`)
				break;
		}

		
	}
/*ä¿å­˜æ–‡ä»¶ä½¿ç”¨ FileSaver.jsï¼Œæ³¨é‡Šå·²ç¿»è¯‘ï¼Œå°Šé‡æ­¤ä½œè€…çš„åŠ³åŠ¨æˆæœ
*è¿™é‡Œæ˜¯saveAs()å‡½æ•°çš„ä»£ç å—ï¼Œä»¥å®ç°æ–‡ä»¶ä¿å­˜
*ä½œè€…ä¿¡æ¯ï¼š
* By Eli Grey, http://eligrey.com
*
* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT) ï¼ˆè®¸å¯è¯ï¼‰
* source  : http://purl.eligrey.com/github/FileSaver.js ï¼ˆè„šæœ¬æ¥æºï¼‰
*/
//æƒ³äº†è§£JavaScriptå¦‚ä½•è·å–å…¨å±€å¯¹è±¡ï¼Œè¯·ç‚¹å‡»ä¸‹é¢æ³¨é‡Šé“¾æ¥
// https://stackoverflow.com/q/3277182/1008999
var _global = typeof window === 'object' && window.window === window
  ? window : typeof self === 'object' && self.self === self
  ? self : typeof global === 'object' && global.global === global
  ? global
  : this

function bom (blob, opts) {
  if (typeof opts === 'undefined') opts = { autoBom: false }
  else if (typeof opts !== 'object') {
    console.warn('Deprecated: Expected third argument to be a object')
    opts = { autoBom: !opts }
  }

  //ä¸ºUTF-8ã€XMLå’Œå…¶ä»–æ–‡æœ¬ç±»å‹ï¼ˆåŒ…æ‹¬HTMLï¼‰æ·»åŠ BOM
  //æ³¨æ„ï¼šä½ çš„æµè§ˆå™¨å°†è‡ªåŠ¨è½¬æ¢UTF-16 U+FEFFåˆ°EF BB BF
  if (opts.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)) {
    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })
  }
  return blob
}

function download (url, name, opts) {
  var xhr = new XMLHttpRequest()
  xhr.open('GET', url)
  xhr.responseType = 'blob'
  xhr.onload = function () {
    saveAs(xhr.response, name, opts)
  }
  xhr.onerror = function () {
    console.error('could not download file')
  }
  xhr.send()
}

function corsEnabled (url) {
  var xhr = new XMLHttpRequest()
  //ä½¿ç”¨syncæ•°æ®åŒæ­¥é¿å…ä¸‹è½½å¼¹çª—é˜»æ­¢è„šæœ¬ç»§ç»­æ‰§è¡Œ
  xhr.open('HEAD', url, false)
  try {
    xhr.send()
  } catch (e) {}
  return xhr.status >= 200 && xhr.status <= 299
}

// a.click()ä¸é€‚ç”¨äºæ‰€æœ‰æµè§ˆå™¨(#465)
function click (node) {
  try {
    node.dispatchEvent(new MouseEvent('click'))
  } catch (e) {
    var evt = document.createEvent('MouseEvents')
    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,
                          20, false, false, false, false, 0, null)
    node.dispatchEvent(evt)
  }
}

var saveAs = _global.saveAs || (
  //è¿™æ®µä»£ç å¯èƒ½é€‚ç”¨åœ¨æŸäº›æµè§ˆå™¨å·¥ä½œä¸Š
  (typeof window !== 'object' || window !== _global)
    ? function saveAs () { /*ç©ºæ“ä½œ*/ }

  // å¦‚æœå¯èƒ½ï¼Œé¦–å…ˆä½¿ç”¨å…¶ä¸‹è½½å±æ€§ï¼ˆ#193ï¼ˆè¯ºåŸºäºšLumiaæ‰‹æœºâ€¦â€¦å•Šè¿™â€¦â€¦ï¼‰ï¼‰ 
  : 'download' in HTMLAnchorElement.prototype
  ? function saveAs (blob, name, opts) {
    var URL = _global.URL || _global.webkitURL
    var a = document.createElement('a')
    name = name || blob.name || 'download'

    a.download = name
    a.rel = 'noopener' //tabnabbingï¼ˆé’“é±¼æ ‡ç­¾ï¼Œæƒ³äº†è§£è‡ªè¡Œæœç´¢ï¼‰

    //æ£€æµ‹chromeæµè§ˆå™¨çš„æ‰©å±•å’Œæ‰“åŒ…åº”ç”¨ç¨‹åº
    // a.target = '_blank'

    if (typeof blob === 'string') {
      //æ”¯æŒå¸¸è§„é“¾æ¥ 
      a.href = blob
      if (a.origin !== location.origin) {
        corsEnabled(a.href)
          ? download(blob, name, opts)
          : click(a, a.target = '_blank')
      } else {
        click(a)
      }
    } else {
      //ä½¿ç”¨blobæ¥å£
      a.href = URL.createObjectURL(blob)
      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) //å»¶è¿Ÿ40ç§’åæ‰§è¡Œ
      setTimeout(function () { click(a) }, 0)
    }
  }

  //ä½¿ç”¨msSaveOrOpenBlobä½œä¸ºç¬¬äºŒç§æ–¹æ³• 
  : 'msSaveOrOpenBlob' in navigator
  ? function saveAs (blob, name, opts) {
    name = name || blob.name || 'download'

    if (typeof blob === 'string') {
      if (corsEnabled(blob)) {
        download(blob, name, opts)
      } else {
        var a = document.createElement('a')
        a.href = blob
        a.target = '_blank'
        setTimeout(function () { click(a) })
      }
    } else {
      navigator.msSaveOrOpenBlob(bom(blob, opts), name)
    }
  }

  //é€€å›åˆ°ä½¿ç”¨FileReaderå’Œå¼¹å‡ºçª—å£
  : function saveAs (blob, name, opts, popup) {
    //ç«‹å³æ‰“å¼€å¼¹çª—ï¼Œè·³è¿‡å¼¹çª—æ‹¦æˆª
    //å¤§å¤šæ•°æƒ…å†µä¸‹ä»…åœ¨ç”¨æˆ·äº¤äº’æ—¶å¯ç”¨ï¼Œå¹¶ä¸”fileReaderæ˜¯å¼‚æ­¥çš„ï¼Œå› æ­¤â€¦â€¦ï¼ˆå•¥ï¼Ÿï¼‰
    popup = popup || open('', '_blank')
    if (popup) {
      popup.document.title =
      popup.document.body.innerText = 'downloading...'
    }

    if (typeof blob === 'string') return download(blob, name, opts)

    var force = blob.type === 'application/octet-stream'
    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari
    var isChromeIOS = /CriOS\/[\d]+/.test(navigator.userAgent)

    if ((isChromeIOS || (force && isSafari)) && typeof FileReader !== 'undefined') {
      //Safariä¸å…è®¸ä¸‹è½½blob URLï¼ˆè‹¹æœâ€¦â€¦ï¼‰
      var reader = new FileReader()
      reader.onloadend = function () {
        var url = reader.result
        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')
        if (popup) popup.location.href = url
        else location = url
        popup = null //åå‘tabnabbing(#460)
      }
      reader.readAsDataURL(blob)
    } else {
      var URL = _global.URL || _global.webkitURL
      var url = URL.createObjectURL(blob)
      if (popup) popup.location = url
      else location.href = url
      popup = null //åå‘tabnabbing(#460)
      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4)//å»¶è¿Ÿ40ç§’åæ‰§è¡Œ
    }
  }
)

_global.saveAs = saveAs.saveAs = saveAs

if (typeof module !== 'undefined') {
  module.exports = saveAs;
}
</script>
